import{defineComponent as O,ref as g,computed as l,watch as _,openBlock as u,createElementBlock as v,Fragment as B,renderList as j,normalizeClass as A,createBlock as I,resolveDynamicComponent as R}from"vue";import{a as b,b as h}from"./vueuse-B28Glbfg.js";import{$ as p,g as w,d as k,b as M,a as y,p as C,r as z,s as S,t as V,_ as D}from"./index-DU3ExYXG.js";import{b as $}from"./vue-router-DgSFFxGk.js";import"./unocss-Sc4JooVO.js";import"./ofetch-C2qHvINx.js";import"./destr-CVtkxrq9.js";import"./ufo-CsG24Xhf.js";import"./magic-string-Ci9uVji-.js";import"./jridgewell-BQ5JxrZg.js";import"./ajv-B9jPN_u1.js";import"./fast-deep-equal-DhA4GXGS.js";import"./json-schema-traverse-DW8_mBst.js";import"./fast-uri-WMTOr92D.js";import"./ajv-keywords-C7uUwL6G.js";import"./uuid-random-BBDbE0jX.js";import"./iconify-DZNnka9g.js";import"./unhead-DyRpM8pl.js";import"./hookable-B8xFkYCm.js";import"./vue3-sfc-loader-DxcuOqa0.js";import"./vue-Cow_pXkh.js";const F=O({__name:"MultiView",setup(x,{expose:c}){c();const s=g([]),r=$(),i=l(()=>Object.fromEntries(p.value.map(e=>[e.id,w(e)]))),m=({id:e})=>i.value[e],t=l(()=>new Map(p.value.map(({id:e})=>[e,!1]))),a=()=>{const e=[...t.value.entries()].find(([,o])=>o)?.[0];!C.value&&e&&e!==V.value?.id&&(S.value=!1,r.push({name:e}).catch(()=>{}))};b(window,{behavior:M,onStop:a});const d=([{isIntersecting:e,target:{id:o}}])=>{t.value.set(o,e)},n=[];_(s,e=>{n.forEach(o=>{o()}),n.length=0,e.forEach(o=>{const{stop:E}=h(o,d,{threshold:y});n.push(E)})},{deep:k});const f={refs:s,router:r,templates:i,template:m,intersecting:t,onStop:a,callback:d,stops:n,get useIntersectionObserver(){return h},get useScroll(){return b},get behavior(){return M},get deep(){return k},get threshold(){return y},computed:l,ref:g,watch:_,get useRouter(){return $},get $siblings(){return p},get getAsyncComponent(){return w},get paused(){return C},get resolve(){return z},get scroll(){return S},get that(){return V}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),L=["id","role"];function P(x,c,s,r,i,m){return u(!0),v(B,null,j(r.$siblings,t=>(u(),v("div",{class:A(t.class),id:t.id,key:t.id,role:t.id===r.that?.id?"main":void 0,ref_for:!0,ref:"refs","un-cloak":""},[(u(),I(R(r.template(t)),{id:t.id,onVnodeMounted:a=>r.resolve(t)},null,8,["id","onVnodeMounted"]))],10,L))),128)}const le=D(F,[["render",P],["__file","MultiView.vue"]]);export{le as default};
