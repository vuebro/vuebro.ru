import{c as j}from"./debug-BJdhDyZ3.js";const V=Object.freeze({left:0,top:0,width:16,height:16}),$=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),C=Object.freeze({...V,...$}),G=Object.freeze({...C,body:"",hidden:!1}),T=Object.freeze({width:null,height:null}),D=Object.freeze({...T,...$});function z(t,i){const s={};!t.hFlip!=!i.hFlip&&(s.hFlip=!0),!t.vFlip!=!i.vFlip&&(s.vFlip=!0);const n=((t.rotate||0)+(i.rotate||0))%4;return n&&(s.rotate=n),s}function p(t,i){const s=z(t,i);for(const n in G)n in $?n in t&&!(n in s)&&(s[n]=$[n]):n in i?s[n]=i[n]:n in t&&(s[n]=t[n]);return s}function A(t,i){const s=t.icons,n=t.aliases||Object.create(null),e=Object.create(null);function c(l){if(s[l])return e[l]=[];if(!(l in e)){e[l]=null;const r=n[l]&&n[l].parent,o=r&&c(r);o&&(e[l]=[r].concat(o))}return e[l]}return(i||Object.keys(s).concat(Object.keys(n))).forEach(c),e}function F(t,i,s){const n=t.icons,e=t.aliases||Object.create(null);let c={};function l(r){c=p(n[r]||e[r],c)}return l(i),s.forEach(l),p(t,c)}function N(t,i){if(t.icons[i])return F(t,i,[]);const s=A(t,[i])[i];return s?F(t,i,s):null}const P=/(-?[0-9.]*[0-9]+[0-9.]*)/g,W=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function v(t,i,s){if(i===1)return t;if(s=s||100,typeof t=="number")return Math.ceil(t*i*s)/s;if(typeof t!="string")return t;const n=t.split(P);if(n===null||!n.length)return t;const e=[];let c=n.shift(),l=W.test(c);for(;;){if(l){const r=parseFloat(c);isNaN(r)?e.push(c):e.push(Math.ceil(r*i*s)/s)}else e.push(c);if(c=n.shift(),c===void 0)return e.join("");l=!l}}function R(t,i="defs"){let s="";const n=t.indexOf("<"+i);for(;n>=0;){const e=t.indexOf(">",n),c=t.indexOf("</"+i);if(e===-1||c===-1)break;const l=t.indexOf(">",c);if(l===-1)break;s+=t.slice(e+1,c).trim(),t=t.slice(0,n).trim()+t.slice(l+1)}return{defs:s,content:t}}function H(t,i){return t?"<defs>"+t+"</defs>"+i:i}function M(t,i,s){const n=R(t);return H(n.defs,i+n.content+s)}const k=t=>t==="unset"||t==="undefined"||t==="none";function B(t,i){const s={...C,...t},n={...D,...i},e={left:s.left,top:s.top,width:s.width,height:s.height};let c=s.body;[s,n].forEach(u=>{const f=[],S=u.hFlip,b=u.vFlip;let y=u.rotate;S?b?y+=2:(f.push("translate("+(e.width+e.left).toString()+" "+(0-e.top).toString()+")"),f.push("scale(-1 1)"),e.top=e.left=0):b&&(f.push("translate("+(0-e.left).toString()+" "+(e.height+e.top).toString()+")"),f.push("scale(1 -1)"),e.top=e.left=0);let g;switch(y<0&&(y-=Math.floor(y/4)*4),y=y%4,y){case 1:g=e.height/2+e.top,f.unshift("rotate(90 "+g.toString()+" "+g.toString()+")");break;case 2:f.unshift("rotate(180 "+(e.width/2+e.left).toString()+" "+(e.height/2+e.top).toString()+")");break;case 3:g=e.width/2+e.left,f.unshift("rotate(-90 "+g.toString()+" "+g.toString()+")");break}y%2===1&&(e.left!==e.top&&(g=e.left,e.left=e.top,e.top=g),e.width!==e.height&&(g=e.width,e.width=e.height,e.height=g)),f.length&&(c=M(c,'<g transform="'+f.join(" ")+'">',"</g>"))});const l=n.width,r=n.height,o=e.width,h=e.height;let a,x;l===null?(x=r===null?"1em":r==="auto"?h:r,a=v(x,o/h)):(a=l==="auto"?o:l,x=r===null?v(a,h/o):r==="auto"?h:r);const w={},m=(u,f)=>{k(f)||(w[u]=f.toString())};m("width",a),m("height",x);const d=[e.left,e.top,o,h];return w.viewBox=d.join(" "),{attributes:w,viewBox:d,body:c}}function L(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function _(t){let i=t.startsWith("<svg>")?t.replace("<svg>","<svg >"):t;return!i.includes(" xmlns:xlink=")&&i.includes(" xlink:")&&(i=i.replace("<svg ",'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ')),i.includes(" xmlns=")||(i=i.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')),L(i)}function U(t){return t.replace(/(['"])\s*\n\s*([^>\\/\s])/g,"$1 $2").replace(/(["';{}><])\s*\n\s*/g,"$1").replace(/\s*\n\s*/g," ").replace(/\s+"/g,'"').replace(/="\s+/g,'="').replace(/(\s)+\/>/g,"/>").trim()}const K=/\swidth\s*=\s*["']([\w.]+)["']/,X=/\sheight\s*=\s*["']([\w.]+)["']/,O=/<svg\s+/;function Z(t,i,s){const n=t.slice(0,t.indexOf(">")),e=(c,l)=>{const r=l.exec(n),o=r!=null,h=i[c];return!h&&!k(h)&&(typeof s=="number"?s>0&&(i[c]=v((r==null?void 0:r[1])??"1em",s)):r&&(i[c]=r[1])),o};return[e("width",K),e("height",X)]}async function E(t,i,s,n,e,c){const{scale:l,addXmlNs:r=!1}=n??{},{additionalProps:o={},iconCustomizer:h}=(n==null?void 0:n.customizations)??{},a=await(e==null?void 0:e())??{};await(h==null?void 0:h(i,s,a)),Object.keys(o).forEach(u=>{const f=o[u];f!=null&&(a[u]=f)}),c==null||c(a);const[x,w]=Z(t,a,l);r&&(!t.includes("xmlns=")&&!a.xmlns&&(a.xmlns="http://www.w3.org/2000/svg"),!t.includes("xmlns:xlink=")&&t.includes("xlink:")&&!a["xmlns:xlink"]&&(a["xmlns:xlink"]="http://www.w3.org/1999/xlink"));const m=Object.keys(a).map(u=>u==="width"&&x||u==="height"&&w?null:`${u}="${a[u]}"`).filter(u=>u!=null);if(m.length&&(t=t.replace(O,`<svg ${m.join(" ")} `)),n){const{defaultStyle:u,defaultClass:f}=n;f&&!t.includes("class=")&&(t=t.replace(O,`<svg class="${f}" `)),u&&!t.includes("style=")&&(t=t.replace(O,`<svg style="${u}" `))}const d=n==null?void 0:n.usedProps;return d&&(Object.keys(o).forEach(u=>{const f=a[u];f!=null&&(d[u]=f)}),typeof a.width<"u"&&a.width!==null&&(d.width=a.width),typeof a.height<"u"&&a.height!==null&&(d.height=a.height)),t}const q=j("@iconify-loader:custom");async function I(t,i,s,n){var c;let e;q(`${i}:${s}`);try{if(typeof t=="function")e=await t(s);else{const l=t[s];e=typeof l=="function"?await l():l}}catch(l){console.warn(`Failed to load custom icon "${s}" in "${i}":`,l);return}if(e){const l=e.indexOf("<svg");l>0&&(e=e.slice(l));const{transform:r}=(n==null?void 0:n.customizations)??{};return e=typeof r=="function"?await r(e,i,s):e,e.startsWith("<svg")?await E(((c=n==null?void 0:n.customizations)==null?void 0:c.trimCustomSvg)===!0?U(e):e,i,s,n,void 0):(console.warn(`Custom icon "${s}" in "${i}" is not a valid SVG`),e)}}const J=j("@iconify-loader:icon");async function Q(t,i,s,n){let e;const{customize:c}=(n==null?void 0:n.customizations)??{};for(const l of s)if(e=N(t,l),e){J(`${i}:${l}`);let r={...D};typeof c=="function"&&(e=Object.assign({},e),r=c(r,e,`${i}:${l}`)??r);const{attributes:{width:o,height:h,...a},body:x}=B(e,r),w=n==null?void 0:n.scale;return await E(`<svg >${x}</svg>`,i,l,n,()=>({...a}),m=>{const d=(u,f)=>{const S=m[u];let b;if(!k(S)){if(S)return;typeof w=="number"?w&&(b=v(f??"1em",w)):b=f}b?m[u]=b:delete m[u]};d("width",o),d("height",h)})}}const tt=async(t,i,s)=>{var e;const n=(e=s==null?void 0:s.customCollections)==null?void 0:e[t];if(n)if(typeof n=="function"){let c;try{c=await n(i)}catch(l){console.warn(`Failed to load custom icon "${i}" in "${t}":`,l);return}if(c){if(typeof c=="string")return await I(()=>c,t,i,s);if("icons"in c){const l=[i,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i.replace(/([a-z])(\d+)/g,"$1-$2")];return await Q(c,t,l,s)}}}else return await I(n,t,i,s)};export{_ as e,tt as l,Q as s};
