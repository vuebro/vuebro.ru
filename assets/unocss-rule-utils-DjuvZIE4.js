import{c as u,t as d,h as $}from"./unocss-core-D551XE6q.js";import{M as b}from"./magic-string-BGCKWeEl.js";function y(e,n,r){if(e==="")return;const t=e.length;let o=0,s=!1,c=0;for(let i=0;i<t;i++)switch(e[i]){case n:s||(s=!0,c=i),o++;break;case r:if(--o,o<0)return;if(o===0)return[e.slice(c,i+1),e.slice(i+1),e.slice(0,c)];break}}function w(e,n,r,t){if(e===""||($(t)&&(t=[t]),t.length===0))return;const o=e.length;let s=0;for(let c=0;c<o;c++)switch(e[c]){case n:s++;break;case r:if(--s<0)return;break;default:for(const i of t){const a=i.length;if(a&&i===e.slice(c,c+a)&&s===0)return c===0||c===o-a?void 0:[e.slice(0,c),e.slice(c+a)]}}return[e,""]}function l(e,n,r){r=r??10;const t=[];let o=0;for(;e!=="";){if(++o>r)return;const s=w(e,"(",")",n);if(!s)return;const[c,i]=s;t.push(c),e=i}if(t.length>0)return t}const f=["hsl","hsla","hwb","lab","lch","oklab","oklch","rgb","rgba"],p=["%alpha","<alpha-value>"],C=new RegExp(p.map(e=>u(e)).join("|"));function j(e=""){const n=k(e);if(n==null||n===!1)return;const{type:r,components:t,alpha:o}=n,s=r.toLowerCase();if(t.length!==0&&!(f.includes(s)&&![1,3].includes(t.length)))return{type:s,components:t.map(c=>typeof c=="string"?c.trim():c),alpha:typeof o=="string"?o.trim():o}}function L(e){const n=e.alpha??1;return typeof n=="string"&&p.includes(n)?1:n}function S(e,n){if(typeof e=="string")return e.replace(C,`${n??1}`);const{components:r}=e;let{alpha:t,type:o}=e;return t=n??t,o=o.toLowerCase(),["hsla","rgba"].includes(o)?`${o}(${r.join(", ")}${t==null?"":`, ${t}`})`:(t=t==null?"":` / ${t}`,f.includes(o)?`${o}(${r.join(" ")}${t})`:`color(${o} ${r.join(" ")}${t})`)}function k(e){if(!e)return;let n=v(e);if(n!=null||(n=E(e),n!=null)||(n=_(e),n!=null)||(n=x(e),n!=null)||(n=A(e),n!=null))return n}function v(e){const[,n]=e.match(/^#([\da-f]+)$/i)||[];if(n)switch(n.length){case 3:case 4:const r=Array.from(n,o=>Number.parseInt(o,16)).map(o=>o<<4|o);return{type:"rgb",components:r.slice(0,3),alpha:n.length===3?void 0:Math.round(r[3]/255*100)/100};case 6:case 8:const t=Number.parseInt(n,16);return{type:"rgb",components:n.length===6?[t>>16&255,t>>8&255,t&255]:[t>>24&255,t>>16&255,t>>8&255],alpha:n.length===6?void 0:Math.round((t&255)/255*100)/100}}}function E(e){const n={rebeccapurple:[102,51,153,1]}[e];if(n!=null)return{type:"rgb",components:n.slice(0,3),alpha:n[3]}}function _(e){const n=e.match(/^(rgb|rgba|hsl|hsla)\((.+)\)$/i);if(!n)return;const[,r,t]=n,o=l(t,",",5);if(o){if([3,4].includes(o.length))return{type:r,components:o.slice(0,3),alpha:o[3]};if(o.length!==1)return!1}}const F=new RegExp(`^(${f.join("|")})\\((.+)\\)$`,"i");function x(e){const n=e.match(F);if(!n)return;const[,r,t]=n,o=g(`${r} ${t}`);if(o){const{alpha:s,components:[c,...i]}=o;return{type:c,components:i,alpha:s}}}function A(e){const n=e.match(/^color\((.+)\)$/);if(!n)return;const r=g(n[1]);if(r){const{alpha:t,components:[o,...s]}=r;return{type:o,components:s,alpha:t}}}function g(e){const n=l(e," ");if(!n)return;let r=n.length;if(n[r-2]==="/")return{components:n.slice(0,r-2),alpha:n[r-1]};if(n[r-2]!=null&&(n[r-2].endsWith("/")||n[r-1].startsWith("/"))){const s=n.splice(r-2);n.push(s.join(" ")),--r}const t=l(n[r-1],"/",2);if(!t)return;if(t.length===1||t[t.length-1]==="")return{components:n};const o=t.pop();return n[r-1]=t.join("/"),{components:n,alpha:o}}function O(e){const n=function(t){var s;const o=((s=this.__options)==null?void 0:s.sequence)||[];this.__options.sequence=[];for(const c of o){const i=e[c](t);if(i!=null)return i}};function r(t,o){return t.__options||(t.__options={sequence:[]}),t.__options.sequence.push(o),t}for(const t of Object.keys(e))Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get(){return r(this,t)}});return n}const P=/theme\(\s*(['"])?(.*?)\1?\s*\)/g;function B(e){return e.includes("theme(")&&e.includes(")")}function G(e,n,r=!0){const t=Array.from(e.toString().matchAll(P));if(!t.length)return e;const o=new b(e);for(const s of t){const c=s[2];if(!c)throw new Error("theme() expect exact one argument, but got 0");const i=R(c,n,r);i&&o.overwrite(s.index,s.index+s[0].length,i)}return o.toString()}function R(e,n,r=!0){const[t,o]=e.split("/");let c=t.trim().split(".").reduce((i,a)=>i==null?void 0:i[a],n);if(typeof c=="object"&&(c=c.DEFAULT),typeof c=="string"){if(o){const i=j(c);i&&(c=S(i,o))}return c}else if(r)throw new Error(`theme of "${e}" did not found`)}function H(e,n){let r;return{name:e,match(t,o){r||(r=new RegExp(`^${u(e)}(?:${o.generator.config.separators.join("|")})`));const s=t.match(r);if(s){const c=t.slice(s[0].length),i=d(n).map(a=>({matcher:c,handle:(h,m)=>m({...h,...a(h)})}));return i.length===1?i[0]:i}},autocomplete:`${e}:`}}function I(e,n){let r;return{name:e,match(t,o){r||(r=new RegExp(`^${u(e)}(?:${o.generator.config.separators.join("|")})`));const s=t.match(r);if(s)return{matcher:t.slice(s[0].length),handle:(c,i)=>i({...c,parent:`${c.parent?`${c.parent} $$ `:""}${n}`})}},autocomplete:`${e}:`}}function T(e,n,r){if(n.startsWith(`${e}[`)){const[t,o]=y(n.slice(e.length),"[","]")??[];if(t&&o){for(const s of r)if(o.startsWith(s))return[t,o.slice(s.length),s];return[t,o,""]}}}function M(e,n,r){if(n.startsWith(e)){const t=T(e,n,r);if(t){const[o="",s=t[1]]=M("/",t[1],r)??[];return[t[0],s,o]}for(const o of r.filter(s=>s!=="/")){const s=n.indexOf(o,e.length);if(s!==-1){const c=n.indexOf("/",e.length),i=c===-1||s<=c;return[n.slice(e.length,i?s:c),n.slice(s+o.length),i?"":n.slice(c+1,s)]}}}}export{S as a,L as b,O as c,l as d,H as e,I as f,w as g,T as h,y as i,B as j,p as k,j as p,G as t,M as v};
