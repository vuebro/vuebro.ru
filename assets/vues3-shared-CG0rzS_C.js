import{f as nn}from"./vues3-flat-json-tree-DWn-WHoD.js";import{g as sn,d as Br}from"./ajv-keywords-CuM6mo8B.js";import{r as Wr}from"./fast-deep-equal-C148XJoK.js";import{r as an}from"./fast-uri-J6I7s6O_.js";import{reactive as Qr,watch as Xr}from"vue";import{v as on}from"./uuid-C_lTrkZC.js";var je={exports:{}},wt={},he={},$e={},bt={},Et={},Pt={},Dt;function ft(){return Dt||(Dt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class b extends t{constructor(r){if(super(),!e.IDENTIFIER.test(r))throw new Error("CodeGen: name must be a valid identifier");this.str=r}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=b;class o extends t{constructor(r){super(),this._items=typeof r=="string"?[r]:r}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const r=this._items[0];return r===""||r==='""'}get str(){var r;return(r=this._str)!==null&&r!==void 0?r:this._str=this._items.reduce((f,_)=>`${f}${_}`,"")}get names(){var r;return(r=this._names)!==null&&r!==void 0?r:this._names=this._items.reduce((f,_)=>(_ instanceof b&&(f[_.str]=(f[_.str]||0)+1),f),{})}}e._Code=o,e.nil=new o("");function g(c,...r){const f=[c[0]];let _=0;for(;_<r.length;)a(f,r[_]),f.push(c[++_]);return new o(f)}e._=g;const n=new o("+");function u(c,...r){const f=[S(c[0])];let _=0;for(;_<r.length;)f.push(n),a(f,r[_]),f.push(n,S(c[++_]));return i(f),new o(f)}e.str=u;function a(c,r){r instanceof o?c.push(...r._items):r instanceof b?c.push(r):c.push(w(r))}e.addCodeArg=a;function i(c){let r=1;for(;r<c.length-1;){if(c[r]===n){const f=y(c[r-1],c[r+1]);if(f!==void 0){c.splice(r-1,3,f);continue}c[r++]="+"}r++}}function y(c,r){if(r==='""')return c;if(c==='""')return r;if(typeof c=="string")return r instanceof b||c[c.length-1]!=='"'?void 0:typeof r!="string"?`${c.slice(0,-1)}${r}"`:r[0]==='"'?c.slice(0,-1)+r.slice(1):void 0;if(typeof r=="string"&&r[0]==='"'&&!(c instanceof b))return`"${c}${r.slice(1)}`}function m(c,r){return r.emptyStr()?c:c.emptyStr()?r:u`${c}${r}`}e.strConcat=m;function w(c){return typeof c=="number"||typeof c=="boolean"||c===null?c:S(Array.isArray(c)?c.join(","):c)}function N(c){return new o(S(c))}e.stringify=N;function S(c){return JSON.stringify(c).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=S;function E(c){return typeof c=="string"&&e.IDENTIFIER.test(c)?new o(`.${c}`):g`[${c}]`}e.getProperty=E;function P(c){if(typeof c=="string"&&e.IDENTIFIER.test(c))return new o(`${c}`);throw new Error(`CodeGen: invalid export name: ${c}, use explicit $id name mapping`)}e.getEsmExportName=P;function d(c){return new o(c.toString())}e.regexpCode=d}(Pt)),Pt}var St={},Vt;function Ft(){return Vt||(Vt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ft();class b extends Error{constructor(y){super(`CodeGen: "code" for ${y} not defined`),this.value=y.value}}var o;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(o||(e.UsedValueState=o={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class g{constructor({prefixes:y,parent:m}={}){this._names={},this._prefixes=y,this._parent=m}toName(y){return y instanceof t.Name?y:this.name(y)}name(y){return new t.Name(this._newName(y))}_newName(y){const m=this._names[y]||this._nameGroup(y);return`${y}${m.index++}`}_nameGroup(y){var m,w;if(!((w=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||w===void 0)&&w.has(y)||this._prefixes&&!this._prefixes.has(y))throw new Error(`CodeGen: prefix "${y}" is not allowed in this scope`);return this._names[y]={prefix:y,index:0}}}e.Scope=g;class n extends t.Name{constructor(y,m){super(m),this.prefix=y}setValue(y,{property:m,itemIndex:w}){this.value=y,this.scopePath=(0,t._)`.${new t.Name(m)}[${w}]`}}e.ValueScopeName=n;const u=(0,t._)`\n`;class a extends g{constructor(y){super(y),this._values={},this._scope=y.scope,this.opts={...y,_n:y.lines?u:t.nil}}get(){return this._scope}name(y){return new n(y,this._newName(y))}value(y,m){var w;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const N=this.toName(y),{prefix:S}=N,E=(w=m.key)!==null&&w!==void 0?w:m.ref;let P=this._values[S];if(P){const r=P.get(E);if(r)return r}else P=this._values[S]=new Map;P.set(E,N);const d=this._scope[S]||(this._scope[S]=[]),c=d.length;return d[c]=m.ref,N.setValue(m,{property:S,itemIndex:c}),N}getValue(y,m){const w=this._values[y];if(w)return w.get(m)}scopeRefs(y,m=this._values){return this._reduceValues(m,w=>{if(w.scopePath===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return(0,t._)`${y}${w.scopePath}`})}scopeCode(y=this._values,m,w){return this._reduceValues(y,N=>{if(N.value===void 0)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},m,w)}_reduceValues(y,m,w={},N){let S=t.nil;for(const E in y){const P=y[E];if(!P)continue;const d=w[E]=w[E]||new Map;P.forEach(c=>{if(d.has(c))return;d.set(c,o.Started);let r=m(c);if(r){const f=this.opts.es5?e.varKinds.var:e.varKinds.const;S=(0,t._)`${S}${f} ${c} = ${r};${this.opts._n}`}else if(r=N==null?void 0:N(c))S=(0,t._)`${S}${r}${this.opts._n}`;else throw new b(c);d.set(c,o.Completed)})}return S}}e.ValueScope=a}(St)),St}var Kt;function H(){return Kt||(Kt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ft(),b=Ft();var o=ft();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return o.Name}});var g=Ft();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames(s,p){return this}}class u extends n{constructor(s,p,O){super(),this.varKind=s,this.name=p,this.rhs=O}render({es5:s,_n:p}){const O=s?b.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${V};`+p}optimizeNames(s,p){if(s[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,s,p)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends n{constructor(s,p,O){super(),this.lhs=s,this.rhs=p,this.sideEffects=O}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,p){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,s,p),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return L(s,this.rhs)}}class i extends a{constructor(s,p,O,V){super(s,O,V),this.op=p}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class y extends n{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class m extends n{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class w extends n{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class N extends n{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,p){return this.code=W(this.code,s,p),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class S extends n{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((p,O)=>p+O.render(s),"")}optimizeNodes(){const{nodes:s}=this;let p=s.length;for(;p--;){const O=s[p].optimizeNodes();Array.isArray(O)?s.splice(p,1,...O):O?s[p]=O:s.splice(p,1)}return s.length>0?this:void 0}optimizeNames(s,p){const{nodes:O}=this;let V=O.length;for(;V--;){const U=O[V];U.optimizeNames(s,p)||(x(s,U.names),O.splice(V,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((s,p)=>z(s,p.names),{})}}class E extends S{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class P extends S{}class d extends E{}d.kind="else";class c extends E{constructor(s,p){super(p),this.condition=s}render(s){let p=`if(${this.condition})`+super.render(s);return this.else&&(p+="else "+this.else.render(s)),p}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let p=this.else;if(p){const O=p.optimizeNodes();p=this.else=Array.isArray(O)?new d(O):O}if(p)return s===!1?p instanceof c?p:p.nodes:this.nodes.length?this:new c(de(s),p instanceof c?[p]:p.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,p){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(s,p),!!(super.optimizeNames(s,p)||this.else))return this.condition=W(this.condition,s,p),this}get names(){const s=super.names;return L(s,this.condition),this.else&&z(s,this.else.names),s}}c.kind="if";class r extends E{}r.kind="for";class f extends r{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,p){if(super.optimizeNames(s,p))return this.iteration=W(this.iteration,s,p),this}get names(){return z(super.names,this.iteration.names)}}class _ extends r{constructor(s,p,O,V){super(),this.varKind=s,this.name=p,this.from=O,this.to=V}render(s){const p=s.es5?b.varKinds.var:this.varKind,{name:O,from:V,to:U}=this;return`for(${p} ${O}=${V}; ${O}<${U}; ${O}++)`+super.render(s)}get names(){const s=L(super.names,this.from);return L(s,this.to)}}class h extends r{constructor(s,p,O,V){super(),this.loop=s,this.varKind=p,this.name=O,this.iterable=V}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,p){if(super.optimizeNames(s,p))return this.iterable=W(this.iterable,s,p),this}get names(){return z(super.names,this.iterable.names)}}class l extends E{constructor(s,p,O){super(),this.name=s,this.args=p,this.async=O}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}l.kind="func";class $ extends S{render(s){return"return "+super.render(s)}}$.kind="return";class T extends E{render(s){let p="try"+super.render(s);return this.catch&&(p+=this.catch.render(s)),this.finally&&(p+=this.finally.render(s)),p}optimizeNodes(){var s,p;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(p=this.finally)===null||p===void 0||p.optimizeNodes(),this}optimizeNames(s,p){var O,V;return super.optimizeNames(s,p),(O=this.catch)===null||O===void 0||O.optimizeNames(s,p),(V=this.finally)===null||V===void 0||V.optimizeNames(s,p),this}get names(){const s=super.names;return this.catch&&z(s,this.catch.names),this.finally&&z(s,this.finally.names),s}}class A extends E{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}A.kind="catch";class D extends E{render(s){return"finally"+super.render(s)}}D.kind="finally";class F{constructor(s,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?`
`:""},this._extScope=s,this._scope=new b.Scope({parent:s}),this._nodes=[new P]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,p){const O=this._extScope.value(s,p);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(s,p){return this._extScope.getValue(s,p)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,p,O,V){const U=this._scope.toName(p);return O!==void 0&&V&&(this._constants[U.str]=O),this._leafNode(new u(s,U,O)),U}const(s,p,O){return this._def(b.varKinds.const,s,p,O)}let(s,p,O){return this._def(b.varKinds.let,s,p,O)}var(s,p,O){return this._def(b.varKinds.var,s,p,O)}assign(s,p,O){return this._leafNode(new a(s,p,O))}add(s,p){return this._leafNode(new i(s,e.operators.ADD,p))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new N(s)),this}object(...s){const p=["{"];for(const[O,V]of s)p.length>1&&p.push(","),p.push(O),(O!==V||this.opts.es5)&&(p.push(":"),(0,t.addCodeArg)(p,V));return p.push("}"),new t._Code(p)}if(s,p,O){if(this._blockNode(new c(s)),p&&O)this.code(p).else().code(O).endIf();else if(p)this.code(p).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new c(s))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(c,d)}_for(s,p){return this._blockNode(s),p&&this.code(p).endFor(),this}for(s,p){return this._for(new f(s),p)}forRange(s,p,O,V,U=this.opts.es5?b.varKinds.var:b.varKinds.let){const X=this._scope.toName(s);return this._for(new _(U,X,p,O),()=>V(X))}forOf(s,p,O,V=b.varKinds.const){const U=this._scope.toName(s);if(this.opts.es5){const X=p instanceof t.Name?p:this.var("_arr",p);return this.forRange("_i",0,(0,t._)`${X}.length`,B=>{this.var(U,(0,t._)`${X}[${B}]`),O(U)})}return this._for(new h("of",V,U,p),()=>O(U))}forIn(s,p,O,V=this.opts.es5?b.varKinds.var:b.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${p})`,O);const U=this._scope.toName(s);return this._for(new h("in",V,U,p),()=>O(U))}endFor(){return this._endBlockNode(r)}label(s){return this._leafNode(new y(s))}break(s){return this._leafNode(new m(s))}return(s){const p=new $;if(this._blockNode(p),this.code(s),p.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(s,p,O){if(!p&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new T;if(this._blockNode(V),this.code(s),p){const U=this.name("e");this._currNode=V.catch=new A(U),p(U)}return O&&(this._currNode=V.finally=new D,this.code(O)),this._endBlockNode(A,D)}throw(s){return this._leafNode(new w(s))}block(s,p){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(p),this}endBlock(s){const p=this._blockStarts.pop();if(p===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-p;if(O<0||s!==void 0&&O!==s)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${s} expected`);return this._nodes.length=p,this}func(s,p=t.nil,O,V){return this._blockNode(new l(s,p,O)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(l)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,p){const O=this._currNode;if(O instanceof s||p&&O instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${s.kind}/${p.kind}`:s.kind}"`)}_elseNode(s){const p=this._currNode;if(!(p instanceof c))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const p=this._nodes;p[p.length-1]=s}}e.CodeGen=F;function z(k,s){for(const p in s)k[p]=(k[p]||0)+(s[p]||0);return k}function L(k,s){return s instanceof t._CodeOrName?z(k,s.names):k}function W(k,s,p){if(k instanceof t.Name)return O(k);if(!V(k))return k;return new t._Code(k._items.reduce((U,X)=>(X instanceof t.Name&&(X=O(X)),X instanceof t._Code?U.push(...X._items):U.push(X),U),[]));function O(U){const X=p[U.str];return X===void 0||s[U.str]!==1?U:(delete s[U.str],X)}function V(U){return U instanceof t._Code&&U._items.some(X=>X instanceof t.Name&&s[X.str]===1&&p[X.str]!==void 0)}}function x(k,s){for(const p in s)k[p]=(k[p]||0)-(s[p]||0)}function de(k){return typeof k=="boolean"||typeof k=="number"||k===null?!k:(0,t._)`!${I(k)}`}e.not=de;const fe=R(e.operators.AND);function Z(...k){return k.reduce(fe)}e.and=Z;const ye=R(e.operators.OR);function q(...k){return k.reduce(ye)}e.or=q;function R(k){return(s,p)=>s===t.nil?p:p===t.nil?s:(0,t._)`${I(s)} ${k} ${I(p)}`}function I(k){return k instanceof t.Name?k:(0,t._)`(${k})`}}(Et)),Et}var G={},Ut;function Q(){if(Ut)return G;Ut=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const e=H(),t=ft();function b(h){const l={};for(const $ of h)l[$]=!0;return l}G.toHash=b;function o(h,l){return typeof l=="boolean"?l:Object.keys(l).length===0?!0:(g(h,l),!n(l,h.self.RULES.all))}G.alwaysValidSchema=o;function g(h,l=h.schema){const{opts:$,self:T}=h;if(!$.strictSchema||typeof l=="boolean")return;const A=T.RULES.keywords;for(const D in l)A[D]||_(h,`unknown keyword: "${D}"`)}G.checkUnknownRules=g;function n(h,l){if(typeof h=="boolean")return!h;for(const $ in h)if(l[$])return!0;return!1}G.schemaHasRules=n;function u(h,l){if(typeof h=="boolean")return!h;for(const $ in h)if($!=="$ref"&&l.all[$])return!0;return!1}G.schemaHasRulesButRef=u;function a({topSchemaRef:h,schemaPath:l},$,T,A){if(!A){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return(0,e._)`${$}`}return(0,e._)`${h}${l}${(0,e.getProperty)(T)}`}G.schemaRefOrVal=a;function i(h){return w(decodeURIComponent(h))}G.unescapeFragment=i;function y(h){return encodeURIComponent(m(h))}G.escapeFragment=y;function m(h){return typeof h=="number"?`${h}`:h.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=m;function w(h){return h.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=w;function N(h,l){if(Array.isArray(h))for(const $ of h)l($);else l(h)}G.eachItem=N;function S({mergeNames:h,mergeToName:l,mergeValues:$,resultToName:T}){return(A,D,F,z)=>{const L=F===void 0?D:F instanceof e.Name?(D instanceof e.Name?h(A,D,F):l(A,D,F),F):D instanceof e.Name?(l(A,F,D),D):$(D,F);return z===e.Name&&!(L instanceof e.Name)?T(A,L):L}}G.mergeEvaluated={props:S({mergeNames:(h,l,$)=>h.if((0,e._)`${$} !== true && ${l} !== undefined`,()=>{h.if((0,e._)`${l} === true`,()=>h.assign($,!0),()=>h.assign($,(0,e._)`${$} || {}`).code((0,e._)`Object.assign(${$}, ${l})`))}),mergeToName:(h,l,$)=>h.if((0,e._)`${$} !== true`,()=>{l===!0?h.assign($,!0):(h.assign($,(0,e._)`${$} || {}`),P(h,$,l))}),mergeValues:(h,l)=>h===!0?!0:{...h,...l},resultToName:E}),items:S({mergeNames:(h,l,$)=>h.if((0,e._)`${$} !== true && ${l} !== undefined`,()=>h.assign($,(0,e._)`${l} === true ? true : ${$} > ${l} ? ${$} : ${l}`)),mergeToName:(h,l,$)=>h.if((0,e._)`${$} !== true`,()=>h.assign($,l===!0?!0:(0,e._)`${$} > ${l} ? ${$} : ${l}`)),mergeValues:(h,l)=>h===!0?!0:Math.max(h,l),resultToName:(h,l)=>h.var("items",l)})};function E(h,l){if(l===!0)return h.var("props",!0);const $=h.var("props",(0,e._)`{}`);return l!==void 0&&P(h,$,l),$}G.evaluatedPropsToName=E;function P(h,l,$){Object.keys($).forEach(T=>h.assign((0,e._)`${l}${(0,e.getProperty)(T)}`,!0))}G.setEvaluated=P;const d={};function c(h,l){return h.scopeValue("func",{ref:l,code:d[l.code]||(d[l.code]=new t._Code(l.code))})}G.useFunc=c;var r;(function(h){h[h.Num=0]="Num",h[h.Str=1]="Str"})(r||(G.Type=r={}));function f(h,l,$){if(h instanceof e.Name){const T=l===r.Num;return $?T?(0,e._)`"[" + ${h} + "]"`:(0,e._)`"['" + ${h} + "']"`:T?(0,e._)`"/" + ${h}`:(0,e._)`"/" + ${h}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,e.getProperty)(h).toString():"/"+m(h)}G.getErrorPath=f;function _(h,l,$=h.opts.strictSchema){if($){if(l=`strict mode: ${l}`,$===!0)throw new Error(l);h.self.logger.warn(l)}}return G.checkStrictMode=_,G}var ke={},Lt;function ge(){if(Lt)return ke;Lt=1,Object.defineProperty(ke,"__esModule",{value:!0});const e=H(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return ke.default=t,ke}var zt;function mt(){return zt||(zt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=H(),b=Q(),o=ge();e.keywordError={message:({keyword:d})=>(0,t.str)`must pass "${d}" keyword validation`},e.keyword$DataError={message:({keyword:d,schemaType:c})=>c?(0,t.str)`"${d}" keyword must be ${c} ($data)`:(0,t.str)`"${d}" keyword is invalid ($data)`};function g(d,c=e.keywordError,r,f){const{it:_}=d,{gen:h,compositeRule:l,allErrors:$}=_,T=w(d,c,r);f??(l||$)?i(h,T):y(_,(0,t._)`[${T}]`)}e.reportError=g;function n(d,c=e.keywordError,r){const{it:f}=d,{gen:_,compositeRule:h,allErrors:l}=f,$=w(d,c,r);i(_,$),h||l||y(f,o.default.vErrors)}e.reportExtraError=n;function u(d,c){d.assign(o.default.errors,c),d.if((0,t._)`${o.default.vErrors} !== null`,()=>d.if(c,()=>d.assign((0,t._)`${o.default.vErrors}.length`,c),()=>d.assign(o.default.vErrors,null)))}e.resetErrorsCount=u;function a({gen:d,keyword:c,schemaValue:r,data:f,errsCount:_,it:h}){if(_===void 0)throw new Error("ajv implementation error");const l=d.name("err");d.forRange("i",_,o.default.errors,$=>{d.const(l,(0,t._)`${o.default.vErrors}[${$}]`),d.if((0,t._)`${l}.instancePath === undefined`,()=>d.assign((0,t._)`${l}.instancePath`,(0,t.strConcat)(o.default.instancePath,h.errorPath))),d.assign((0,t._)`${l}.schemaPath`,(0,t.str)`${h.errSchemaPath}/${c}`),h.opts.verbose&&(d.assign((0,t._)`${l}.schema`,r),d.assign((0,t._)`${l}.data`,f))})}e.extendErrors=a;function i(d,c){const r=d.const("err",c);d.if((0,t._)`${o.default.vErrors} === null`,()=>d.assign(o.default.vErrors,(0,t._)`[${r}]`),(0,t._)`${o.default.vErrors}.push(${r})`),d.code((0,t._)`${o.default.errors}++`)}function y(d,c){const{gen:r,validateName:f,schemaEnv:_}=d;_.$async?r.throw((0,t._)`new ${d.ValidationError}(${c})`):(r.assign((0,t._)`${f}.errors`,c),r.return(!1))}const m={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function w(d,c,r){const{createErrors:f}=d.it;return f===!1?(0,t._)`{}`:N(d,c,r)}function N(d,c,r={}){const{gen:f,it:_}=d,h=[S(_,r),E(d,r)];return P(d,c,h),f.object(...h)}function S({errorPath:d},{instancePath:c}){const r=c?(0,t.str)`${d}${(0,b.getErrorPath)(c,b.Type.Str)}`:d;return[o.default.instancePath,(0,t.strConcat)(o.default.instancePath,r)]}function E({keyword:d,it:{errSchemaPath:c}},{schemaPath:r,parentSchema:f}){let _=f?c:(0,t.str)`${c}/${d}`;return r&&(_=(0,t.str)`${_}${(0,b.getErrorPath)(r,b.Type.Str)}`),[m.schemaPath,_]}function P(d,{params:c,message:r},f){const{keyword:_,data:h,schemaValue:l,it:$}=d,{opts:T,propertyName:A,topSchemaRef:D,schemaPath:F}=$;f.push([m.keyword,_],[m.params,typeof c=="function"?c(d):c||(0,t._)`{}`]),T.messages&&f.push([m.message,typeof r=="function"?r(d):r]),T.verbose&&f.push([m.schema,l],[m.parentSchema,(0,t._)`${D}${F}`],[o.default.data,h]),A&&f.push([m.propertyName,A])}}(bt)),bt}var Gt;function un(){if(Gt)return $e;Gt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.boolOrEmptySchema=$e.topBoolOrEmptySchema=void 0;const e=mt(),t=H(),b=ge(),o={message:"boolean schema is false"};function g(a){const{gen:i,schema:y,validateName:m}=a;y===!1?u(a,!1):typeof y=="object"&&y.$async===!0?i.return(b.default.data):(i.assign((0,t._)`${m}.errors`,null),i.return(!0))}$e.topBoolOrEmptySchema=g;function n(a,i){const{gen:y,schema:m}=a;m===!1?(y.var(i,!1),u(a)):y.var(i,!0)}$e.boolOrEmptySchema=n;function u(a,i){const{gen:y,data:m}=a,w={gen:y,keyword:"false schema",data:m,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(w,o,void 0,i)}return $e}var re={},ve={},Jt;function Yr(){if(Jt)return ve;Jt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.getRules=ve.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function b(g){return typeof g=="string"&&t.has(g)}ve.isJSONType=b;function o(){const g={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...g,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},g.number,g.string,g.array,g.object],post:{rules:[]},all:{},keywords:{}}}return ve.getRules=o,ve}var me={},Ht;function Zr(){if(Ht)return me;Ht=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:o,self:g},n){const u=g.RULES.types[n];return u&&u!==!0&&t(o,u)}me.schemaHasRulesForType=e;function t(o,g){return g.rules.some(n=>b(o,n))}me.shouldUseGroup=t;function b(o,g){var n;return o[g.keyword]!==void 0||((n=g.definition.implements)===null||n===void 0?void 0:n.some(u=>o[u]!==void 0))}return me.shouldUseRule=b,me}var Bt;function ht(){if(Bt)return re;Bt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=Yr(),t=Zr(),b=mt(),o=H(),g=Q();var n;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(n||(re.DataType=n={}));function u(r){const f=a(r.type);if(f.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!f.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&f.push("null")}return f}re.getSchemaTypes=u;function a(r){const f=Array.isArray(r)?r:r?[r]:[];if(f.every(e.isJSONType))return f;throw new Error("type must be JSONType or JSONType[]: "+f.join(","))}re.getJSONTypes=a;function i(r,f){const{gen:_,data:h,opts:l}=r,$=m(f,l.coerceTypes),T=f.length>0&&!($.length===0&&f.length===1&&(0,t.schemaHasRulesForType)(r,f[0]));if(T){const A=E(f,h,l.strictNumbers,n.Wrong);_.if(A,()=>{$.length?w(r,f,$):d(r)})}return T}re.coerceAndCheckDataType=i;const y=new Set(["string","number","integer","boolean","null"]);function m(r,f){return f?r.filter(_=>y.has(_)||f==="array"&&_==="array"):[]}function w(r,f,_){const{gen:h,data:l,opts:$}=r,T=h.let("dataType",(0,o._)`typeof ${l}`),A=h.let("coerced",(0,o._)`undefined`);$.coerceTypes==="array"&&h.if((0,o._)`${T} == 'object' && Array.isArray(${l}) && ${l}.length == 1`,()=>h.assign(l,(0,o._)`${l}[0]`).assign(T,(0,o._)`typeof ${l}`).if(E(f,l,$.strictNumbers),()=>h.assign(A,l))),h.if((0,o._)`${A} !== undefined`);for(const F of _)(y.has(F)||F==="array"&&$.coerceTypes==="array")&&D(F);h.else(),d(r),h.endIf(),h.if((0,o._)`${A} !== undefined`,()=>{h.assign(l,A),N(r,A)});function D(F){switch(F){case"string":h.elseIf((0,o._)`${T} == "number" || ${T} == "boolean"`).assign(A,(0,o._)`"" + ${l}`).elseIf((0,o._)`${l} === null`).assign(A,(0,o._)`""`);return;case"number":h.elseIf((0,o._)`${T} == "boolean" || ${l} === null
              || (${T} == "string" && ${l} && ${l} == +${l})`).assign(A,(0,o._)`+${l}`);return;case"integer":h.elseIf((0,o._)`${T} === "boolean" || ${l} === null
              || (${T} === "string" && ${l} && ${l} == +${l} && !(${l} % 1))`).assign(A,(0,o._)`+${l}`);return;case"boolean":h.elseIf((0,o._)`${l} === "false" || ${l} === 0 || ${l} === null`).assign(A,!1).elseIf((0,o._)`${l} === "true" || ${l} === 1`).assign(A,!0);return;case"null":h.elseIf((0,o._)`${l} === "" || ${l} === 0 || ${l} === false`),h.assign(A,null);return;case"array":h.elseIf((0,o._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${l} === null`).assign(A,(0,o._)`[${l}]`)}}}function N({gen:r,parentData:f,parentDataProperty:_},h){r.if((0,o._)`${f} !== undefined`,()=>r.assign((0,o._)`${f}[${_}]`,h))}function S(r,f,_,h=n.Correct){const l=h===n.Correct?o.operators.EQ:o.operators.NEQ;let $;switch(r){case"null":return(0,o._)`${f} ${l} null`;case"array":$=(0,o._)`Array.isArray(${f})`;break;case"object":$=(0,o._)`${f} && typeof ${f} == "object" && !Array.isArray(${f})`;break;case"integer":$=T((0,o._)`!(${f} % 1) && !isNaN(${f})`);break;case"number":$=T();break;default:return(0,o._)`typeof ${f} ${l} ${r}`}return h===n.Correct?$:(0,o.not)($);function T(A=o.nil){return(0,o.and)((0,o._)`typeof ${f} == "number"`,A,_?(0,o._)`isFinite(${f})`:o.nil)}}re.checkDataType=S;function E(r,f,_,h){if(r.length===1)return S(r[0],f,_,h);let l;const $=(0,g.toHash)(r);if($.array&&$.object){const T=(0,o._)`typeof ${f} != "object"`;l=$.null?T:(0,o._)`!${f} || ${T}`,delete $.null,delete $.array,delete $.object}else l=o.nil;$.number&&delete $.integer;for(const T in $)l=(0,o.and)(l,S(T,f,_,h));return l}re.checkDataTypes=E;const P={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:f})=>typeof r=="string"?(0,o._)`{type: ${r}}`:(0,o._)`{type: ${f}}`};function d(r){const f=c(r);(0,b.reportError)(f,P)}re.reportTypeError=d;function c(r){const{gen:f,data:_,schema:h}=r,l=(0,g.schemaRefOrVal)(r,h,"type");return{gen:f,keyword:"type",data:_,schema:h.type,schemaCode:l,schemaValue:l,parentSchema:h,params:{},it:r}}return re}var Ne={},Wt;function cn(){if(Wt)return Ne;Wt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=H(),t=Q();function b(g,n){const{properties:u,items:a}=g.schema;if(n==="object"&&u)for(const i in u)o(g,i,u[i].default);else n==="array"&&Array.isArray(a)&&a.forEach((i,y)=>o(g,y,i.default))}Ne.assignDefaults=b;function o(g,n,u){const{gen:a,compositeRule:i,data:y,opts:m}=g;if(u===void 0)return;const w=(0,e._)`${y}${(0,e.getProperty)(n)}`;if(i){(0,t.checkStrictMode)(g,`default is ignored for: ${w}`);return}let N=(0,e._)`${w} === undefined`;m.useDefaults==="empty"&&(N=(0,e._)`${N} || ${w} === null || ${w} === ""`),a.if(N,(0,e._)`${w} = ${(0,e.stringify)(u)}`)}return Ne}var ce={},Y={},Qt;function le(){if(Qt)return Y;Qt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=H(),t=Q(),b=ge(),o=Q();function g(r,f){const{gen:_,data:h,it:l}=r;_.if(m(_,h,f,l.opts.ownProperties),()=>{r.setParams({missingProperty:(0,e._)`${f}`},!0),r.error()})}Y.checkReportMissingProp=g;function n({gen:r,data:f,it:{opts:_}},h,l){return(0,e.or)(...h.map($=>(0,e.and)(m(r,f,$,_.ownProperties),(0,e._)`${l} = ${$}`)))}Y.checkMissingProp=n;function u(r,f){r.setParams({missingProperty:f},!0),r.error()}Y.reportMissingProp=u;function a(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=a;function i(r,f,_){return(0,e._)`${a(r)}.call(${f}, ${_})`}Y.isOwnProperty=i;function y(r,f,_,h){const l=(0,e._)`${f}${(0,e.getProperty)(_)} !== undefined`;return h?(0,e._)`${l} && ${i(r,f,_)}`:l}Y.propertyInData=y;function m(r,f,_,h){const l=(0,e._)`${f}${(0,e.getProperty)(_)} === undefined`;return h?(0,e.or)(l,(0,e.not)(i(r,f,_))):l}Y.noPropertyInData=m;function w(r){return r?Object.keys(r).filter(f=>f!=="__proto__"):[]}Y.allSchemaProperties=w;function N(r,f){return w(f).filter(_=>!(0,t.alwaysValidSchema)(r,f[_]))}Y.schemaProperties=N;function S({schemaCode:r,data:f,it:{gen:_,topSchemaRef:h,schemaPath:l,errorPath:$},it:T},A,D,F){const z=F?(0,e._)`${r}, ${f}, ${h}${l}`:f,L=[[b.default.instancePath,(0,e.strConcat)(b.default.instancePath,$)],[b.default.parentData,T.parentData],[b.default.parentDataProperty,T.parentDataProperty],[b.default.rootData,b.default.rootData]];T.opts.dynamicRef&&L.push([b.default.dynamicAnchors,b.default.dynamicAnchors]);const W=(0,e._)`${z}, ${_.object(...L)}`;return D!==e.nil?(0,e._)`${A}.call(${D}, ${W})`:(0,e._)`${A}(${W})`}Y.callValidateCode=S;const E=(0,e._)`new RegExp`;function P({gen:r,it:{opts:f}},_){const h=f.unicodeRegExp?"u":"",{regExp:l}=f.code,$=l(_,h);return r.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,e._)`${l.code==="new RegExp"?E:(0,o.useFunc)(r,l)}(${_}, ${h})`})}Y.usePattern=P;function d(r){const{gen:f,data:_,keyword:h,it:l}=r,$=f.name("valid");if(l.allErrors){const A=f.let("valid",!0);return T(()=>f.assign(A,!1)),A}return f.var($,!0),T(()=>f.break()),$;function T(A){const D=f.const("len",(0,e._)`${_}.length`);f.forRange("i",0,D,F=>{r.subschema({keyword:h,dataProp:F,dataPropType:t.Type.Num},$),f.if((0,e.not)($),A)})}}Y.validateArray=d;function c(r){const{gen:f,schema:_,keyword:h,it:l}=r;if(!Array.isArray(_))throw new Error("ajv implementation error");if(_.some(D=>(0,t.alwaysValidSchema)(l,D))&&!l.opts.unevaluated)return;const T=f.let("valid",!1),A=f.name("_valid");f.block(()=>_.forEach((D,F)=>{const z=r.subschema({keyword:h,schemaProp:F,compositeRule:!0},A);f.assign(T,(0,e._)`${T} || ${A}`),r.mergeValidEvaluated(z,A)||f.if((0,e.not)(T))})),r.result(T,()=>r.reset(),()=>r.error(!0))}return Y.validateUnion=c,Y}var Xt;function ln(){if(Xt)return ce;Xt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.validateKeywordUsage=ce.validSchemaType=ce.funcKeywordCode=ce.macroKeywordCode=void 0;const e=H(),t=ge(),b=le(),o=mt();function g(N,S){const{gen:E,keyword:P,schema:d,parentSchema:c,it:r}=N,f=S.macro.call(r.self,d,c,r),_=y(E,P,f);r.opts.validateSchema!==!1&&r.self.validateSchema(f,!0);const h=E.name("valid");N.subschema({schema:f,schemaPath:e.nil,errSchemaPath:`${r.errSchemaPath}/${P}`,topSchemaRef:_,compositeRule:!0},h),N.pass(h,()=>N.error(!0))}ce.macroKeywordCode=g;function n(N,S){var E;const{gen:P,keyword:d,schema:c,parentSchema:r,$data:f,it:_}=N;i(_,S);const h=!f&&S.compile?S.compile.call(_.self,c,r,_):S.validate,l=y(P,d,h),$=P.let("valid");N.block$data($,T),N.ok((E=S.valid)!==null&&E!==void 0?E:$);function T(){if(S.errors===!1)F(),S.modifying&&u(N),z(()=>N.error());else{const L=S.async?A():D();S.modifying&&u(N),z(()=>a(N,L))}}function A(){const L=P.let("ruleErrs",null);return P.try(()=>F((0,e._)`await `),W=>P.assign($,!1).if((0,e._)`${W} instanceof ${_.ValidationError}`,()=>P.assign(L,(0,e._)`${W}.errors`),()=>P.throw(W))),L}function D(){const L=(0,e._)`${l}.errors`;return P.assign(L,null),F(e.nil),L}function F(L=S.async?(0,e._)`await `:e.nil){const W=_.opts.passContext?t.default.this:t.default.self,x=!("compile"in S&&!f||S.schema===!1);P.assign($,(0,e._)`${L}${(0,b.callValidateCode)(N,l,W,x)}`,S.modifying)}function z(L){var W;P.if((0,e.not)((W=S.valid)!==null&&W!==void 0?W:$),L)}}ce.funcKeywordCode=n;function u(N){const{gen:S,data:E,it:P}=N;S.if(P.parentData,()=>S.assign(E,(0,e._)`${P.parentData}[${P.parentDataProperty}]`))}function a(N,S){const{gen:E}=N;E.if((0,e._)`Array.isArray(${S})`,()=>{E.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${S} : ${t.default.vErrors}.concat(${S})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,o.extendErrors)(N)},()=>N.error())}function i({schemaEnv:N},S){if(S.async&&!N.$async)throw new Error("async keyword in sync schema")}function y(N,S,E){if(E===void 0)throw new Error(`keyword "${S}" failed to compile`);return N.scopeValue("keyword",typeof E=="function"?{ref:E}:{ref:E,code:(0,e.stringify)(E)})}function m(N,S,E=!1){return!S.length||S.some(P=>P==="array"?Array.isArray(N):P==="object"?N&&typeof N=="object"&&!Array.isArray(N):typeof N==P||E&&typeof N>"u")}ce.validSchemaType=m;function w({schema:N,opts:S,self:E,errSchemaPath:P},d,c){if(Array.isArray(d.keyword)?!d.keyword.includes(c):d.keyword!==c)throw new Error("ajv implementation error");const r=d.dependencies;if(r!=null&&r.some(f=>!Object.prototype.hasOwnProperty.call(N,f)))throw new Error(`parent schema must have dependencies of ${c}: ${r.join(",")}`);if(d.validateSchema&&!d.validateSchema(N[c])){const _=`keyword "${c}" value is invalid at path "${P}": `+E.errorsText(d.validateSchema.errors);if(S.validateSchema==="log")E.logger.error(_);else throw new Error(_)}}return ce.validateKeywordUsage=w,ce}var pe={},Yt;function dn(){if(Yt)return pe;Yt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.extendSubschemaMode=pe.extendSubschemaData=pe.getSubschema=void 0;const e=H(),t=Q();function b(n,{keyword:u,schemaProp:a,schema:i,schemaPath:y,errSchemaPath:m,topSchemaRef:w}){if(u!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const N=n.schema[u];return a===void 0?{schema:N,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(u)}`,errSchemaPath:`${n.errSchemaPath}/${u}`}:{schema:N[a],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(u)}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${u}/${(0,t.escapeFragment)(a)}`}}if(i!==void 0){if(y===void 0||m===void 0||w===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:y,topSchemaRef:w,errSchemaPath:m}}throw new Error('either "keyword" or "schema" must be passed')}pe.getSubschema=b;function o(n,u,{dataProp:a,dataPropType:i,data:y,dataTypes:m,propertyName:w}){if(y!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:N}=u;if(a!==void 0){const{errorPath:E,dataPathArr:P,opts:d}=u,c=N.let("data",(0,e._)`${u.data}${(0,e.getProperty)(a)}`,!0);S(c),n.errorPath=(0,e.str)`${E}${(0,t.getErrorPath)(a,i,d.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${a}`,n.dataPathArr=[...P,n.parentDataProperty]}if(y!==void 0){const E=y instanceof e.Name?y:N.let("data",y,!0);S(E),w!==void 0&&(n.propertyName=w)}m&&(n.dataTypes=m);function S(E){n.data=E,n.dataLevel=u.dataLevel+1,n.dataTypes=[],u.definedProperties=new Set,n.parentData=u.data,n.dataNames=[...u.dataNames,E]}}pe.extendSubschemaData=o;function g(n,{jtdDiscriminator:u,jtdMetadata:a,compositeRule:i,createErrors:y,allErrors:m}){i!==void 0&&(n.compositeRule=i),y!==void 0&&(n.createErrors=y),m!==void 0&&(n.allErrors=m),n.jtdDiscriminator=u,n.jtdMetadata=a}return pe.extendSubschemaMode=g,pe}var ne={},Nt={exports:{}},Zt;function fn(){if(Zt)return Nt.exports;Zt=1;var e=Nt.exports=function(o,g,n){typeof g=="function"&&(n=g,g={}),n=g.cb||n;var u=typeof n=="function"?n:n.pre||function(){},a=n.post||function(){};t(g,u,a,o,"",o)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(o,g,n,u,a,i,y,m,w,N){if(u&&typeof u=="object"&&!Array.isArray(u)){g(u,a,i,y,m,w,N);for(var S in u){var E=u[S];if(Array.isArray(E)){if(S in e.arrayKeywords)for(var P=0;P<E.length;P++)t(o,g,n,E[P],a+"/"+S+"/"+P,i,a,S,u,P)}else if(S in e.propsKeywords){if(E&&typeof E=="object")for(var d in E)t(o,g,n,E[d],a+"/"+S+"/"+b(d),i,a,S,u,d)}else(S in e.keywords||o.allKeys&&!(S in e.skipKeywords))&&t(o,g,n,E,a+"/"+S,i,a,S,u)}n(u,a,i,y,m,w,N)}}function b(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}return Nt.exports}var xt;function pt(){if(xt)return ne;xt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=Q(),t=Wr(),b=fn(),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function g(P,d=!0){return typeof P=="boolean"?!0:d===!0?!u(P):d?a(P)<=d:!1}ne.inlineRef=g;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(P){for(const d in P){if(n.has(d))return!0;const c=P[d];if(Array.isArray(c)&&c.some(u)||typeof c=="object"&&u(c))return!0}return!1}function a(P){let d=0;for(const c in P){if(c==="$ref")return 1/0;if(d++,!o.has(c)&&(typeof P[c]=="object"&&(0,e.eachItem)(P[c],r=>d+=a(r)),d===1/0))return 1/0}return d}function i(P,d="",c){c!==!1&&(d=w(d));const r=P.parse(d);return y(P,r)}ne.getFullPath=i;function y(P,d){return P.serialize(d).split("#")[0]+"#"}ne._getFullPath=y;const m=/#\/?$/;function w(P){return P?P.replace(m,""):""}ne.normalizeId=w;function N(P,d,c){return c=w(c),P.resolve(d,c)}ne.resolveUrl=N;const S=/^[a-z_][-a-z0-9._]*$/i;function E(P,d){if(typeof P=="boolean")return{};const{schemaId:c,uriResolver:r}=this.opts,f=w(P[c]||d),_={"":f},h=i(r,f,!1),l={},$=new Set;return b(P,{allKeys:!0},(D,F,z,L)=>{if(L===void 0)return;const W=h+F;let x=_[L];typeof D[c]=="string"&&(x=de.call(this,D[c])),fe.call(this,D.$anchor),fe.call(this,D.$dynamicAnchor),_[F]=x;function de(Z){const ye=this.opts.uriResolver.resolve;if(Z=w(x?ye(x,Z):Z),$.has(Z))throw A(Z);$.add(Z);let q=this.refs[Z];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?T(D,q.schema,Z):Z!==w(W)&&(Z[0]==="#"?(T(D,l[Z],Z),l[Z]=D):this.refs[Z]=W),Z}function fe(Z){if(typeof Z=="string"){if(!S.test(Z))throw new Error(`invalid anchor "${Z}"`);de.call(this,`#${Z}`)}}}),l;function T(D,F,z){if(F!==void 0&&!t(D,F))throw A(z)}function A(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return ne.getSchemaRefs=E,ne}var er;function yt(){if(er)return he;er=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=un(),t=ht(),b=Zr(),o=ht(),g=cn(),n=ln(),u=dn(),a=H(),i=ge(),y=pt(),m=Q(),w=mt();function N(v){if(h(v)&&($(v),_(v))){d(v);return}S(v,()=>(0,e.topBoolOrEmptySchema)(v))}he.validateFunctionCode=N;function S({gen:v,validateName:j,schema:C,schemaEnv:M,opts:K},J){K.code.es5?v.func(j,(0,a._)`${i.default.data}, ${i.default.valCxt}`,M.$async,()=>{v.code((0,a._)`"use strict"; ${r(C,K)}`),P(v,K),v.code(J)}):v.func(j,(0,a._)`${i.default.data}, ${E(K)}`,M.$async,()=>v.code(r(C,K)).code(J))}function E(v){return(0,a._)`{${i.default.instancePath}="", ${i.default.parentData}, ${i.default.parentDataProperty}, ${i.default.rootData}=${i.default.data}${v.dynamicRef?(0,a._)`, ${i.default.dynamicAnchors}={}`:a.nil}}={}`}function P(v,j){v.if(i.default.valCxt,()=>{v.var(i.default.instancePath,(0,a._)`${i.default.valCxt}.${i.default.instancePath}`),v.var(i.default.parentData,(0,a._)`${i.default.valCxt}.${i.default.parentData}`),v.var(i.default.parentDataProperty,(0,a._)`${i.default.valCxt}.${i.default.parentDataProperty}`),v.var(i.default.rootData,(0,a._)`${i.default.valCxt}.${i.default.rootData}`),j.dynamicRef&&v.var(i.default.dynamicAnchors,(0,a._)`${i.default.valCxt}.${i.default.dynamicAnchors}`)},()=>{v.var(i.default.instancePath,(0,a._)`""`),v.var(i.default.parentData,(0,a._)`undefined`),v.var(i.default.parentDataProperty,(0,a._)`undefined`),v.var(i.default.rootData,i.default.data),j.dynamicRef&&v.var(i.default.dynamicAnchors,(0,a._)`{}`)})}function d(v){const{schema:j,opts:C,gen:M}=v;S(v,()=>{C.$comment&&j.$comment&&L(v),D(v),M.let(i.default.vErrors,null),M.let(i.default.errors,0),C.unevaluated&&c(v),T(v),W(v)})}function c(v){const{gen:j,validateName:C}=v;v.evaluated=j.const("evaluated",(0,a._)`${C}.evaluated`),j.if((0,a._)`${v.evaluated}.dynamicProps`,()=>j.assign((0,a._)`${v.evaluated}.props`,(0,a._)`undefined`)),j.if((0,a._)`${v.evaluated}.dynamicItems`,()=>j.assign((0,a._)`${v.evaluated}.items`,(0,a._)`undefined`))}function r(v,j){const C=typeof v=="object"&&v[j.schemaId];return C&&(j.code.source||j.code.process)?(0,a._)`/*# sourceURL=${C} */`:a.nil}function f(v,j){if(h(v)&&($(v),_(v))){l(v,j);return}(0,e.boolOrEmptySchema)(v,j)}function _({schema:v,self:j}){if(typeof v=="boolean")return!v;for(const C in v)if(j.RULES.all[C])return!0;return!1}function h(v){return typeof v.schema!="boolean"}function l(v,j){const{schema:C,gen:M,opts:K}=v;K.$comment&&C.$comment&&L(v),F(v),z(v);const J=M.const("_errs",i.default.errors);T(v,J),M.var(j,(0,a._)`${J} === ${i.default.errors}`)}function $(v){(0,m.checkUnknownRules)(v),A(v)}function T(v,j){if(v.opts.jtd)return de(v,[],!1,j);const C=(0,t.getSchemaTypes)(v.schema),M=(0,t.coerceAndCheckDataType)(v,C);de(v,C,!M,j)}function A(v){const{schema:j,errSchemaPath:C,opts:M,self:K}=v;j.$ref&&M.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(j,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${C}"`)}function D(v){const{schema:j,opts:C}=v;j.default!==void 0&&C.useDefaults&&C.strictSchema&&(0,m.checkStrictMode)(v,"default is ignored in the schema root")}function F(v){const j=v.schema[v.opts.schemaId];j&&(v.baseId=(0,y.resolveUrl)(v.opts.uriResolver,v.baseId,j))}function z(v){if(v.schema.$async&&!v.schemaEnv.$async)throw new Error("async schema in sync schema")}function L({gen:v,schemaEnv:j,schema:C,errSchemaPath:M,opts:K}){const J=C.$comment;if(K.$comment===!0)v.code((0,a._)`${i.default.self}.logger.log(${J})`);else if(typeof K.$comment=="function"){const ee=(0,a.str)`${M}/$comment`,ue=v.scopeValue("root",{ref:j.root});v.code((0,a._)`${i.default.self}.opts.$comment(${J}, ${ee}, ${ue}.schema)`)}}function W(v){const{gen:j,schemaEnv:C,validateName:M,ValidationError:K,opts:J}=v;C.$async?j.if((0,a._)`${i.default.errors} === 0`,()=>j.return(i.default.data),()=>j.throw((0,a._)`new ${K}(${i.default.vErrors})`)):(j.assign((0,a._)`${M}.errors`,i.default.vErrors),J.unevaluated&&x(v),j.return((0,a._)`${i.default.errors} === 0`))}function x({gen:v,evaluated:j,props:C,items:M}){C instanceof a.Name&&v.assign((0,a._)`${j}.props`,C),M instanceof a.Name&&v.assign((0,a._)`${j}.items`,M)}function de(v,j,C,M){const{gen:K,schema:J,data:ee,allErrors:ue,opts:se,self:ae}=v,{RULES:te}=ae;if(J.$ref&&(se.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(J,te))){K.block(()=>V(v,"$ref",te.all.$ref.definition));return}se.jtd||Z(v,j),K.block(()=>{for(const ie of te.rules)be(ie);be(te.post)});function be(ie){(0,b.shouldUseGroup)(J,ie)&&(ie.type?(K.if((0,o.checkDataType)(ie.type,ee,se.strictNumbers)),fe(v,ie),j.length===1&&j[0]===ie.type&&C&&(K.else(),(0,o.reportTypeError)(v)),K.endIf()):fe(v,ie),ue||K.if((0,a._)`${i.default.errors} === ${M||0}`))}}function fe(v,j){const{gen:C,schema:M,opts:{useDefaults:K}}=v;K&&(0,g.assignDefaults)(v,j.type),C.block(()=>{for(const J of j.rules)(0,b.shouldUseRule)(M,J)&&V(v,J.keyword,J.definition,j.type)})}function Z(v,j){v.schemaEnv.meta||!v.opts.strictTypes||(ye(v,j),v.opts.allowUnionTypes||q(v,j),R(v,v.dataTypes))}function ye(v,j){if(j.length){if(!v.dataTypes.length){v.dataTypes=j;return}j.forEach(C=>{k(v.dataTypes,C)||p(v,`type "${C}" not allowed by context "${v.dataTypes.join(",")}"`)}),s(v,j)}}function q(v,j){j.length>1&&!(j.length===2&&j.includes("null"))&&p(v,"use allowUnionTypes to allow union type keyword")}function R(v,j){const C=v.self.RULES.all;for(const M in C){const K=C[M];if(typeof K=="object"&&(0,b.shouldUseRule)(v.schema,K)){const{type:J}=K.definition;J.length&&!J.some(ee=>I(j,ee))&&p(v,`missing type "${J.join(",")}" for keyword "${M}"`)}}}function I(v,j){return v.includes(j)||j==="number"&&v.includes("integer")}function k(v,j){return v.includes(j)||j==="integer"&&v.includes("number")}function s(v,j){const C=[];for(const M of v.dataTypes)k(j,M)?C.push(M):j.includes("integer")&&M==="number"&&C.push("integer");v.dataTypes=C}function p(v,j){const C=v.schemaEnv.baseId+v.errSchemaPath;j+=` at "${C}" (strictTypes)`,(0,m.checkStrictMode)(v,j,v.opts.strictTypes)}class O{constructor(j,C,M){if((0,n.validateKeywordUsage)(j,C,M),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=M,this.data=j.data,this.schema=j.schema[M],this.$data=C.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(j,this.schema,M,this.$data),this.schemaType=C.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=C,this.$data)this.schemaCode=j.gen.const("vSchema",B(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=j.gen.const("_errs",i.default.errors))}result(j,C,M){this.failResult((0,a.not)(j),C,M)}failResult(j,C,M){this.gen.if(j),M?M():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,C){this.failResult((0,a.not)(j),void 0,C)}fail(j){if(j===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:C}=this;this.fail((0,a._)`${C} !== undefined && (${(0,a.or)(this.invalid$data(),j)})`)}error(j,C,M){if(C){this.setParams(C),this._error(j,M),this.setParams({});return}this._error(j,M)}_error(j,C){(j?w.reportExtraError:w.reportError)(this,this.def.error,C)}$dataError(){(0,w.reportError)(this,this.def.$dataError||w.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,w.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,C){C?Object.assign(this.params,j):this.params=j}block$data(j,C,M=a.nil){this.gen.block(()=>{this.check$data(j,M),C()})}check$data(j=a.nil,C=a.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:J,def:ee}=this;M.if((0,a.or)((0,a._)`${K} === undefined`,C)),j!==a.nil&&M.assign(j,!0),(J.length||ee.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),j!==a.nil&&M.assign(j,!1)),M.else()}invalid$data(){const{gen:j,schemaCode:C,schemaType:M,def:K,it:J}=this;return(0,a.or)(ee(),ue());function ee(){if(M.length){if(!(C instanceof a.Name))throw new Error("ajv implementation error");const se=Array.isArray(M)?M:[M];return(0,a._)`${(0,o.checkDataTypes)(se,C,J.opts.strictNumbers,o.DataType.Wrong)}`}return a.nil}function ue(){if(K.validateSchema){const se=j.scopeValue("validate$data",{ref:K.validateSchema});return(0,a._)`!${se}(${C})`}return a.nil}}subschema(j,C){const M=(0,u.getSubschema)(this.it,j);(0,u.extendSubschemaData)(M,this.it,j),(0,u.extendSubschemaMode)(M,j);const K={...this.it,...M,items:void 0,props:void 0};return f(K,C),K}mergeEvaluated(j,C){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&j.props!==void 0&&(M.props=m.mergeEvaluated.props(K,j.props,M.props,C)),M.items!==!0&&j.items!==void 0&&(M.items=m.mergeEvaluated.items(K,j.items,M.items,C)))}mergeValidEvaluated(j,C){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(C,()=>this.mergeEvaluated(j,a.Name)),!0}}he.KeywordCxt=O;function V(v,j,C,M){const K=new O(v,C,j);"code"in C?C.code(K,M):K.$data&&C.validate?(0,n.funcKeywordCode)(K,C):"macro"in C?(0,n.macroKeywordCode)(K,C):(C.compile||C.validate)&&(0,n.funcKeywordCode)(K,C)}const U=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(v,{dataLevel:j,dataNames:C,dataPathArr:M}){let K,J;if(v==="")return i.default.rootData;if(v[0]==="/"){if(!U.test(v))throw new Error(`Invalid JSON-pointer: ${v}`);K=v,J=i.default.rootData}else{const ae=X.exec(v);if(!ae)throw new Error(`Invalid JSON-pointer: ${v}`);const te=+ae[1];if(K=ae[2],K==="#"){if(te>=j)throw new Error(se("property/index",te));return M[j-te]}if(te>j)throw new Error(se("data",te));if(J=C[j-te],!K)return J}let ee=J;const ue=K.split("/");for(const ae of ue)ae&&(J=(0,a._)`${J}${(0,a.getProperty)((0,m.unescapeJsonPointer)(ae))}`,ee=(0,a._)`${ee} && ${J}`);return ee;function se(ae,te){return`Cannot access ${ae} ${te} levels up, current level is ${j}`}}return he.getData=B,he}var Oe={},tr;function Tt(){if(tr)return Oe;tr=1,Object.defineProperty(Oe,"__esModule",{value:!0});class e extends Error{constructor(b){super("validation failed"),this.errors=b,this.ajv=this.validation=!0}}return Oe.default=e,Oe}var Te={},rr;function _t(){if(rr)return Te;rr=1,Object.defineProperty(Te,"__esModule",{value:!0});const e=pt();class t extends Error{constructor(o,g,n,u){super(u||`can't resolve reference ${n} from id ${g}`),this.missingRef=(0,e.resolveUrl)(o,g,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(o,this.missingRef))}}return Te.default=t,Te}var oe={},nr;function Ct(){if(nr)return oe;nr=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const e=H(),t=Tt(),b=ge(),o=pt(),g=Q(),n=yt();class u{constructor(c){var r;this.refs={},this.dynamicAnchors={};let f;typeof c.schema=="object"&&(f=c.schema),this.schema=c.schema,this.schemaId=c.schemaId,this.root=c.root||this,this.baseId=(r=c.baseId)!==null&&r!==void 0?r:(0,o.normalizeId)(f==null?void 0:f[c.schemaId||"$id"]),this.schemaPath=c.schemaPath,this.localRefs=c.localRefs,this.meta=c.meta,this.$async=f==null?void 0:f.$async,this.refs={}}}oe.SchemaEnv=u;function a(d){const c=m.call(this,d);if(c)return c;const r=(0,o.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:f,lines:_}=this.opts.code,{ownProperties:h}=this.opts,l=new e.CodeGen(this.scope,{es5:f,lines:_,ownProperties:h});let $;d.$async&&($=l.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const T=l.scopeName("validate");d.validateName=T;const A={gen:l,allErrors:this.opts.allErrors,data:b.default.data,parentData:b.default.parentData,parentDataProperty:b.default.parentDataProperty,dataNames:[b.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,e.stringify)(d.schema)}:{ref:d.schema}),validateName:T,ValidationError:$,schema:d.schema,schemaEnv:d,rootId:r,baseId:d.baseId||r,schemaPath:e.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(d),(0,n.validateFunctionCode)(A),l.optimize(this.opts.code.optimize);const F=l.toString();D=`${l.scopeRefs(b.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,d));const L=new Function(`${b.default.self}`,`${b.default.scope}`,D)(this,this.scope.get());if(this.scope.value(T,{ref:L}),L.errors=null,L.schema=d.schema,L.schemaEnv=d,d.$async&&(L.$async=!0),this.opts.code.source===!0&&(L.source={validateName:T,validateCode:F,scopeValues:l._values}),this.opts.unevaluated){const{props:W,items:x}=A;L.evaluated={props:W instanceof e.Name?void 0:W,items:x instanceof e.Name?void 0:x,dynamicProps:W instanceof e.Name,dynamicItems:x instanceof e.Name},L.source&&(L.source.evaluated=(0,e.stringify)(L.evaluated))}return d.validate=L,d}catch(F){throw delete d.validate,delete d.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(d)}}oe.compileSchema=a;function i(d,c,r){var f;r=(0,o.resolveUrl)(this.opts.uriResolver,c,r);const _=d.refs[r];if(_)return _;let h=N.call(this,d,r);if(h===void 0){const l=(f=d.localRefs)===null||f===void 0?void 0:f[r],{schemaId:$}=this.opts;l&&(h=new u({schema:l,schemaId:$,root:d,baseId:c}))}if(h!==void 0)return d.refs[r]=y.call(this,h)}oe.resolveRef=i;function y(d){return(0,o.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:a.call(this,d)}function m(d){for(const c of this._compilations)if(w(c,d))return c}oe.getCompilingSchema=m;function w(d,c){return d.schema===c.schema&&d.root===c.root&&d.baseId===c.baseId}function N(d,c){let r;for(;typeof(r=this.refs[c])=="string";)c=r;return r||this.schemas[c]||S.call(this,d,c)}function S(d,c){const r=this.opts.uriResolver.parse(c),f=(0,o._getFullPath)(this.opts.uriResolver,r);let _=(0,o.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&f===_)return P.call(this,r,d);const h=(0,o.normalizeId)(f),l=this.refs[h]||this.schemas[h];if(typeof l=="string"){const $=S.call(this,d,l);return typeof($==null?void 0:$.schema)!="object"?void 0:P.call(this,r,$)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||a.call(this,l),h===(0,o.normalizeId)(c)){const{schema:$}=l,{schemaId:T}=this.opts,A=$[T];return A&&(_=(0,o.resolveUrl)(this.opts.uriResolver,_,A)),new u({schema:$,schemaId:T,root:d,baseId:_})}return P.call(this,r,l)}}oe.resolveSchema=S;const E=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function P(d,{baseId:c,schema:r,root:f}){var _;if(((_=d.fragment)===null||_===void 0?void 0:_[0])!=="/")return;for(const $ of d.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const T=r[(0,g.unescapeFragment)($)];if(T===void 0)return;r=T;const A=typeof r=="object"&&r[this.opts.schemaId];!E.has($)&&A&&(c=(0,o.resolveUrl)(this.opts.uriResolver,c,A))}let h;if(typeof r!="boolean"&&r.$ref&&!(0,g.schemaHasRulesButRef)(r,this.RULES)){const $=(0,o.resolveUrl)(this.opts.uriResolver,c,r.$ref);h=S.call(this,f,$)}const{schemaId:l}=this.opts;if(h=h||new u({schema:r,schemaId:l,root:f,baseId:c}),h.schema!==h.root.schema)return h}return oe}const hn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",mn="Meta-schema for $data reference (JSON AnySchema extension proposal)",pn="object",yn=["$data"],_n={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},gn=!1,$n={$id:hn,description:mn,type:pn,required:yn,properties:_n,additionalProperties:gn};var Ce={},sr;function vn(){if(sr)return Ce;sr=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=an();return e.code='require("ajv/dist/runtime/uri").default',Ce.default=e,Ce}var ar;function wn(){return ar||(ar=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=yt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var b=H();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return b._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return b.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return b.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return b.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return b.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return b.CodeGen}});const o=Tt(),g=_t(),n=Yr(),u=Ct(),a=H(),i=pt(),y=ht(),m=Q(),w=$n,N=vn(),S=(q,R)=>new RegExp(q,R);S.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],P=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},c={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},r=200;function f(q){var R,I,k,s,p,O,V,U,X,B,v,j,C,M,K,J,ee,ue,se,ae,te,be,ie,gt,$t;const Se=q.strict,vt=(R=q.code)===null||R===void 0?void 0:R.optimize,At=vt===!0||vt===void 0?1:vt||0,Mt=(k=(I=q.code)===null||I===void 0?void 0:I.regExp)!==null&&k!==void 0?k:S,rn=(s=q.uriResolver)!==null&&s!==void 0?s:N.default;return{strictSchema:(O=(p=q.strictSchema)!==null&&p!==void 0?p:Se)!==null&&O!==void 0?O:!0,strictNumbers:(U=(V=q.strictNumbers)!==null&&V!==void 0?V:Se)!==null&&U!==void 0?U:!0,strictTypes:(B=(X=q.strictTypes)!==null&&X!==void 0?X:Se)!==null&&B!==void 0?B:"log",strictTuples:(j=(v=q.strictTuples)!==null&&v!==void 0?v:Se)!==null&&j!==void 0?j:"log",strictRequired:(M=(C=q.strictRequired)!==null&&C!==void 0?C:Se)!==null&&M!==void 0?M:!1,code:q.code?{...q.code,optimize:At,regExp:Mt}:{optimize:At,regExp:Mt},loopRequired:(K=q.loopRequired)!==null&&K!==void 0?K:r,loopEnum:(J=q.loopEnum)!==null&&J!==void 0?J:r,meta:(ee=q.meta)!==null&&ee!==void 0?ee:!0,messages:(ue=q.messages)!==null&&ue!==void 0?ue:!0,inlineRefs:(se=q.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ae=q.schemaId)!==null&&ae!==void 0?ae:"$id",addUsedSchema:(te=q.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=q.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(ie=q.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(gt=q.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:($t=q.int32range)!==null&&$t!==void 0?$t:!0,uriResolver:rn}}class _{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...f(R)};const{es5:I,lines:k}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:P,es5:I,lines:k}),this.logger=z(R.logger);const s=R.validateFormats;R.validateFormats=!1,this.RULES=(0,n.getRules)(),h.call(this,d,R,"NOT SUPPORTED"),h.call(this,c,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&A.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),$.call(this),R.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:I,schemaId:k}=this.opts;let s=w;k==="id"&&(s={...w},s.id=s.$id,delete s.$id),I&&R&&this.addMetaSchema(s,s[k],!1)}defaultMeta(){const{meta:R,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[I]||R:void 0}validate(R,I){let k;if(typeof R=="string"){if(k=this.getSchema(R),!k)throw new Error(`no schema with key or ref "${R}"`)}else k=this.compile(R);const s=k(I);return"$async"in k||(this.errors=k.errors),s}compile(R,I){const k=this._addSchema(R,I);return k.validate||this._compileSchemaEnv(k)}compileAsync(R,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:k}=this.opts;return s.call(this,R,I);async function s(B,v){await p.call(this,B.$schema);const j=this._addSchema(B,v);return j.validate||O.call(this,j)}async function p(B){B&&!this.getSchema(B)&&await s.call(this,{$ref:B},!0)}async function O(B){try{return this._compileSchemaEnv(B)}catch(v){if(!(v instanceof g.default))throw v;return V.call(this,v),await U.call(this,v.missingSchema),O.call(this,B)}}function V({missingSchema:B,missingRef:v}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${v} cannot be resolved`)}async function U(B){const v=await X.call(this,B);this.refs[B]||await p.call(this,v.$schema),this.refs[B]||this.addSchema(v,B,I)}async function X(B){const v=this._loading[B];if(v)return v;try{return await(this._loading[B]=k(B))}finally{delete this._loading[B]}}}addSchema(R,I,k,s=this.opts.validateSchema){if(Array.isArray(R)){for(const O of R)this.addSchema(O,void 0,k,s);return this}let p;if(typeof R=="object"){const{schemaId:O}=this.opts;if(p=R[O],p!==void 0&&typeof p!="string")throw new Error(`schema ${O} must be string`)}return I=(0,i.normalizeId)(I||p),this._checkUnique(I),this.schemas[I]=this._addSchema(R,k,I,s,!0),this}addMetaSchema(R,I,k=this.opts.validateSchema){return this.addSchema(R,I,!0,k),this}validateSchema(R,I){if(typeof R=="boolean")return!0;let k;if(k=R.$schema,k!==void 0&&typeof k!="string")throw new Error("$schema must be a string");if(k=k||this.opts.defaultMeta||this.defaultMeta(),!k)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(k,R);if(!s&&I){const p="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(p);else throw new Error(p)}return s}getSchema(R){let I;for(;typeof(I=l.call(this,R))=="string";)R=I;if(I===void 0){const{schemaId:k}=this.opts,s=new u.SchemaEnv({schema:{},schemaId:k});if(I=u.resolveSchema.call(this,s,R),!I)return;this.refs[R]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const I=l.call(this,R);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const I=R;this._cache.delete(I);let k=R[this.opts.schemaId];return k&&(k=(0,i.normalizeId)(k),delete this.schemas[k],delete this.refs[k]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const I of R)this.addKeyword(I);return this}addKeyword(R,I){let k;if(typeof R=="string")k=R,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=k);else if(typeof R=="object"&&I===void 0){if(I=R,k=I.keyword,Array.isArray(k)&&!k.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,k,I),!I)return(0,m.eachItem)(k,p=>x.call(this,p)),this;fe.call(this,I);const s={...I,type:(0,y.getJSONTypes)(I.type),schemaType:(0,y.getJSONTypes)(I.schemaType)};return(0,m.eachItem)(k,s.type.length===0?p=>x.call(this,p,s):p=>s.type.forEach(O=>x.call(this,p,s,O))),this}getKeyword(R){const I=this.RULES.all[R];return typeof I=="object"?I.definition:!!I}removeKeyword(R){const{RULES:I}=this;delete I.keywords[R],delete I.all[R];for(const k of I.rules){const s=k.rules.findIndex(p=>p.keyword===R);s>=0&&k.rules.splice(s,1)}return this}addFormat(R,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[R]=I,this}errorsText(R=this.errors,{separator:I=", ",dataVar:k="data"}={}){return!R||R.length===0?"No errors":R.map(s=>`${k}${s.instancePath} ${s.message}`).reduce((s,p)=>s+I+p)}$dataMetaSchema(R,I){const k=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const s of I){const p=s.split("/").slice(1);let O=R;for(const V of p)O=O[V];for(const V in k){const U=k[V];if(typeof U!="object")continue;const{$data:X}=U.definition,B=O[V];X&&B&&(O[V]=ye(B))}}return R}_removeAllSchemas(R,I){for(const k in R){const s=R[k];(!I||I.test(k))&&(typeof s=="string"?delete R[k]:s&&!s.meta&&(this._cache.delete(s.schema),delete R[k]))}}_addSchema(R,I,k,s=this.opts.validateSchema,p=this.opts.addUsedSchema){let O;const{schemaId:V}=this.opts;if(typeof R=="object")O=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(R);if(U!==void 0)return U;k=(0,i.normalizeId)(O||k);const X=i.getSchemaRefs.call(this,R,k);return U=new u.SchemaEnv({schema:R,schemaId:V,meta:I,baseId:k,localRefs:X}),this._cache.set(U.schema,U),p&&!k.startsWith("#")&&(k&&this._checkUnique(k),this.refs[k]=U),s&&this.validateSchema(R,!0),U}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):u.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const I=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,R)}finally{this.opts=I}}}_.ValidationError=o.default,_.MissingRefError=g.default,e.default=_;function h(q,R,I,k="error"){for(const s in q){const p=s;p in R&&this.logger[k](`${I}: option ${s}. ${q[p]}`)}}function l(q){return q=(0,i.normalizeId)(q),this.schemas[q]||this.refs[q]}function $(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const R in q)this.addSchema(q[R],R)}function T(){for(const q in this.opts.formats){const R=this.opts.formats[q];R&&this.addFormat(q,R)}}function A(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in q){const I=q[R];I.keyword||(I.keyword=R),this.addKeyword(I)}}function D(){const q={...this.opts};for(const R of E)delete q[R];return q}const F={log(){},warn(){},error(){}};function z(q){if(q===!1)return F;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function W(q,R){const{RULES:I}=this;if((0,m.eachItem)(q,k=>{if(I.keywords[k])throw new Error(`Keyword ${k} is already defined`);if(!L.test(k))throw new Error(`Keyword ${k} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(q,R,I){var k;const s=R==null?void 0:R.post;if(I&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:p}=this;let O=s?p.post:p.rules.find(({type:U})=>U===I);if(O||(O={type:I,rules:[]},p.rules.push(O)),p.keywords[q]=!0,!R)return;const V={keyword:q,definition:{...R,type:(0,y.getJSONTypes)(R.type),schemaType:(0,y.getJSONTypes)(R.schemaType)}};R.before?de.call(this,O,V,R.before):O.rules.push(V),p.all[q]=V,(k=R.implements)===null||k===void 0||k.forEach(U=>this.addKeyword(U))}function de(q,R,I){const k=q.rules.findIndex(s=>s.keyword===I);k>=0?q.rules.splice(k,0,R):(q.rules.push(R),this.logger.warn(`rule ${I} is not defined`))}function fe(q){let{metaSchema:R}=q;R!==void 0&&(q.$data&&this.opts.$data&&(R=ye(R)),q.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(q){return{anyOf:[q,Z]}}}(wt)),wt}var Ie={},qe={},Ae={},or;function bn(){if(or)return Ae;or=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ae.default=e,Ae}var _e={},ir;function En(){if(ir)return _e;ir=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=_t(),t=le(),b=H(),o=ge(),g=Ct(),n=Q(),u={keyword:"$ref",schemaType:"string",code(y){const{gen:m,schema:w,it:N}=y,{baseId:S,schemaEnv:E,validateName:P,opts:d,self:c}=N,{root:r}=E;if((w==="#"||w==="#/")&&S===r.baseId)return _();const f=g.resolveRef.call(c,r,S,w);if(f===void 0)throw new e.default(N.opts.uriResolver,S,w);if(f instanceof g.SchemaEnv)return h(f);return l(f);function _(){if(E===r)return i(y,P,E,E.$async);const $=m.scopeValue("root",{ref:r});return i(y,(0,b._)`${$}.validate`,r,r.$async)}function h($){const T=a(y,$);i(y,T,$,$.$async)}function l($){const T=m.scopeValue("schema",d.code.source===!0?{ref:$,code:(0,b.stringify)($)}:{ref:$}),A=m.name("valid"),D=y.subschema({schema:$,dataTypes:[],schemaPath:b.nil,topSchemaRef:T,errSchemaPath:w},A);y.mergeEvaluated(D),y.ok(A)}}};function a(y,m){const{gen:w}=y;return m.validate?w.scopeValue("validate",{ref:m.validate}):(0,b._)`${w.scopeValue("wrapper",{ref:m})}.validate`}_e.getValidate=a;function i(y,m,w,N){const{gen:S,it:E}=y,{allErrors:P,schemaEnv:d,opts:c}=E,r=c.passContext?o.default.this:b.nil;N?f():_();function f(){if(!d.$async)throw new Error("async schema referenced by sync schema");const $=S.let("valid");S.try(()=>{S.code((0,b._)`await ${(0,t.callValidateCode)(y,m,r)}`),l(m),P||S.assign($,!0)},T=>{S.if((0,b._)`!(${T} instanceof ${E.ValidationError})`,()=>S.throw(T)),h(T),P||S.assign($,!1)}),y.ok($)}function _(){y.result((0,t.callValidateCode)(y,m,r),()=>l(m),()=>h(m))}function h($){const T=(0,b._)`${$}.errors`;S.assign(o.default.vErrors,(0,b._)`${o.default.vErrors} === null ? ${T} : ${o.default.vErrors}.concat(${T})`),S.assign(o.default.errors,(0,b._)`${o.default.vErrors}.length`)}function l($){var T;if(!E.opts.unevaluated)return;const A=(T=w==null?void 0:w.validate)===null||T===void 0?void 0:T.evaluated;if(E.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(E.props=n.mergeEvaluated.props(S,A.props,E.props));else{const D=S.var("props",(0,b._)`${$}.evaluated.props`);E.props=n.mergeEvaluated.props(S,D,E.props,b.Name)}if(E.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(E.items=n.mergeEvaluated.items(S,A.items,E.items));else{const D=S.var("items",(0,b._)`${$}.evaluated.items`);E.items=n.mergeEvaluated.items(S,D,E.items,b.Name)}}}return _e.callRef=i,_e.default=u,_e}var ur;function Pn(){if(ur)return qe;ur=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=bn(),t=En(),b=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return qe.default=b,qe}var Me={},De={},cr;function Sn(){if(cr)return De;cr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=H(),t=e.operators,b={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},o={message:({keyword:n,schemaCode:u})=>(0,e.str)`must be ${b[n].okStr} ${u}`,params:({keyword:n,schemaCode:u})=>(0,e._)`{comparison: ${b[n].okStr}, limit: ${u}}`},g={keyword:Object.keys(b),type:"number",schemaType:"number",$data:!0,error:o,code(n){const{keyword:u,data:a,schemaCode:i}=n;n.fail$data((0,e._)`${a} ${b[u].fail} ${i} || isNaN(${a})`)}};return De.default=g,De}var Ve={},lr;function Nn(){if(lr)return Ve;lr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=H(),b={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:o})=>(0,e.str)`must be multiple of ${o}`,params:({schemaCode:o})=>(0,e._)`{multipleOf: ${o}}`},code(o){const{gen:g,data:n,schemaCode:u,it:a}=o,i=a.opts.multipleOfPrecision,y=g.let("res"),m=i?(0,e._)`Math.abs(Math.round(${y}) - ${y}) > 1e-${i}`:(0,e._)`${y} !== parseInt(${y})`;o.fail$data((0,e._)`(${u} === 0 || (${y} = ${n}/${u}, ${m}))`)}};return Ve.default=b,Ve}var Fe={},Ke={},dr;function Rn(){if(dr)return Ke;dr=1,Object.defineProperty(Ke,"__esModule",{value:!0});function e(t){const b=t.length;let o=0,g=0,n;for(;g<b;)o++,n=t.charCodeAt(g++),n>=55296&&n<=56319&&g<b&&(n=t.charCodeAt(g),(n&64512)===56320&&g++);return o}return Ke.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ke}var fr;function jn(){if(fr)return Fe;fr=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=H(),t=Q(),b=Rn(),g={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:u}){const a=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${u} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:u,data:a,schemaCode:i,it:y}=n,m=u==="maxLength"?e.operators.GT:e.operators.LT,w=y.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(n.gen,b.default)}(${a})`;n.fail$data((0,e._)`${w} ${m} ${i}`)}};return Fe.default=g,Fe}var Ue={},hr;function kn(){if(hr)return Ue;hr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=le(),t=H(),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:g})=>(0,t.str)`must match pattern "${g}"`,params:({schemaCode:g})=>(0,t._)`{pattern: ${g}}`},code(g){const{data:n,$data:u,schema:a,schemaCode:i,it:y}=g,m=y.opts.unicodeRegExp?"u":"",w=u?(0,t._)`(new RegExp(${i}, ${m}))`:(0,e.usePattern)(g,a);g.fail$data((0,t._)`!${w}.test(${n})`)}};return Ue.default=o,Ue}var Le={},mr;function On(){if(mr)return Le;mr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=H(),b={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:g}){const n=o==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${g} properties`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:g,data:n,schemaCode:u}=o,a=g==="maxProperties"?e.operators.GT:e.operators.LT;o.fail$data((0,e._)`Object.keys(${n}).length ${a} ${u}`)}};return Le.default=b,Le}var ze={},pr;function Tn(){if(pr)return ze;pr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=le(),t=H(),b=Q(),g={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,t.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,t._)`{missingProperty: ${n}}`},code(n){const{gen:u,schema:a,schemaCode:i,data:y,$data:m,it:w}=n,{opts:N}=w;if(!m&&a.length===0)return;const S=a.length>=N.loopRequired;if(w.allErrors?E():P(),N.strictRequired){const r=n.parentSchema.properties,{definedProperties:f}=n.it;for(const _ of a)if((r==null?void 0:r[_])===void 0&&!f.has(_)){const h=w.schemaEnv.baseId+w.errSchemaPath,l=`required property "${_}" is not defined at "${h}" (strictRequired)`;(0,b.checkStrictMode)(w,l,w.opts.strictRequired)}}function E(){if(S||m)n.block$data(t.nil,d);else for(const r of a)(0,e.checkReportMissingProp)(n,r)}function P(){const r=u.let("missing");if(S||m){const f=u.let("valid",!0);n.block$data(f,()=>c(r,f)),n.ok(f)}else u.if((0,e.checkMissingProp)(n,a,r)),(0,e.reportMissingProp)(n,r),u.else()}function d(){u.forOf("prop",i,r=>{n.setParams({missingProperty:r}),u.if((0,e.noPropertyInData)(u,y,r,N.ownProperties),()=>n.error())})}function c(r,f){n.setParams({missingProperty:r}),u.forOf(r,i,()=>{u.assign(f,(0,e.propertyInData)(u,y,r,N.ownProperties)),u.if((0,t.not)(f),()=>{n.error(),u.break()})},t.nil)}}};return ze.default=g,ze}var Ge={},yr;function Cn(){if(yr)return Ge;yr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=H(),b={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:g}){const n=o==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${g} items`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:g,data:n,schemaCode:u}=o,a=g==="maxItems"?e.operators.GT:e.operators.LT;o.fail$data((0,e._)`${n}.length ${a} ${u}`)}};return Ge.default=b,Ge}var Je={},He={},_r;function It(){if(_r)return He;_r=1,Object.defineProperty(He,"__esModule",{value:!0});const e=Wr();return e.code='require("ajv/dist/runtime/equal").default',He.default=e,He}var gr;function In(){if(gr)return Je;gr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=ht(),t=H(),b=Q(),o=It(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${u} are identical)`,params:({params:{i:u,j:a}})=>(0,t._)`{i: ${u}, j: ${a}}`},code(u){const{gen:a,data:i,$data:y,schema:m,parentSchema:w,schemaCode:N,it:S}=u;if(!y&&!m)return;const E=a.let("valid"),P=w.items?(0,e.getSchemaTypes)(w.items):[];u.block$data(E,d,(0,t._)`${N} === false`),u.ok(E);function d(){const _=a.let("i",(0,t._)`${i}.length`),h=a.let("j");u.setParams({i:_,j:h}),a.assign(E,!0),a.if((0,t._)`${_} > 1`,()=>(c()?r:f)(_,h))}function c(){return P.length>0&&!P.some(_=>_==="object"||_==="array")}function r(_,h){const l=a.name("item"),$=(0,e.checkDataTypes)(P,l,S.opts.strictNumbers,e.DataType.Wrong),T=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${_}--;`,()=>{a.let(l,(0,t._)`${i}[${_}]`),a.if($,(0,t._)`continue`),P.length>1&&a.if((0,t._)`typeof ${l} == "string"`,(0,t._)`${l} += "_"`),a.if((0,t._)`typeof ${T}[${l}] == "number"`,()=>{a.assign(h,(0,t._)`${T}[${l}]`),u.error(),a.assign(E,!1).break()}).code((0,t._)`${T}[${l}] = ${_}`)})}function f(_,h){const l=(0,b.useFunc)(a,o.default),$=a.name("outer");a.label($).for((0,t._)`;${_}--;`,()=>a.for((0,t._)`${h} = ${_}; ${h}--;`,()=>a.if((0,t._)`${l}(${i}[${_}], ${i}[${h}])`,()=>{u.error(),a.assign(E,!1).break($)})))}}};return Je.default=n,Je}var Be={},$r;function qn(){if($r)return Be;$r=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=H(),t=Q(),b=It(),g={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:u,data:a,$data:i,schemaCode:y,schema:m}=n;i||m&&typeof m=="object"?n.fail$data((0,e._)`!${(0,t.useFunc)(u,b.default)}(${a}, ${y})`):n.fail((0,e._)`${m} !== ${a}`)}};return Be.default=g,Be}var We={},vr;function An(){if(vr)return We;vr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=H(),t=Q(),b=It(),g={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:u,data:a,$data:i,schema:y,schemaCode:m,it:w}=n;if(!i&&y.length===0)throw new Error("enum must have non-empty array");const N=y.length>=w.opts.loopEnum;let S;const E=()=>S??(S=(0,t.useFunc)(u,b.default));let P;if(N||i)P=u.let("valid"),n.block$data(P,d);else{if(!Array.isArray(y))throw new Error("ajv implementation error");const r=u.const("vSchema",m);P=(0,e.or)(...y.map((f,_)=>c(r,_)))}n.pass(P);function d(){u.assign(P,!1),u.forOf("v",m,r=>u.if((0,e._)`${E()}(${a}, ${r})`,()=>u.assign(P,!0).break()))}function c(r,f){const _=y[f];return typeof _=="object"&&_!==null?(0,e._)`${E()}(${a}, ${r}[${f}])`:(0,e._)`${a} === ${_}`}}};return We.default=g,We}var wr;function Mn(){if(wr)return Me;wr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=Sn(),t=Nn(),b=jn(),o=kn(),g=On(),n=Tn(),u=Cn(),a=In(),i=qn(),y=An(),m=[e.default,t.default,b.default,o.default,g.default,n.default,u.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},i.default,y.default];return Me.default=m,Me}var Qe={},Ee={},br;function xr(){if(br)return Ee;br=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=H(),t=Q(),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:u,it:a}=n,{items:i}=u;if(!Array.isArray(i)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}g(n,i)}};function g(n,u){const{gen:a,schema:i,data:y,keyword:m,it:w}=n;w.items=!0;const N=a.const("len",(0,e._)`${y}.length`);if(i===!1)n.setParams({len:u.length}),n.pass((0,e._)`${N} <= ${u.length}`);else if(typeof i=="object"&&!(0,t.alwaysValidSchema)(w,i)){const E=a.var("valid",(0,e._)`${N} <= ${u.length}`);a.if((0,e.not)(E),()=>S(E)),n.ok(E)}function S(E){a.forRange("i",u.length,N,P=>{n.subschema({keyword:m,dataProp:P,dataPropType:t.Type.Num},E),w.allErrors||a.if((0,e.not)(E),()=>a.break())})}}return Ee.validateAdditionalItems=g,Ee.default=o,Ee}var Xe={},Pe={},Er;function en(){if(Er)return Pe;Er=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateTuple=void 0;const e=H(),t=Q(),b=le(),o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:u,it:a}=n;if(Array.isArray(u))return g(n,"additionalItems",u);a.items=!0,!(0,t.alwaysValidSchema)(a,u)&&n.ok((0,b.validateArray)(n))}};function g(n,u,a=n.schema){const{gen:i,parentSchema:y,data:m,keyword:w,it:N}=n;P(y),N.opts.unevaluated&&a.length&&N.items!==!0&&(N.items=t.mergeEvaluated.items(i,a.length,N.items));const S=i.name("valid"),E=i.const("len",(0,e._)`${m}.length`);a.forEach((d,c)=>{(0,t.alwaysValidSchema)(N,d)||(i.if((0,e._)`${E} > ${c}`,()=>n.subschema({keyword:w,schemaProp:c,dataProp:c},S)),n.ok(S))});function P(d){const{opts:c,errSchemaPath:r}=N,f=a.length,_=f===d.minItems&&(f===d.maxItems||d[u]===!1);if(c.strictTuples&&!_){const h=`"${w}" is ${f}-tuple, but minItems or maxItems/${u} are not specified or different at path "${r}"`;(0,t.checkStrictMode)(N,h,c.strictTuples)}}}return Pe.validateTuple=g,Pe.default=o,Pe}var Pr;function Dn(){if(Pr)return Xe;Pr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=en(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:b=>(0,e.validateTuple)(b,"items")};return Xe.default=t,Xe}var Ye={},Sr;function Vn(){if(Sr)return Ye;Sr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=H(),t=Q(),b=le(),o=xr(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>(0,e.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,e._)`{limit: ${u}}`},code(u){const{schema:a,parentSchema:i,it:y}=u,{prefixItems:m}=i;y.items=!0,!(0,t.alwaysValidSchema)(y,a)&&(m?(0,o.validateAdditionalItems)(u,m):u.ok((0,b.validateArray)(u)))}};return Ye.default=n,Ye}var Ze={},Nr;function Fn(){if(Nr)return Ze;Nr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=H(),t=Q(),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:g,max:n}})=>n===void 0?(0,e.str)`must contain at least ${g} valid item(s)`:(0,e.str)`must contain at least ${g} and no more than ${n} valid item(s)`,params:({params:{min:g,max:n}})=>n===void 0?(0,e._)`{minContains: ${g}}`:(0,e._)`{minContains: ${g}, maxContains: ${n}}`},code(g){const{gen:n,schema:u,parentSchema:a,data:i,it:y}=g;let m,w;const{minContains:N,maxContains:S}=a;y.opts.next?(m=N===void 0?1:N,w=S):m=1;const E=n.const("len",(0,e._)`${i}.length`);if(g.setParams({min:m,max:w}),w===void 0&&m===0){(0,t.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(w!==void 0&&m>w){(0,t.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),g.fail();return}if((0,t.alwaysValidSchema)(y,u)){let f=(0,e._)`${E} >= ${m}`;w!==void 0&&(f=(0,e._)`${f} && ${E} <= ${w}`),g.pass(f);return}y.items=!0;const P=n.name("valid");w===void 0&&m===1?c(P,()=>n.if(P,()=>n.break())):m===0?(n.let(P,!0),w!==void 0&&n.if((0,e._)`${i}.length > 0`,d)):(n.let(P,!1),d()),g.result(P,()=>g.reset());function d(){const f=n.name("_valid"),_=n.let("count",0);c(f,()=>n.if(f,()=>r(_)))}function c(f,_){n.forRange("i",0,E,h=>{g.subschema({keyword:"contains",dataProp:h,dataPropType:t.Type.Num,compositeRule:!0},f),_()})}function r(f){n.code((0,e._)`${f}++`),w===void 0?n.if((0,e._)`${f} >= ${m}`,()=>n.assign(P,!0).break()):(n.if((0,e._)`${f} > ${w}`,()=>n.assign(P,!1).break()),m===1?n.assign(P,!0):n.if((0,e._)`${f} >= ${m}`,()=>n.assign(P,!0)))}}};return Ze.default=o,Ze}var Rt={},Rr;function Kn(){return Rr||(Rr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=H(),b=Q(),o=le();e.error={message:({params:{property:i,depsCount:y,deps:m}})=>{const w=y===1?"property":"properties";return(0,t.str)`must have ${w} ${m} when property ${i} is present`},params:({params:{property:i,depsCount:y,deps:m,missingProperty:w}})=>(0,t._)`{property: ${i},
    missingProperty: ${w},
    depsCount: ${y},
    deps: ${m}}`};const g={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){const[y,m]=n(i);u(i,y),a(i,m)}};function n({schema:i}){const y={},m={};for(const w in i){if(w==="__proto__")continue;const N=Array.isArray(i[w])?y:m;N[w]=i[w]}return[y,m]}function u(i,y=i.schema){const{gen:m,data:w,it:N}=i;if(Object.keys(y).length===0)return;const S=m.let("missing");for(const E in y){const P=y[E];if(P.length===0)continue;const d=(0,o.propertyInData)(m,w,E,N.opts.ownProperties);i.setParams({property:E,depsCount:P.length,deps:P.join(", ")}),N.allErrors?m.if(d,()=>{for(const c of P)(0,o.checkReportMissingProp)(i,c)}):(m.if((0,t._)`${d} && (${(0,o.checkMissingProp)(i,P,S)})`),(0,o.reportMissingProp)(i,S),m.else())}}e.validatePropertyDeps=u;function a(i,y=i.schema){const{gen:m,data:w,keyword:N,it:S}=i,E=m.name("valid");for(const P in y)(0,b.alwaysValidSchema)(S,y[P])||(m.if((0,o.propertyInData)(m,w,P,S.opts.ownProperties),()=>{const d=i.subschema({keyword:N,schemaProp:P},E);i.mergeValidEvaluated(d,E)},()=>m.var(E,!0)),i.ok(E))}e.validateSchemaDeps=a,e.default=g}(Rt)),Rt}var xe={},jr;function Un(){if(jr)return xe;jr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=H(),t=Q(),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:g})=>(0,e._)`{propertyName: ${g.propertyName}}`},code(g){const{gen:n,schema:u,data:a,it:i}=g;if((0,t.alwaysValidSchema)(i,u))return;const y=n.name("valid");n.forIn("key",a,m=>{g.setParams({propertyName:m}),g.subschema({keyword:"propertyNames",data:m,dataTypes:["string"],propertyName:m,compositeRule:!0},y),n.if((0,e.not)(y),()=>{g.error(!0),i.allErrors||n.break()})}),g.ok(y)}};return xe.default=o,xe}var et={},kr;function tn(){if(kr)return et;kr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=le(),t=H(),b=ge(),o=Q(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>(0,t._)`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:a,schema:i,parentSchema:y,data:m,errsCount:w,it:N}=u;if(!w)throw new Error("ajv implementation error");const{allErrors:S,opts:E}=N;if(N.props=!0,E.removeAdditional!=="all"&&(0,o.alwaysValidSchema)(N,i))return;const P=(0,e.allSchemaProperties)(y.properties),d=(0,e.allSchemaProperties)(y.patternProperties);c(),u.ok((0,t._)`${w} === ${b.default.errors}`);function c(){a.forIn("key",m,l=>{!P.length&&!d.length?_(l):a.if(r(l),()=>_(l))})}function r(l){let $;if(P.length>8){const T=(0,o.schemaRefOrVal)(N,y.properties,"properties");$=(0,e.isOwnProperty)(a,T,l)}else P.length?$=(0,t.or)(...P.map(T=>(0,t._)`${l} === ${T}`)):$=t.nil;return d.length&&($=(0,t.or)($,...d.map(T=>(0,t._)`${(0,e.usePattern)(u,T)}.test(${l})`))),(0,t.not)($)}function f(l){a.code((0,t._)`delete ${m}[${l}]`)}function _(l){if(E.removeAdditional==="all"||E.removeAdditional&&i===!1){f(l);return}if(i===!1){u.setParams({additionalProperty:l}),u.error(),S||a.break();return}if(typeof i=="object"&&!(0,o.alwaysValidSchema)(N,i)){const $=a.name("valid");E.removeAdditional==="failing"?(h(l,$,!1),a.if((0,t.not)($),()=>{u.reset(),f(l)})):(h(l,$),S||a.if((0,t.not)($),()=>a.break()))}}function h(l,$,T){const A={keyword:"additionalProperties",dataProp:l,dataPropType:o.Type.Str};T===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(A,$)}}};return et.default=n,et}var tt={},Or;function Ln(){if(Or)return tt;Or=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=yt(),t=le(),b=Q(),o=tn(),g={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:u,schema:a,parentSchema:i,data:y,it:m}=n;m.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&o.default.code(new e.KeywordCxt(m,o.default,"additionalProperties"));const w=(0,t.allSchemaProperties)(a);for(const d of w)m.definedProperties.add(d);m.opts.unevaluated&&w.length&&m.props!==!0&&(m.props=b.mergeEvaluated.props(u,(0,b.toHash)(w),m.props));const N=w.filter(d=>!(0,b.alwaysValidSchema)(m,a[d]));if(N.length===0)return;const S=u.name("valid");for(const d of N)E(d)?P(d):(u.if((0,t.propertyInData)(u,y,d,m.opts.ownProperties)),P(d),m.allErrors||u.else().var(S,!0),u.endIf()),n.it.definedProperties.add(d),n.ok(S);function E(d){return m.opts.useDefaults&&!m.compositeRule&&a[d].default!==void 0}function P(d){n.subschema({keyword:"properties",schemaProp:d,dataProp:d},S)}}};return tt.default=g,tt}var rt={},Tr;function zn(){if(Tr)return rt;Tr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=le(),t=H(),b=Q(),o=Q(),g={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:u,schema:a,data:i,parentSchema:y,it:m}=n,{opts:w}=m,N=(0,e.allSchemaProperties)(a),S=N.filter(_=>(0,b.alwaysValidSchema)(m,a[_]));if(N.length===0||S.length===N.length&&(!m.opts.unevaluated||m.props===!0))return;const E=w.strictSchema&&!w.allowMatchingProperties&&y.properties,P=u.name("valid");m.props!==!0&&!(m.props instanceof t.Name)&&(m.props=(0,o.evaluatedPropsToName)(u,m.props));const{props:d}=m;c();function c(){for(const _ of N)E&&r(_),m.allErrors?f(_):(u.var(P,!0),f(_),u.if(P))}function r(_){for(const h in E)new RegExp(_).test(h)&&(0,b.checkStrictMode)(m,`property ${h} matches pattern ${_} (use allowMatchingProperties)`)}function f(_){u.forIn("key",i,h=>{u.if((0,t._)`${(0,e.usePattern)(n,_)}.test(${h})`,()=>{const l=S.includes(_);l||n.subschema({keyword:"patternProperties",schemaProp:_,dataProp:h,dataPropType:o.Type.Str},P),m.opts.unevaluated&&d!==!0?u.assign((0,t._)`${d}[${h}]`,!0):!l&&!m.allErrors&&u.if((0,t.not)(P),()=>u.break())})})}}};return rt.default=g,rt}var nt={},Cr;function Gn(){if(Cr)return nt;Cr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=Q(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(b){const{gen:o,schema:g,it:n}=b;if((0,e.alwaysValidSchema)(n,g)){b.fail();return}const u=o.name("valid");b.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),b.failResult(u,()=>b.reset(),()=>b.error())},error:{message:"must NOT be valid"}};return nt.default=t,nt}var st={},Ir;function Jn(){if(Ir)return st;Ir=1,Object.defineProperty(st,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:le().validateUnion,error:{message:"must match a schema in anyOf"}};return st.default=t,st}var at={},qr;function Hn(){if(qr)return at;qr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=H(),t=Q(),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:g})=>(0,e._)`{passingSchemas: ${g.passing}}`},code(g){const{gen:n,schema:u,parentSchema:a,it:i}=g;if(!Array.isArray(u))throw new Error("ajv implementation error");if(i.opts.discriminator&&a.discriminator)return;const y=u,m=n.let("valid",!1),w=n.let("passing",null),N=n.name("_valid");g.setParams({passing:w}),n.block(S),g.result(m,()=>g.reset(),()=>g.error(!0));function S(){y.forEach((E,P)=>{let d;(0,t.alwaysValidSchema)(i,E)?n.var(N,!0):d=g.subschema({keyword:"oneOf",schemaProp:P,compositeRule:!0},N),P>0&&n.if((0,e._)`${N} && ${m}`).assign(m,!1).assign(w,(0,e._)`[${w}, ${P}]`).else(),n.if(N,()=>{n.assign(m,!0),n.assign(w,P),d&&g.mergeEvaluated(d,e.Name)})})}}};return at.default=o,at}var ot={},Ar;function Bn(){if(Ar)return ot;Ar=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=Q(),t={keyword:"allOf",schemaType:"array",code(b){const{gen:o,schema:g,it:n}=b;if(!Array.isArray(g))throw new Error("ajv implementation error");const u=o.name("valid");g.forEach((a,i)=>{if((0,e.alwaysValidSchema)(n,a))return;const y=b.subschema({keyword:"allOf",schemaProp:i},u);b.ok(u),b.mergeEvaluated(y)})}};return ot.default=t,ot}var it={},Mr;function Wn(){if(Mr)return it;Mr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=H(),t=Q(),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:u,parentSchema:a,it:i}=n;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const y=g(i,"then"),m=g(i,"else");if(!y&&!m)return;const w=u.let("valid",!0),N=u.name("_valid");if(S(),n.reset(),y&&m){const P=u.let("ifClause");n.setParams({ifClause:P}),u.if(N,E("then",P),E("else",P))}else y?u.if(N,E("then")):u.if((0,e.not)(N),E("else"));n.pass(w,()=>n.error(!0));function S(){const P=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N);n.mergeEvaluated(P)}function E(P,d){return()=>{const c=n.subschema({keyword:P},N);u.assign(w,N),n.mergeValidEvaluated(c,w),d?u.assign(d,(0,e._)`${P}`):n.setParams({ifClause:P})}}}};function g(n,u){const a=n.schema[u];return a!==void 0&&!(0,t.alwaysValidSchema)(n,a)}return it.default=o,it}var ut={},Dr;function Qn(){if(Dr)return ut;Dr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Q(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:b,parentSchema:o,it:g}){o.if===void 0&&(0,e.checkStrictMode)(g,`"${b}" without "if" is ignored`)}};return ut.default=t,ut}var Vr;function Xn(){if(Vr)return Qe;Vr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=xr(),t=Dn(),b=en(),o=Vn(),g=Fn(),n=Kn(),u=Un(),a=tn(),i=Ln(),y=zn(),m=Gn(),w=Jn(),N=Hn(),S=Bn(),E=Wn(),P=Qn();function d(c=!1){const r=[m.default,w.default,N.default,S.default,E.default,P.default,u.default,a.default,n.default,i.default,y.default];return c?r.push(t.default,o.default):r.push(e.default,b.default),r.push(g.default),r}return Qe.default=d,Qe}var ct={},lt={},Fr;function Yn(){if(Fr)return lt;Fr=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=H(),b={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,e.str)`must match format "${o}"`,params:({schemaCode:o})=>(0,e._)`{format: ${o}}`},code(o,g){const{gen:n,data:u,$data:a,schema:i,schemaCode:y,it:m}=o,{opts:w,errSchemaPath:N,schemaEnv:S,self:E}=m;if(!w.validateFormats)return;a?P():d();function P(){const c=n.scopeValue("formats",{ref:E.formats,code:w.code.formats}),r=n.const("fDef",(0,e._)`${c}[${y}]`),f=n.let("fType"),_=n.let("format");n.if((0,e._)`typeof ${r} == "object" && !(${r} instanceof RegExp)`,()=>n.assign(f,(0,e._)`${r}.type || "string"`).assign(_,(0,e._)`${r}.validate`),()=>n.assign(f,(0,e._)`"string"`).assign(_,r)),o.fail$data((0,e.or)(h(),l()));function h(){return w.strictSchema===!1?e.nil:(0,e._)`${y} && !${_}`}function l(){const $=S.$async?(0,e._)`(${r}.async ? await ${_}(${u}) : ${_}(${u}))`:(0,e._)`${_}(${u})`,T=(0,e._)`(typeof ${_} == "function" ? ${$} : ${_}.test(${u}))`;return(0,e._)`${_} && ${_} !== true && ${f} === ${g} && !${T}`}}function d(){const c=E.formats[i];if(!c){h();return}if(c===!0)return;const[r,f,_]=l(c);r===g&&o.pass($());function h(){if(w.strictSchema===!1){E.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${i}" ignored in schema at path "${N}"`}}function l(T){const A=T instanceof RegExp?(0,e.regexpCode)(T):w.code.formats?(0,e._)`${w.code.formats}${(0,e.getProperty)(i)}`:void 0,D=n.scopeValue("formats",{key:i,ref:T,code:A});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,e._)`${D}.validate`]:["string",T,D]}function $(){if(typeof c=="object"&&!(c instanceof RegExp)&&c.async){if(!S.$async)throw new Error("async format in sync schema");return(0,e._)`await ${_}(${u})`}return typeof f=="function"?(0,e._)`${_}(${u})`:(0,e._)`${_}.test(${u})`}}}};return lt.default=b,lt}var Kr;function Zn(){if(Kr)return ct;Kr=1,Object.defineProperty(ct,"__esModule",{value:!0});const t=[Yn().default];return ct.default=t,ct}var we={},Ur;function xn(){return Ur||(Ur=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var Lr;function es(){if(Lr)return Ie;Lr=1,Object.defineProperty(Ie,"__esModule",{value:!0});const e=Pn(),t=Mn(),b=Xn(),o=Zn(),g=xn(),n=[e.default,t.default,(0,b.default)(),o.default,g.metadataVocabulary,g.contentVocabulary];return Ie.default=n,Ie}var dt={},Re={},zr;function ts(){if(zr)return Re;zr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(Re.DiscrError=e={})),Re}var Gr;function rs(){if(Gr)return dt;Gr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=H(),t=ts(),b=Ct(),o=_t(),g=Q(),u={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:i}})=>a===t.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:a,tag:i,tagName:y}})=>(0,e._)`{error: ${a}, tag: ${y}, tagValue: ${i}}`},code(a){const{gen:i,data:y,schema:m,parentSchema:w,it:N}=a,{oneOf:S}=w;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");const E=m.propertyName;if(typeof E!="string")throw new Error("discriminator: requires propertyName");if(m.mapping)throw new Error("discriminator: mapping is not supported");if(!S)throw new Error("discriminator: requires oneOf keyword");const P=i.let("valid",!1),d=i.const("tag",(0,e._)`${y}${(0,e.getProperty)(E)}`);i.if((0,e._)`typeof ${d} == "string"`,()=>c(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:d,tagName:E})),a.ok(P);function c(){const _=f();i.if(!1);for(const h in _)i.elseIf((0,e._)`${d} === ${h}`),i.assign(P,r(_[h]));i.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:d,tagName:E}),i.endIf()}function r(_){const h=i.name("valid"),l=a.subschema({keyword:"oneOf",schemaProp:_},h);return a.mergeEvaluated(l,e.Name),h}function f(){var _;const h={},l=T(w);let $=!0;for(let F=0;F<S.length;F++){let z=S[F];if(z!=null&&z.$ref&&!(0,g.schemaHasRulesButRef)(z,N.self.RULES)){const W=z.$ref;if(z=b.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,W),z instanceof b.SchemaEnv&&(z=z.schema),z===void 0)throw new o.default(N.opts.uriResolver,N.baseId,W)}const L=(_=z==null?void 0:z.properties)===null||_===void 0?void 0:_[E];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${E}"`);$=$&&(l||T(z)),A(L,F)}if(!$)throw new Error(`discriminator: "${E}" must be required`);return h;function T({required:F}){return Array.isArray(F)&&F.includes(E)}function A(F,z){if(F.const)D(F.const,z);else if(F.enum)for(const L of F.enum)D(L,z);else throw new Error(`discriminator: "properties/${E}" must have "const" or "enum"`)}function D(F,z){if(typeof F!="string"||F in h)throw new Error(`discriminator: "${E}" values must be unique strings`);h[F]=z}}}};return dt.default=u,dt}const ns="http://json-schema.org/draft-07/schema#",ss="http://json-schema.org/draft-07/schema#",as="Core schema meta-schema",os={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},is=["object","boolean"],us={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},cs={$schema:ns,$id:ss,title:as,definitions:os,type:is,properties:us,default:!0};var Jr;function ls(){return Jr||(Jr=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const b=wn(),o=es(),g=rs(),n=cs,u=["/properties"],a="http://json-schema.org/draft-07/schema";class i extends b.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(g.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(n,u):n;this.addMetaSchema(E,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=i,e.exports=t=i,e.exports.Ajv=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var y=yt();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return y.KeywordCxt}});var m=H();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var w=Tt();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return w.default}});var N=_t();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return N.default}})}(je,je.exports)),je.exports}var ds=ls();const fs=sn(ds);var hs={$id:"urn:jsonschema:credentials",additionalProperties:{properties:{accessKeyId:{default:null,nullable:!0,type:"string"},Bucket:{default:null,nullable:!0,type:"string"},endpoint:{default:null,nullable:!0,type:"string"},region:{default:null,nullable:!0,type:"string"},secretAccessKey:{default:null,nullable:!0,type:"string"}},type:"object"},type:"object"},ms={$id:"urn:jsonschema:data",items:{$ref:"urn:jsonschema:page"},type:"array"},ps={$id:"urn:jsonschema:importmap",additionalProperties:!1,properties:{imports:{additionalProperties:{type:"string"},default:{},type:"object"}},type:"object"},ys={$id:"urn:jsonschema:page",additionalProperties:!1,dynamicDefaults:{id:"uuid"},properties:{changefreq:{default:null,enum:["always","hourly","daily","weekly","monthly","yearly","never",null],nullable:!0,type:"string"},children:{default:[],items:{type:"object"},type:"array"},class:{default:["prose","max-w-none"],description:"Классы",items:{type:"string"},type:"array"},description:{default:null,nullable:!0,type:"string"},enabled:{default:!0,type:"boolean"},flat:{default:!0,type:"boolean"},header:{type:"string"},icon:{type:"string"},id:{type:"string"},images:{default:[],items:{properties:{alt:{type:"string"},url:{default:"",type:"string"}},type:"object"},type:"array"},keywords:{default:[],items:{type:"string"},type:"array"},lastmod:{default:null,nullable:!0,type:"string"},loc:{default:null,nullable:!0,type:"string"},name:{default:null,nullable:!0,type:"string"},priority:{default:null,maximum:1,minimum:0,nullable:!0,type:"number"},type:{default:null,enum:["article","book","profile","website","music.song","music.album","music.playlist","music.radio_station","video.movie","video.episode","video.tv_show","video.other",null],nullable:!0,type:"string"}},type:"object"};Br.DEFAULTS.uuid=()=>()=>on();var _s={get(){return this.children.filter(({enabled:e})=>e)}},gs={get(){return this.$siblings.findIndex(({id:e})=>this.id===e)}},$s={get(){return this.$siblings[this.$index+1]}},vs={get(){return this.$siblings[this.$index-1]}},ws={get(){return this.siblings.filter(({enabled:e})=>e)}},qt=new fs({code:{esm:!0},coerceTypes:!0,keywords:[Br()],removeAdditional:!0,schemas:[hs,ms,ys,ps],useDefaults:!0}),Is=e=>{window.console.error(e)},qs=async e=>(await fetch(e)).text(),As=e=>Object.fromEntries(e.map(t=>[t.toLowerCase().replaceAll(" ","_"),t])),bs={get(){return this.icon&&`i-${this.icon}`}},Hr=Qr({}),Ot=Qr([]),Es={get(){const e=this.branch.slice(1);return e.some(({name:t})=>!t)?void 0:e.map(({name:t})=>t).join("/").replaceAll(" ","_")}},Ps={get(){return["",void 0].includes(this.header)?this.name:this.header}},Ss={get(){var e;return(e=this.path)==null?void 0:e.replace(/^\/?/,"/").replace(/\/?$/,"/")}};qt.getSchema("urn:jsonschema:credentials");var jt=qt.getSchema("urn:jsonschema:data"),kt=qt.getSchema("urn:jsonschema:importmap"),{add:Ms,down:Ds,leaves:Ns,left:Vs,objLeaves:Fs,remove:Ks,right:Us,up:Ls}=nn(Ot);Xr(Hr,async e=>{await(kt==null?void 0:kt(e))||(Hr.imports={})});Xr(Ns,async e=>{await(jt==null?void 0:jt(e))?e.forEach(t=>{Object.defineProperties(t,{$children:_s,$index:gs,$next:$s,$prev:vs,$siblings:ws,i:bs,path:Es,title:Ps,to:Ss})}):(Ot.length=0,Ot.push({}))});export{Fs as a,Is as b,qs as c,As as g,Hr as i,Ot as n,Ns as p};
