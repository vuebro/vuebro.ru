import{getCurrentScope as te,onScopeDispose as ne,isRef as W,reactive as F,unref as q,onMounted as z,nextTick as oe,getCurrentInstance as J,watch as k,toValue as v,computed as P,shallowRef as M,readonly as le}from"vue";function R(e){return te()?(ne(e),!0):!1}function ge(e){if(!W(e))return F(e);const o=new Proxy({},{get(t,n,i){return q(Reflect.get(e.value,n,i))},set(t,n,i){return W(e.value[n])&&!W(i)?e.value[n].value=i:e.value[n]=i,!0},deleteProperty(t,n){return Reflect.deleteProperty(e.value,n)},has(t,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return F(o)}const Q=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=e=>e!=null,ue=Object.prototype.toString,ie=e=>ue.call(e)==="[object Object]",S=()=>{};function U(e,o){function t(...n){return new Promise((i,d)=>{Promise.resolve(e(()=>o.apply(this,n),{fn:o,thisArg:this,args:n})).then(i).catch(d)})}return t}function se(e,o={}){let t,n,i=S;const d=l=>{clearTimeout(l),i(),i=S};let f;return l=>{const r=v(e),c=v(o.maxWait);return t&&d(t),r<=0||c!==void 0&&c<=0?(n&&(d(n),n=null),Promise.resolve(l())):new Promise((a,m)=>{i=o.rejectOnCancel?m:a,f=l,c&&!n&&(n=setTimeout(()=>{t&&d(t),n=null,a(f())},c)),t=setTimeout(()=>{n&&d(n),n=null,a(l())},r)})}}function ce(...e){let o=0,t,n=!0,i=S,d,f,s,l,r;!W(e[0])&&typeof e[0]=="object"?{delay:f,trailing:s=!0,leading:l=!0,rejectOnCancel:r=!1}=e[0]:[f,s=!0,l=!0,r=!1]=e;const c=()=>{t&&(clearTimeout(t),t=void 0,i(),i=S)};return m=>{const h=v(f),y=Date.now()-o,E=()=>d=m();return c(),h<=0?(o=Date.now(),E()):(y>h&&(l||!n)?(o=Date.now(),E()):s&&(d=new Promise((T,p)=>{i=r?p:T,t=setTimeout(()=>{o=Date.now(),n=!0,T(E()),c()},Math.max(0,h-y))})),!l&&!t&&(t=setTimeout(()=>n=!0,h)),n=!1,d)}}function A(e){return Array.isArray(e)?e:[e]}function ae(e){return J()}function fe(e,o=200,t={}){return U(se(o,t),e)}function de(e,o=200,t=!1,n=!0,i=!1){return U(ce(o,t,n,i),e)}function Z(e,o=!0,t){ae()?z(e,t):o?e():oe(e)}function me(e,o,t){return k(e,o,{...t,immediate:!0})}const B=Q?window:void 0,pe=Q?window.document:void 0;function L(e){var o;const t=v(e);return(o=t==null?void 0:t.$el)!=null?o:t}function N(...e){const o=[],t=()=>{o.forEach(s=>s()),o.length=0},n=(s,l,r,c)=>(s.addEventListener(l,r,c),()=>s.removeEventListener(l,r,c)),i=P(()=>{const s=A(v(e[0])).filter(l=>l!=null);return s.every(l=>typeof l!="string")?s:void 0}),d=me(()=>{var s,l;return[(l=(s=i.value)==null?void 0:s.map(r=>L(r)))!=null?l:[B].filter(r=>r!=null),A(v(i.value?e[1]:e[0])),A(q(i.value?e[2]:e[1])),v(i.value?e[3]:e[2])]},([s,l,r,c])=>{if(t(),!(s!=null&&s.length)||!(l!=null&&l.length)||!(r!=null&&r.length))return;const a=ie(c)?{...c}:c;o.push(...s.flatMap(m=>l.flatMap(h=>r.map(y=>n(m,h,y,a)))))},{flush:"post"}),f=()=>{d(),t()};return R(t),f}function ve(){const e=M(!1),o=J();return o&&z(()=>{e.value=!0},o),e}function he(e){const o=ve();return P(()=>(o.value,!!e()))}function Te(e,o,t={}){const{root:n,rootMargin:i="0px",threshold:d=0,window:f=B,immediate:s=!0}=t,l=he(()=>f&&"IntersectionObserver"in f),r=P(()=>{const y=v(e);return A(y).map(L).filter(re)});let c=S;const a=M(s),m=l.value?k(()=>[r.value,L(n),a.value],([y,E])=>{if(c(),!a.value||!y.length)return;const T=new IntersectionObserver(o,{root:L(E),rootMargin:i,threshold:d});y.forEach(p=>p&&T.observe(p)),c=()=>{T.disconnect(),c=S}},{immediate:s,flush:"post"}):S,h=()=>{c(),m(),a.value=!1};return R(h),{isSupported:l,isActive:a,pause(){c(),a.value=!1},resume(){a.value=!0},stop:h}}const Y=1;function we(e,o={}){const{throttle:t=0,idle:n=200,onStop:i=S,onScroll:d=S,offset:f={left:0,right:0,top:0,bottom:0},eventListenerOptions:s={capture:!1,passive:!0},behavior:l="auto",window:r=B,onError:c=u=>{console.error(u)}}=o,a=M(0),m=M(0),h=P({get(){return a.value},set(u){E(u,void 0)}}),y=P({get(){return m.value},set(u){E(void 0,u)}});function E(u,x){var b,O,C,I;if(!r)return;const g=v(e);if(!g)return;(C=g instanceof Document?r.document.body:g)==null||C.scrollTo({top:(b=v(x))!=null?b:y.value,left:(O=v(u))!=null?O:h.value,behavior:v(l)});const _=((I=g==null?void 0:g.document)==null?void 0:I.documentElement)||(g==null?void 0:g.documentElement)||g;h!=null&&(a.value=_.scrollLeft),y!=null&&(m.value=_.scrollTop)}const T=M(!1),p=F({left:!0,right:!1,top:!0,bottom:!1}),w=F({left:!1,right:!1,top:!1,bottom:!1}),V=u=>{T.value&&(T.value=!1,w.left=!1,w.right=!1,w.top=!1,w.bottom=!1,i(u))},ee=fe(V,t+n),H=u=>{var x;if(!r)return;const b=((x=u==null?void 0:u.document)==null?void 0:x.documentElement)||(u==null?void 0:u.documentElement)||L(u),{display:O,flexDirection:C,direction:I}=getComputedStyle(b),g=I==="rtl"?-1:1,_=b.scrollLeft;w.left=_<a.value,w.right=_>a.value;const G=Math.abs(_*g)<=(f.left||0),X=Math.abs(_*g)+b.clientWidth>=b.scrollWidth-(f.right||0)-Y;O==="flex"&&C==="row-reverse"?(p.left=X,p.right=G):(p.left=G,p.right=X),a.value=_;let D=b.scrollTop;u===r.document&&!D&&(D=r.document.body.scrollTop),w.top=D<m.value,w.bottom=D>m.value;const $=Math.abs(D)<=(f.top||0),K=Math.abs(D)+b.clientHeight>=b.scrollHeight-(f.bottom||0)-Y;O==="flex"&&C==="column-reverse"?(p.top=K,p.bottom=$):(p.top=$,p.bottom=K),m.value=D},j=u=>{var x;if(!r)return;const b=(x=u.target.documentElement)!=null?x:u.target;H(b),T.value=!0,ee(u),d(u)};return N(e,"scroll",t?de(j,t,!0,!1):j,s),Z(()=>{try{const u=v(e);if(!u)return;H(u)}catch(u){c(u)}}),N(e,"scrollend",V,s),{x:h,y,isScrolling:T,arrivedState:p,directions:w,measure(){const u=v(e);r&&u&&H(u)}}}let ye=0;function Se(e,o={}){const t=M(!1),{document:n=pe,immediate:i=!0,manual:d=!1,id:f=`vueuse_styletag_${++ye}`}=o,s=M(e);let l=()=>{};const r=()=>{if(!n)return;const a=n.getElementById(f)||n.createElement("style");a.isConnected||(a.id=f,o.media&&(a.media=o.media),n.head.appendChild(a)),!t.value&&(l=k(s,m=>{a.textContent=m},{immediate:!0}),t.value=!0)},c=()=>{!n||!t.value||(l(),n.head.removeChild(n.getElementById(f)),t.value=!1)};return i&&!d&&Z(r),d||R(c),{id:f,css:s,unload:c,load:r,isLoaded:le(t)}}export{Te as a,we as b,ge as t,Se as u};
