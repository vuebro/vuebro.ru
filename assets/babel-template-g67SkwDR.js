import{g as G}from"./ajv-keywords-DR2KGciz.js";import{r as k}from"./babel-types-CE9sEDWp.js";import{r as K}from"./babel-parser-BdUoaBUX.js";import{r as Q}from"./babel-code-frame-CF4WPE1y.js";var E={},x={},N;function ee(){if(N)return x;N=1,Object.defineProperty(x,"__esModule",{value:!0}),x.statements=x.statement=x.smart=x.program=x.expression=void 0;var c=k();const{assertExpressionStatement:y}=c;function p(r){return{code:t=>`/* @babel/template */;
${t}`,validate:()=>{},unwrap:t=>r(t.program.body.slice(1))}}x.smart=p(r=>r.length>1?r:r[0]),x.statements=p(r=>r),x.statement=p(r=>{if(r.length===0)throw new Error("Found nothing to return.");if(r.length>1)throw new Error("Found multiple statements but wanted one");return r[0]});const b=x.expression={code:r=>`(
${r}
)`,validate:r=>{if(r.program.body.length>1)throw new Error("Found multiple statements but wanted one");if(b.unwrap(r).start===0)throw new Error("Parse result included parens.")},unwrap:({program:r})=>{const[t]=r.body;return y(t),t.expression}};return x.program={code:r=>r,validate:()=>{},unwrap:r=>r.program},x}var W={},$={},B;function M(){if(B)return $;B=1,Object.defineProperty($,"__esModule",{value:!0}),$.merge=p,$.normalizeReplacements=r,$.validate=b;const c=["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"];function y(t,a){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(a.indexOf(n)!==-1)continue;s[n]=t[n]}return s}function p(t,a){const{placeholderWhitelist:s=t.placeholderWhitelist,placeholderPattern:n=t.placeholderPattern,preserveComments:o=t.preserveComments,syntacticPlaceholders:d=t.syntacticPlaceholders}=a;return{parser:Object.assign({},t.parser,a.parser),placeholderWhitelist:s,placeholderPattern:n,preserveComments:o,syntacticPlaceholders:d}}function b(t){if(t!=null&&typeof t!="object")throw new Error("Unknown template options.");const a=t||{},{placeholderWhitelist:s,placeholderPattern:n,preserveComments:o,syntacticPlaceholders:d}=a,i=y(a,c);if(s!=null&&!(s instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(n!=null&&!(n instanceof RegExp)&&n!==!1)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(o!=null&&typeof o!="boolean")throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(d!=null&&typeof d!="boolean")throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(d===!0&&(s!=null||n!=null))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:i,placeholderWhitelist:s||void 0,placeholderPattern:n??void 0,preserveComments:o??void 0,syntacticPlaceholders:d??void 0}}function r(t){if(Array.isArray(t))return t.reduce((a,s,n)=>(a["$"+n]=s,a),{});if(typeof t=="object"||t==null)return t||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")}return $}var q={},L={},U;function V(){if(U)return L;U=1,Object.defineProperty(L,"__esModule",{value:!0}),L.default=w;var c=k(),y=K(),p=Q();const{isCallExpression:b,isExpressionStatement:r,isFunction:t,isIdentifier:a,isJSXIdentifier:s,isNewExpression:n,isPlaceholder:o,isStatement:d,isStringLiteral:i,removePropertiesDeep:u,traverse:h}=c,e=/^[_$A-Z0-9]+$/;function w(l,m,f){const{placeholderWhitelist:v,placeholderPattern:g,preserveComments:_,syntacticPlaceholders:j}=f,A=R(m,f.parser,j);u(A,{preserveComments:_}),l.validate(A);const O={syntactic:{placeholders:[],placeholderNames:new Set},legacy:{placeholders:[],placeholderNames:new Set},placeholderWhitelist:v,placeholderPattern:g,syntacticPlaceholders:j};return h(A,P,O),Object.assign({ast:A},O.syntactic.placeholders.length?O.syntactic:O.legacy)}function P(l,m,f){var v;let g,_=f.syntactic.placeholders.length>0;if(o(l)){if(f.syntacticPlaceholders===!1)throw new Error("%%foo%%-style placeholders can't be used when '.syntacticPlaceholders' is false.");g=l.name.name,_=!0}else{if(_||f.syntacticPlaceholders)return;if(a(l)||s(l))g=l.name;else if(i(l))g=l.value;else return}if(_&&(f.placeholderPattern!=null||f.placeholderWhitelist!=null))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");if(!_&&(f.placeholderPattern===!1||!(f.placeholderPattern||e).test(g))&&!((v=f.placeholderWhitelist)!=null&&v.has(g)))return;m=m.slice();const{node:j,key:A}=m[m.length-1];let O;i(l)||o(l,{expectedNode:"StringLiteral"})?O="string":n(j)&&A==="arguments"||b(j)&&A==="arguments"||t(j)&&A==="params"?O="param":r(j)&&!o(l)?(O="statement",m=m.slice(0,-1)):d(l)&&o(l)?O="statement":O="other";const{placeholders:Y,placeholderNames:T}=_?f.syntactic:f.legacy;Y.push({name:g,type:O,resolve:Z=>S(Z,m),isDuplicate:T.has(g)}),T.add(g)}function S(l,m){let f=l;for(let _=0;_<m.length-1;_++){const{key:j,index:A}=m[_];A===void 0?f=f[j]:f=f[j][A]}const{key:v,index:g}=m[m.length-1];return{parent:f,key:v,index:g}}function R(l,m,f){const v=(m.plugins||[]).slice();f!==!1&&v.push("placeholders"),m=Object.assign({allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowYieldOutsideFunction:!0,sourceType:"module"},m,{plugins:v});try{return(0,y.parse)(l,m)}catch(g){const _=g.loc;throw _&&(g.message+=`
`+(0,p.codeFrameColumns)(l,{start:_}),g.code="BABEL_TEMPLATE_PARSE_ERROR"),g}}return L}var C={},D;function X(){if(D)return C;D=1,Object.defineProperty(C,"__esModule",{value:!0}),C.default=d;var c=k();const{blockStatement:y,cloneNode:p,emptyStatement:b,expressionStatement:r,identifier:t,isStatement:a,isStringLiteral:s,stringLiteral:n,validate:o}=c;function d(u,h){const e=p(u.ast);return h&&(u.placeholders.forEach(w=>{if(!hasOwnProperty.call(h,w.name)){const P=w.name;throw new Error(`Error: No substitution given for "${P}". If this is not meant to be a
            placeholder you may want to consider passing one of the following options to @babel/template:
            - { placeholderPattern: false, placeholderWhitelist: new Set(['${P}'])}
            - { placeholderPattern: /^${P}$/ }`)}}),Object.keys(h).forEach(w=>{if(!u.placeholderNames.has(w))throw new Error(`Unknown substitution "${w}" given`)})),u.placeholders.slice().reverse().forEach(w=>{try{i(w,e,h&&h[w.name]||null)}catch(P){throw P.message=`@babel/template placeholder "${w.name}": ${P.message}`,P}}),e}function i(u,h,e){u.isDuplicate&&(Array.isArray(e)?e=e.map(l=>p(l)):typeof e=="object"&&(e=p(e)));const{parent:w,key:P,index:S}=u.resolve(h);if(u.type==="string"){if(typeof e=="string"&&(e=n(e)),!e||!s(e))throw new Error("Expected string substitution")}else if(u.type==="statement")S===void 0?e?Array.isArray(e)?e=y(e):typeof e=="string"?e=r(t(e)):a(e)||(e=r(e)):e=b():e&&!Array.isArray(e)&&(typeof e=="string"&&(e=t(e)),a(e)||(e=r(e)));else if(u.type==="param"){if(typeof e=="string"&&(e=t(e)),S===void 0)throw new Error("Assertion failure.")}else if(typeof e=="string"&&(e=t(e)),Array.isArray(e))throw new Error("Cannot replace single expression with an array.");function R(l,m,f){const v=l[m];l[m]=f,(v.type==="Identifier"||v.type==="Placeholder")&&(v.typeAnnotation&&(f.typeAnnotation=v.typeAnnotation),v.optional&&(f.optional=v.optional),v.decorators&&(f.decorators=v.decorators))}if(S===void 0)o(w,P,e),R(w,P,e);else{const l=w[P].slice();u.type==="statement"||u.type==="param"?e==null?l.splice(S,1):Array.isArray(e)?l.splice(S,1,...e):R(l,S,e):R(l,S,e),o(w,P,l),w[P]=l}}return C}var z;function te(){if(z)return q;z=1,Object.defineProperty(q,"__esModule",{value:!0}),q.default=b;var c=M(),y=V(),p=X();function b(r,t,a){t=r.code(t);let s;return n=>{const o=(0,c.normalizeReplacements)(n);return s||(s=(0,y.default)(r,t,a)),r.unwrap((0,p.default)(s,o))}}return q}var F={},I;function re(){if(I)return F;I=1,Object.defineProperty(F,"__esModule",{value:!0}),F.default=b;var c=M(),y=V(),p=X();function b(a,s,n){const{metadata:o,names:d}=r(a,s,n);return i=>{const u={};return i.forEach((h,e)=>{u[d[e]]=h}),h=>{const e=(0,c.normalizeReplacements)(h);return e&&Object.keys(e).forEach(w=>{if(hasOwnProperty.call(u,w))throw new Error("Unexpected replacement overlap.")}),a.unwrap((0,p.default)(o,e?Object.assign(e,u):u))}}}function r(a,s,n){let o="BABEL_TPL$";const d=s.join("");do o="$$"+o;while(d.includes(o));const{names:i,code:u}=t(s,o);return{metadata:(0,y.default)(a,a.code(u),{parser:n.parser,placeholderWhitelist:new Set(i.concat(n.placeholderWhitelist?Array.from(n.placeholderWhitelist):[])),placeholderPattern:n.placeholderPattern,preserveComments:n.preserveComments,syntacticPlaceholders:n.syntacticPlaceholders}),names:i}}function t(a,s){const n=[];let o=a[0];for(let d=1;d<a.length;d++){const i=`${s}${d-1}`;n.push(i),o+=i+a[d]}return{names:n,code:o}}return F}var H;function ne(){if(H)return W;H=1,Object.defineProperty(W,"__esModule",{value:!0}),W.default=r;var c=M(),y=te(),p=re();const b=(0,c.validate)({placeholderPattern:!1});function r(a,s){const n=new WeakMap,o=new WeakMap,d=s||(0,c.validate)(null);return Object.assign((i,...u)=>{if(typeof i=="string"){if(u.length>1)throw new Error("Unexpected extra params.");return t((0,y.default)(a,i,(0,c.merge)(d,(0,c.validate)(u[0]))))}else if(Array.isArray(i)){let h=n.get(i);return h||(h=(0,p.default)(a,i,d),n.set(i,h)),t(h(u))}else if(typeof i=="object"&&i){if(u.length>0)throw new Error("Unexpected extra params.");return r(a,(0,c.merge)(d,(0,c.validate)(i)))}throw new Error(`Unexpected template param ${typeof i}`)},{ast:(i,...u)=>{if(typeof i=="string"){if(u.length>1)throw new Error("Unexpected extra params.");return(0,y.default)(a,i,(0,c.merge)((0,c.merge)(d,(0,c.validate)(u[0])),b))()}else if(Array.isArray(i)){let h=o.get(i);return h||(h=(0,p.default)(a,i,(0,c.merge)(d,b)),o.set(i,h)),h(u)()}throw new Error(`Unexpected template param ${typeof i}`)}})}function t(a){let s="";try{throw new Error}catch(n){n.stack&&(s=n.stack.split(`
`).slice(3).join(`
`))}return n=>{try{return a(n)}catch(o){throw o.stack+=`
    =============
${s}`,o}}}return W}var J;function ae(){if(J)return E;J=1,Object.defineProperty(E,"__esModule",{value:!0}),E.statements=E.statement=E.smart=E.program=E.expression=E.default=void 0;var c=ee(),y=ne();const p=E.smart=(0,y.default)(c.smart),b=E.statement=(0,y.default)(c.statement),r=E.statements=(0,y.default)(c.statements),t=E.expression=(0,y.default)(c.expression),a=E.program=(0,y.default)(c.program);return E.default=Object.assign(p.bind(void 0),{smart:p,statement:b,statements:r,expression:t,program:a,ast:p.ast}),E}var ie=ae();const ce=G(ie);export{ce as _,ae as r};
