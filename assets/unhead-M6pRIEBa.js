import{version as fe,nextTick as pe,unref as G,inject as ue,ref as M,watchEffect as J,watch as de,getCurrentInstance as ye,onBeforeUnmount as Z,onDeactivated as ge,onActivated as me,defineComponent as he}from"vue";import{c as be}from"./hookable-B8xFkYCm.js";const ve=new Set(["title","titleTemplate","script","style","noscript"]),S=new Set(["base","meta","link","style","script","noscript"]),ke=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Te=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),z=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),_e=typeof window<"u";function C(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function j(e){if(e._h)return e._h;if(e._d)return C(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return C(t)}function X(e,t){const n=[],r=t.resolveKeyData||(s=>s.key),o=t.resolveValueData||(s=>s.value);for(const[s,i]of Object.entries(e))n.push(...(Array.isArray(i)?i:[i]).map(a=>{const l={key:s,value:a},p=o(l);return typeof p=="object"?X(p,t):Array.isArray(p)?p:{[typeof t.key=="function"?t.key(l):t.key]:r(l),[typeof t.value=="function"?t.value(l):t.value]:p}}).flat());return n}function Q(e,t){return Object.entries(e).map(([n,r])=>{if(typeof r=="object"&&(r=Q(r,t)),t.resolve){const o=t.resolve({key:n,value:r});if(typeof o<"u")return o}return typeof r=="number"&&(r=r.toString()),typeof r=="string"&&t.wrapValue&&(r=r.replace(new RegExp(t.wrapValue,"g"),`\\${t.wrapValue}`),r=`${t.wrapValue}${r}${t.wrapValue}`),`${n}${t.keyValueSeparator||""}${r}`}).join(t.entrySeparator||"")}const h=e=>({keyValue:e,metaKey:"property"}),O=e=>({keyValue:e}),K={appleItunesApp:{unpack:{entrySeparator:", ",resolve({key:e,value:t}){return`${v(e)}=${t}`}}},articleExpirationTime:h("article:expiration_time"),articleModifiedTime:h("article:modified_time"),articlePublishedTime:h("article:published_time"),bookReleaseDate:h("book:release_date"),charset:{metaKey:"charset"},contentSecurityPolicy:{unpack:{entrySeparator:"; ",resolve({key:e,value:t}){return`${v(e)} ${t}`}},metaKey:"http-equiv"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},fbAppId:h("fb:app_id"),msapplicationConfig:O("msapplication-Config"),msapplicationTileColor:O("msapplication-TileColor"),msapplicationTileImage:O("msapplication-TileImage"),ogAudioSecureUrl:h("og:audio:secure_url"),ogAudioUrl:h("og:audio"),ogImageSecureUrl:h("og:image:secure_url"),ogImageUrl:h("og:image"),ogSiteName:h("og:site_name"),ogVideoSecureUrl:h("og:video:secure_url"),ogVideoUrl:h("og:video"),profileFirstName:h("profile:first_name"),profileLastName:h("profile:last_name"),profileUsername:h("profile:username"),refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve({key:e,value:t}){if(e==="seconds")return`${t}`}}},robots:{unpack:{entrySeparator:", ",resolve({key:e,value:t}){return typeof t=="boolean"?`${v(e)}`:`${v(e)}:${t}`}}},xUaCompatible:{metaKey:"http-equiv"}},Y=new Set(["og","book","article","profile"]);function ee(e){const t=v(e),n=t.indexOf(":");return Y.has(t.substring(0,n))?"property":K[e]?.metaKey||"name"}function Pe(e){return K[e]?.keyValue||v(e)}function v(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-"),r=t.substring(0,n);return r==="twitter"||Y.has(r)?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function L(e){if(Array.isArray(e))return e.map(n=>L(n));if(typeof e!="object"||Array.isArray(e))return e;const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[v(n)]=L(e[n]));return t}function we(e,t){const n=K[t];return t==="refresh"?`${e.seconds};url=${e.url}`:Q(L(e),{keyValueSeparator:"=",entrySeparator:", ",resolve({value:r,key:o}){if(r===null)return"";if(typeof r=="boolean")return`${o}`},...n?.unpack})}const te=new Set(["og:image","og:video","og:audio","twitter:image"]);function ne(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=e[n];String(r)!=="false"&&n&&(t[n]=r)}return t}function U(e,t){const n=ne(t),r=v(e),o=ee(r);if(te.has(r)){const s={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[`${e}${i==="url"?"":`${i[0].toUpperCase()}${i.slice(1)}`}`]=n[i]);return D(s).sort((i,a)=>(i[o]?.length||0)-(a[o]?.length||0))}return[{[o]:r,...n}]}function D(e){const t=[],n={};for(const o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;const s=e[o];if(!Array.isArray(s)){if(typeof s=="object"&&s){if(te.has(v(o))){t.push(...U(o,s));continue}n[o]=ne(s)}else n[o]=s;continue}for(const i of s)t.push(...typeof i=="string"?D({[o]:i}):U(o,i))}const r=X(n,{key({key:o}){return ee(o)},value({key:o}){return o==="charset"?"charset":"content"},resolveKeyData({key:o}){return Pe(o)},resolveValueData({value:o,key:s}){return o===null?"_null":typeof o=="object"?we(o,s):typeof o=="number"?o.toString():o}});return[...t,...r].map(o=>(o.content==="_null"&&(o.content=null),o))}function Ae(e,t){return e instanceof Promise?e.then(t):t(e)}function E(e,t,n,r){const o=r||oe(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(o instanceof Promise)return o.then(i=>E(e,t,n,i));const s={tag:e,props:o};for(const i of z){const a=s.props[i]!==void 0?s.props[i]:n[i];a!==void 0&&((!(i==="innerHTML"||i==="textContent"||i==="children")||ve.has(s.tag))&&(s[i==="children"?"innerHTML":i]=a),delete s.props[i])}return s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(i=>({...s,props:{...s.props,content:i}})):s}function He(e,t){const n=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,r])=>r).map(([r,o])=>e==="style"?`${r}:${o}`:r)),String(Array.isArray(t)?t.join(n):t)?.split(n).filter(r=>!!r.trim()).join(n)}function re(e,t,n,r){for(let o=r;o<n.length;o+=1){const s=n[o];if(s==="class"||s==="style"){e[s]=He(s,e[s]);continue}if(e[s]instanceof Promise)return e[s].then(i=>(e[s]=i,re(e,t,n,o)));if(!t&&!z.has(s)){const i=String(e[s]),a=s.startsWith("data-");i==="true"||i===""?e[s]=a?e[s]:!0:e[s]||(a&&i==="false"?e[s]="false":delete e[s])}}}function oe(e,t=!1){const n=re(e,t,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}const Se=10;function se(e,t,n){for(let r=n;r<t.length;r+=1){const o=t[r];if(o instanceof Promise)return o.then(s=>(t[r]=s,se(e,t,r)));Array.isArray(o)?e.push(...o):e.push(o)}}function Ce(e){const t=[],n=e.resolvedInput;for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const s=n[o];if(!(s===void 0||!ke.has(o))){if(Array.isArray(s)){for(const i of s)t.push(E(o,i,e));continue}t.push(E(o,s,e))}}if(t.length===0)return[];const r=[];return Ae(se(r,t,0),()=>r.map((o,s)=>(o._e=e._i,e.mode&&(o._m=e.mode),o._p=(e._i<<Se)+s,o)))}const I=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),V={base:-10,title:10},R={critical:-80,high:-10,low:20};function $(e){const t=e.tagPriority;if(typeof t=="number")return t;let n=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?n=-30:e.props.charset?n=-20:e.props.name==="viewport"&&(n=-15):e.tag==="link"&&e.props.rel==="preconnect"?n=20:e.tag in V&&(n=V[e.tag]),t&&t in R?n+R[t]:n}const $e=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],xe=["name","property","http-equiv"];function ie(e){const{props:t,tag:n}=e;if(Te.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const r of xe)if(t[r]!==void 0)return`${n}:${r}:${t[r]}`;return!1}const k="%separator";function Oe(e,t){let n;if(t==="s"||t==="pageTitle")n=e.pageTitle;else if(t.includes(".")){const r=t.indexOf(".");n=e[t.substring(0,r)]?.[t.substring(r+1)]}else n=e[t];return n!==void 0?(n||"").replace(/"/g,'\\"'):void 0}const Me=new RegExp(`${k}(?:\\s*${k})*`,"g");function H(e,t,n){if(typeof e!="string"||!e.includes("%"))return e;let r=e;try{r=decodeURI(e)}catch{}const o=r.match(/%\w+(?:\.\w+)?/g);if(!o)return e;const s=e.includes(k);return e=e.replace(/%\w+(?:\.\w+)?/g,i=>{if(i===k||!o.includes(i))return i;const a=Oe(t,i.slice(1));return a!==void 0?a:i}).trim(),s&&(e.endsWith(k)&&(e=e.slice(0,-k.length)),e.startsWith(k)&&(e=e.slice(k.length)),e=e.replace(Me,n).trim()),e}function W(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function je(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{const s=(await e.resolveTags()).map(c=>({tag:c,id:S.has(c.tag)?j(c):c.tag,shouldRender:!0}));let i=e._dom;if(!i){i={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const c=new Set;for(const f of["body","head"]){const u=n[f]?.children;for(const g of u){const y=g.tagName.toLowerCase();if(!S.has(y))continue;const b={tag:y,props:await oe(g.getAttributeNames().reduce((P,A)=>({...P,[A]:g.getAttribute(A)}),{})),innerHTML:g.innerHTML},T=ie(b);let m=T,w=1;for(;m&&c.has(m);)m=`${T}:${w++}`;m&&(b._d=m,c.add(m)),i.elMap[g.getAttribute("data-hid")||j(b)]=g}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function a(c,f,u){const g=`${c}:${f}`;i.sideEffects[g]=u,delete i.pendingSideEffects[g]}function l({id:c,$el:f,tag:u}){const g=u.tag.endsWith("Attrs");if(i.elMap[c]=f,g||(u.textContent&&u.textContent!==f.textContent&&(f.textContent=u.textContent),u.innerHTML&&u.innerHTML!==f.innerHTML&&(f.innerHTML=u.innerHTML),a(c,"el",()=>{i.elMap[c]?.remove(),delete i.elMap[c]})),u._eventHandlers)for(const y in u._eventHandlers)Object.prototype.hasOwnProperty.call(u._eventHandlers,y)&&f.getAttribute(`data-${y}`)!==""&&((u.tag==="bodyAttrs"?n.defaultView:f).addEventListener(y.substring(2),u._eventHandlers[y].bind(f)),f.setAttribute(`data-${y}`,""));for(const y in u.props){if(!Object.prototype.hasOwnProperty.call(u.props,y))continue;const b=u.props[y],T=`attr:${y}`;if(y==="class"){if(!b)continue;for(const m of b.split(" "))g&&a(c,`${T}:${m}`,()=>f.classList.remove(m)),!f.classList.contains(m)&&f.classList.add(m)}else if(y==="style"){if(!b)continue;for(const m of b.split(";")){const w=m.indexOf(":"),P=m.substring(0,w).trim(),A=m.substring(w+1).trim();a(c,`${T}:${P}`,()=>{f.style.removeProperty(P)}),f.style.setProperty(P,A)}}else f.getAttribute(y)!==b&&f.setAttribute(y,b===!0?"":String(b)),g&&a(c,T,()=>f.removeAttribute(y))}}const p=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const c of s){const{tag:f,shouldRender:u,id:g}=c;if(u){if(f.tag==="title"){n.title=f.textContent;continue}c.$el=c.$el||i.elMap[g],c.$el?l(c):S.has(f.tag)&&p.push(c)}}for(const c of p){const f=c.tag.tagPosition||"head";c.$el=n.createElement(c.tag.tag),l(c),d[f]=d[f]||n.createDocumentFragment(),d[f].appendChild(c.$el)}for(const c of s)await e.hooks.callHook("dom:renderTag",c,n,a);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const c in i.pendingSideEffects)i.pendingSideEffects[c]();e._dom=i,await e.hooks.callHook("dom:rendered",{renders:s}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Le(e,t={}){const n=t.delayFn||(r=>setTimeout(r,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(r=>n(()=>je(e,t).then(()=>{delete e._domDebouncedUpdatePromise,r()})))}function Ee(e){return t=>{const n=t.resolvedOptions.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":r=>{Le(r,e)}}}}}const Ke=new Set(["templateParams","htmlAttrs","bodyAttrs"]),De={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=ie(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const n=t||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const r of e.tags){const o=(r.key?`${r.tag}:${r.key}`:r._d)||j(r),s=t[o];if(s){let a=r?.tagDuplicateStrategy;if(!a&&Ke.has(r.tag)&&(a="merge"),a==="merge"){const l=s.props;l.style&&r.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),r.props.style=`${l.style} ${r.props.style}`),l.class&&r.props.class?r.props.class=`${l.class} ${r.props.class}`:l.class&&(r.props.class=l.class),t[o].props={...l,...r.props};continue}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);continue}else if($(r)>$(s))continue}if(!(r.innerHTML||r.textContent||Object.keys(r.props).length!==0)&&S.has(r.tag)){delete t[o];continue}t[o]=r}const n=[];for(const r in t){const o=t[r],s=o._duped;n.push(o),s&&(delete o._duped,n.push(...s))}e.tags=n,e.tags=e.tags.filter(r=>!(r.tag==="meta"&&(r.props.name||r.props.property)&&!r.props.content))}}},Ue=new Set(["script","link","bodyAttrs"]),Ie=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!Ue.has(n.tag))continue;const r=n.props;for(const o in r){if(o[0]!=="o"||o[1]!=="n"||!Object.prototype.hasOwnProperty.call(r,o))continue;const s=r[o];typeof s=="function"&&(e.ssr&&I.has(o)?r[o]=`this.dataset.${o}fired = true`:delete r[o],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[o]=s)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||C(n.props.src||n.props.href))}},"dom:renderTag":({$el:t,tag:n})=>{const r=t?.dataset;if(r)for(const o in r){if(!o.endsWith("fired"))continue;const s=o.slice(0,-5);I.has(s)&&n._eventHandlers?.[s]?.call(t,new Event(s.substring(2)))}}}}),Ve=new Set(["link","style","script","noscript"]),Re={hooks:{"tag:normalise":({tag:e})=>{e.key&&Ve.has(e.tag)&&(e.props["data-hid"]=e._h=C(e.key))}}},We={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const r of e.tags)r._m!=="server"||r.tag!=="titleTemplate"&&r.tag!=="templateParams"&&r.tag!=="title"||(t[r.tag]=r.tag==="title"||r.tag==="titleTemplate"?r.textContent:r.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},qe={hooks:{"tags:resolve":e=>{for(const t of e.tags)if(typeof t.tagPriority=="string")for(const{prefix:n,offset:r}of $e){if(!t.tagPriority.startsWith(n))continue;const o=t.tagPriority.substring(n.length),s=e.tags.find(i=>i._d===o)?._p;if(s!==void 0){t._p=s+r;break}}e.tags.sort((t,n)=>{const r=$(t),o=$(n);return r<o?-1:r>o?1:t._p-n._p})}}},Ne={meta:"content",link:"href",htmlAttrs:"lang"},Fe=["innerHTML","textContent"],Be=e=>({hooks:{"tags:resolve":t=>{const{tags:n}=t;let r;for(let i=0;i<n.length;i+=1)n[i].tag==="templateParams"&&(r=t.tags.splice(i,1)[0].props,i-=1);const o=r||{},s=o.separator||"|";delete o.separator,o.pageTitle=H(o.pageTitle||n.find(i=>i.tag==="title")?.textContent||"",o,s);for(const i of n){if(i.processTemplateParams===!1)continue;const a=Ne[i.tag];if(a&&typeof i.props[a]=="string")i.props[a]=H(i.props[a],o,s);else if(i.processTemplateParams||i.tag==="titleTemplate"||i.tag==="title")for(const l of Fe)typeof i[l]=="string"&&(i[l]=H(i[l],o,s))}e._templateParams=o,e._separator=s},"tags:afterResolve":({tags:t})=>{let n;for(let r=0;r<t.length;r+=1){const o=t[r];o.tag==="title"&&o.processTemplateParams!==!1&&(n=o)}n?.textContent&&(n.textContent=H(n.textContent,e._templateParams,e._separator))}}}),Ge={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,r;for(let o=0;o<t.length;o+=1){const s=t[o];s.tag==="title"?n=s:s.tag==="titleTemplate"&&(r=s)}if(r&&n){const o=W(r.textContent,n.textContent);o!==null?n.textContent=o||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(r){const o=W(r.textContent);o!==null&&(r.textContent=o,r.tag="title",r=void 0)}r&&e.tags.splice(e.tags.indexOf(r),1)}}},Je={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let ae;function Ze(e={}){const t=ze(e);return t.use(Ee()),ae=t}function q(e,t){return!e||e==="server"&&t||e==="client"&&!t}function ze(e={}){const t=be();t.addHooks(e.hooks||{}),e.document=e.document||(_e?document:void 0);const n=!e.document,r=()=>{a.dirty=!0,t.callHook("entries:updated",a)};let o=0,s=[];const i=[],a={plugins:i,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return s},use(l){const p=typeof l=="function"?l(a):l;(!p.key||!i.some(d=>d.key===p.key))&&(i.push(p),q(p.mode,n)&&t.addHooks(p.hooks||{}))},push(l,p){delete p?.head;const d={_i:o++,input:l,...p};return q(d.mode,n)&&(s.push(d),r()),{dispose(){s=s.filter(c=>c._i!==d._i),r()},patch(c){for(const f of s)f._i===d._i&&(f.input=d.input=c);r()}}},async resolveTags(){const l={tags:[],entries:[...s]};await t.callHook("entries:resolve",l);for(const p of l.entries){const d=p.resolvedInput||p.input;if(p.resolvedInput=await(p.transform?p.transform(d):d),p.resolvedInput)for(const c of await Ce(p)){const f={tag:c,entry:p,resolvedOptions:a.resolvedOptions};await t.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await t.callHook("tags:beforeResolve",l),await t.callHook("tags:resolve",l),await t.callHook("tags:afterResolve",l),l.tags},ssr:n};return[De,We,Ie,Re,qe,Be,Ge,Je,...e?.plugins||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function Xe(){return ae}const _=fe[0]==="3";function Qe(e){return typeof e=="function"?e():G(e)}function x(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=Qe(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(n=>x(n));if(typeof t=="object"){const n={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r==="titleTemplate"||r[0]==="o"&&r[1]==="n"){n[r]=G(t[r]);continue}n[r]=x(t[r])}return Object.keys(n)?n:t}return t}const Ye={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=x(t.input)}}},ce="usehead";function et(e){return{install(n){_&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(ce,e))}}.install}function it(e={}){e.domDelayFn=e.domDelayFn||(n=>pe(()=>setTimeout(()=>n(),0)));const t=Ze(e);return t.use(Ye),t.install=et(t),t}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F="__unhead_injection_handler__";function le(){if(F in N)return N[F]();const e=ue(ce);return e||Xe()}function tt(e,t={}){const n=t.head||le();if(n)return n.ssr?n.push(e,t):nt(n,e,t)}function nt(e,t,n={}){const r=M(!1),o=M({});J(()=>{o.value=r.value?{}:x(t)});const s=e.push(o.value,n);return de(o,a=>{s.patch(a)}),ye()&&(Z(()=>{s.dispose()}),ge(()=>{r.value=!0}),me(()=>{r.value=!1})),s}function at(e,t){const{title:n,titleTemplate:r,...o}=e;return tt({title:n,titleTemplate:r,_flatMeta:o},{...t,transform(s){const i=D({...s._flatMeta});return delete s._flatMeta,{...s,meta:i}}})}function B(e,t){const n=_?e.type:e.tag,r=n==="html"?"htmlAttrs":n==="body"?"bodyAttrs":n;if(typeof r!="string"||!(r in t))return;const o=_?e:e.data,s=(_?e.props:o.attrs)||{};if(_||(o.staticClass&&(s.class=o.staticClass),o.staticStyle&&(s.style=Object.entries(o.staticStyle).map(([i,a])=>`${i}:${a}`).join(";"))),e.children){const i=_?"children":"text";s.children=Array.isArray(e.children)?e.children[0][i]:e[i]}Array.isArray(t[r])?t[r].push(s):r==="title"?t.title=s.children:t[r]=s}function rt(e){const t={title:void 0,htmlAttrs:void 0,bodyAttrs:void 0,base:void 0,meta:[],link:[],style:[],script:[],noscript:[]};for(const n of e)if(typeof n.type=="symbol"&&Array.isArray(n.children))for(const r of n.children)B(r,t);else B(n,t);return t}const ct=he({name:"Head",setup(e,{slots:t}){const n=le(),r=M({}),o=n.push(r);return Z(()=>{o.dispose()}),()=>(J(()=>{t.default&&o.patch(rt(t.default()))}),null)}});export{ct as H,at as a,it as c,tt as u};
