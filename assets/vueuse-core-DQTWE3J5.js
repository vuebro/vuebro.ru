import{a as H,n as K,b as I,c as W,u as Q,d as q,i as z,w as U,e as Z,f as ee}from"./vueuse-shared-B-8pbEvH.js";import{computed as O,toValue as p,shallowRef as L,watch as G,reactive as N,getCurrentInstance as te,onMounted as oe,unref as ne,readonly as le}from"vue";const B=z?window:void 0,se=z?window.document:void 0;function D(t){var r;const u=p(t);return(r=u==null?void 0:u.$el)!=null?r:u}function Y(...t){const r=[],u=()=>{r.forEach(o=>o()),r.length=0},i=(o,l,n,c)=>(o.addEventListener(l,n,c),()=>o.removeEventListener(l,n,c)),h=O(()=>{const o=H(p(t[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),g=U(()=>{var o,l;return[(l=(o=h.value)==null?void 0:o.map(n=>D(n)))!=null?l:[B].filter(n=>n!=null),H(p(h.value?t[1]:t[0])),H(ne(h.value?t[2]:t[1])),p(h.value?t[3]:t[2])]},([o,l,n,c])=>{if(u(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(n!=null&&n.length))return;const s=ee(c)?{...c}:c;r.push(...o.flatMap(v=>l.flatMap(y=>n.map(b=>i(v,y,b,s)))))},{flush:"post"}),a=()=>{g(),u()};return W(u),a}function re(){const t=L(!1),r=te();return r&&oe(()=>{t.value=!0},r),t}function ue(t){const r=re();return O(()=>(r.value,!!t()))}function de(t,r,u={}){const{root:i,rootMargin:h="0px",threshold:g=0,window:a=B,immediate:o=!0}=u,l=ue(()=>a&&"IntersectionObserver"in a),n=O(()=>{const b=p(t);return H(b).map(D).filter(K)});let c=I;const s=L(o),v=l.value?G(()=>[n.value,D(i),s.value],([b,x])=>{if(c(),!s.value||!b.length)return;const M=new IntersectionObserver(r,{root:D(x),rootMargin:h,threshold:g});b.forEach(d=>d&&M.observe(d)),c=()=>{M.disconnect(),c=I}},{immediate:o,flush:"post"}):I,y=()=>{c(),v(),s.value=!1};return W(y),{isSupported:l,isActive:s,pause(){c(),s.value=!1},resume(){s.value=!0},stop:y}}const k=1;function fe(t,r={}){const{throttle:u=0,idle:i=200,onStop:h=I,onScroll:g=I,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:o={capture:!1,passive:!0},behavior:l="auto",window:n=B,onError:c=e=>{console.error(e)}}=r,s=L(0),v=L(0),y=O({get(){return s.value},set(e){x(e,void 0)}}),b=O({get(){return v.value},set(e){x(void 0,e)}});function x(e,T){var f,_,C,A;if(!n)return;const m=p(t);if(!m)return;(C=m instanceof Document?n.document.body:m)==null||C.scrollTo({top:(f=p(T))!=null?f:b.value,left:(_=p(e))!=null?_:y.value,behavior:p(l)});const S=((A=m==null?void 0:m.document)==null?void 0:A.documentElement)||(m==null?void 0:m.documentElement)||m;y!=null&&(s.value=S.scrollLeft),b!=null&&(v.value=S.scrollTop)}const M=L(!1),d=N({left:!0,right:!1,top:!0,bottom:!1}),E=N({left:!1,right:!1,top:!1,bottom:!1}),F=e=>{M.value&&(M.value=!1,E.left=!1,E.right=!1,E.top=!1,E.bottom=!1,h(e))},J=Z(F,u+i),R=e=>{var T;if(!n)return;const f=((T=e==null?void 0:e.document)==null?void 0:T.documentElement)||(e==null?void 0:e.documentElement)||D(e),{display:_,flexDirection:C,direction:A}=getComputedStyle(f),m=A==="rtl"?-1:1,S=f.scrollLeft;E.left=S<s.value,E.right=S>s.value;const V=Math.abs(S*m)<=(a.left||0),X=Math.abs(S*m)+f.clientWidth>=f.scrollWidth-(a.right||0)-k;_==="flex"&&C==="row-reverse"?(d.left=X,d.right=V):(d.left=V,d.right=X),s.value=S;let w=f.scrollTop;e===n.document&&!w&&(w=n.document.body.scrollTop),E.top=w<v.value,E.bottom=w>v.value;const $=Math.abs(w)<=(a.top||0),j=Math.abs(w)+f.clientHeight>=f.scrollHeight-(a.bottom||0)-k;_==="flex"&&C==="column-reverse"?(d.top=j,d.bottom=$):(d.top=$,d.bottom=j),v.value=w},P=e=>{var T;if(!n)return;const f=(T=e.target.documentElement)!=null?T:e.target;R(f),M.value=!0,J(e),g(e)};return Y(t,"scroll",u?Q(P,u,!0,!1):P,o),q(()=>{try{const e=p(t);if(!e)return;R(e)}catch(e){c(e)}}),Y(t,"scrollend",F,o),{x:y,y:b,isScrolling:M,arrivedState:d,directions:E,measure(){const e=p(t);n&&e&&R(e)}}}let ce=0;function ve(t,r={}){const u=L(!1),{document:i=se,immediate:h=!0,manual:g=!1,id:a=`vueuse_styletag_${++ce}`}=r,o=L(t);let l=()=>{};const n=()=>{if(!i)return;const s=i.getElementById(a)||i.createElement("style");s.isConnected||(s.id=a,r.media&&(s.media=r.media),i.head.appendChild(s)),!u.value&&(l=G(o,v=>{s.textContent=v},{immediate:!0}),u.value=!0)},c=()=>{!i||!u.value||(l(),i.head.removeChild(i.getElementById(a)),u.value=!1)};return h&&!g&&q(n),g||W(c),{id:a,css:o,unload:c,load:n,isLoaded:le(u)}}export{de as a,fe as b,ve as u};
