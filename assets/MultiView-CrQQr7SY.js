import{defineComponent as R,ref as p,computed as m,watch as w,openBlock as d,createElementBlock as M,Fragment as z,renderList as D,normalizeClass as F,createBlock as L,resolveDynamicComponent as P}from"vue";import{a as k,b as $}from"./vueuse-B28Glbfg.js";import{$ as s,g as y,d as C,b as S,a as V,p as x,r as X,s as E,t as O,_ as Y}from"./index-DQ58zqLF.js";import{b as B}from"./vue-router-DgSFFxGk.js";import"./unocss-B1e3MdoH.js";import"./ofetch-C2qHvINx.js";import"./destr-CVtkxrq9.js";import"./ufo-CsG24Xhf.js";import"./magic-string-CBarp_SN.js";import"./jridgewell-B7qitoD1.js";import"./ajv-CP5YtGLq.js";import"./fast-deep-equal-DhA4GXGS.js";import"./json-schema-traverse-DW8_mBst.js";import"./fast-uri-DiSllsZr.js";import"./ajv-keywords-BRT4UfmJ.js";import"./uuid-random-oAgVU7wc.js";import"./iconify-DZNnka9g.js";import"./unhead-DyRpM8pl.js";import"./hookable-B8xFkYCm.js";import"./vue3-sfc-loader-DxcuOqa0.js";import"./vue-Cow_pXkh.js";const q=R({__name:"MultiView",setup(j,{expose:f}){f();const a=p([]),r=B(),l=m(()=>Object.fromEntries(s.value.map(t=>[t.id,y(t)]))),g=({id:t})=>l.value[t],e=m(()=>new Map(s.value.map(({id:t})=>[t,!1]))),u=p(new Map(e.value)),v=()=>{if(!x.value&&O.value&&s.value.length){const{scrollX:t,scrollY:o}=window,[n]=s.value,{root:b}=n,{$children:[{id:A}]=[{}]}=b,I=!Math.floor(t)&&!Math.floor(o)&&n.id===A?b.id:[...e.value.entries()].find(([,c])=>c)?.[0]??[...u.value.entries()].find(([,c])=>c)?.[0]??n.id;E.value=!1,r.push({name:I}).catch(()=>{})}};k(window,{behavior:S,onStop:v});const _=([{isIntersecting:t,target:{id:o}}])=>{u.value=new Map(e.value),e.value.set(o,t)},i=[];w(a,t=>{i.forEach(o=>{o()}),i.length=0,t.forEach(o=>{const{stop:n}=$(o,_,{threshold:V});i.push(n)})},{deep:C});const h={refs:a,router:r,templates:l,template:g,intersecting:e,$intersecting:u,onStop:v,callback:_,stops:i,get useIntersectionObserver(){return $},get useScroll(){return k},get behavior(){return S},get deep(){return C},get threshold(){return V},computed:m,ref:p,watch:w,get useRouter(){return B},get $siblings(){return s},get getAsyncComponent(){return y},get paused(){return x},get resolve(){return X},get scroll(){return E},get that(){return O}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),G=["id","role"];function H(j,f,a,r,l,g){return d(!0),M(z,null,D(r.$siblings,e=>(d(),M("div",{class:F(e.class),id:e.id,key:e.id,role:e.id===r.that?.id?"main":void 0,ref_for:!0,ref:"refs","un-cloak":""},[(d(),L(P(r.template(e)),{id:e.id,onVnodeMounted:()=>{r.resolve(e)}},null,8,["id","onVnodeMounted"]))],10,G))),128)}const de=Y(q,[["render",H],["__file","MultiView.vue"]]);export{de as default};
