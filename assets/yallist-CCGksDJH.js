var l,v;function c(){return v||(v=1,l=function(h){h.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}),l}var a,f;function g(){if(f)return a;f=1,a=h,h.Node=u,h.create=h;function h(t){var i=this;if(i instanceof h||(i=new h),i.tail=null,i.head=null,i.length=0,t&&typeof t.forEach=="function")t.forEach(function(r){i.push(r)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)i.push(arguments[e]);return i}h.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var i=t.next,e=t.prev;return i&&(i.prev=e),e&&(e.next=i),t===this.head&&(this.head=i),t===this.tail&&(this.tail=e),t.list.length--,t.next=null,t.prev=null,t.list=null,i},h.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var i=this.head;t.list=this,t.next=i,i&&(i.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},h.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var i=this.tail;t.list=this,t.prev=i,i&&(i.next=t),this.tail=t,this.head||(this.head=t),this.length++}},h.prototype.push=function(){for(var t=0,i=arguments.length;t<i;t++)o(this,arguments[t]);return this.length},h.prototype.unshift=function(){for(var t=0,i=arguments.length;t<i;t++)p(this,arguments[t]);return this.length},h.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},h.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},h.prototype.forEach=function(t,i){i=i||this;for(var e=this.head,n=0;e!==null;n++)t.call(i,e.value,n,this),e=e.next},h.prototype.forEachReverse=function(t,i){i=i||this;for(var e=this.tail,n=this.length-1;e!==null;n--)t.call(i,e.value,n,this),e=e.prev},h.prototype.get=function(t){for(var i=0,e=this.head;e!==null&&i<t;i++)e=e.next;if(i===t&&e!==null)return e.value},h.prototype.getReverse=function(t){for(var i=0,e=this.tail;e!==null&&i<t;i++)e=e.prev;if(i===t&&e!==null)return e.value},h.prototype.map=function(t,i){i=i||this;for(var e=new h,n=this.head;n!==null;)e.push(t.call(i,n.value,this)),n=n.next;return e},h.prototype.mapReverse=function(t,i){i=i||this;for(var e=new h,n=this.tail;n!==null;)e.push(t.call(i,n.value,this)),n=n.prev;return e},h.prototype.reduce=function(t,i){var e,n=this.head;if(arguments.length>1)e=i;else if(this.head)n=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=0;n!==null;r++)e=t(e,n.value,r),n=n.next;return e},h.prototype.reduceReverse=function(t,i){var e,n=this.tail;if(arguments.length>1)e=i;else if(this.tail)n=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;n!==null;r--)e=t(e,n.value,r),n=n.prev;return e},h.prototype.toArray=function(){for(var t=new Array(this.length),i=0,e=this.head;e!==null;i++)t[i]=e.value,e=e.next;return t},h.prototype.toArrayReverse=function(){for(var t=new Array(this.length),i=0,e=this.tail;e!==null;i++)t[i]=e.value,e=e.prev;return t},h.prototype.slice=function(t,i){i=i||this.length,i<0&&(i+=this.length),t=t||0,t<0&&(t+=this.length);var e=new h;if(i<t||i<0)return e;t<0&&(t=0),i>this.length&&(i=this.length);for(var n=0,r=this.head;r!==null&&n<t;n++)r=r.next;for(;r!==null&&n<i;n++,r=r.next)e.push(r.value);return e},h.prototype.sliceReverse=function(t,i){i=i||this.length,i<0&&(i+=this.length),t=t||0,t<0&&(t+=this.length);var e=new h;if(i<t||i<0)return e;t<0&&(t=0),i>this.length&&(i=this.length);for(var n=this.length,r=this.tail;r!==null&&n>i;n--)r=r.prev;for(;r!==null&&n>t;n--,r=r.prev)e.push(r.value);return e},h.prototype.splice=function(t,i){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;for(var r=[],e=0;n&&e<i;e++)r.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var e=2;e<arguments.length;e++)n=s(this,n,arguments[e]);return r},h.prototype.reverse=function(){for(var t=this.head,i=this.tail,e=t;e!==null;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=i,this.tail=t,this};function s(t,i,e){var n=i===t.head?new u(e,null,i,t):new u(e,i,i.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function o(t,i){t.tail=new u(i,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function p(t,i){t.head=new u(i,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function u(t,i,e,n){if(!(this instanceof u))return new u(t,i,e,n);this.list=n,this.value=t,i?(i.next=this,this.prev=i):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{c()(h)}catch{}return a}export{g as r};
