import{a as H,n as K,b as I,c as W,u as Q,d as U,e as q,w as Z,i as z,f as ee}from"./vueuse-shared-C_TsAxLO.js";import{computed as O,toValue as p,shallowRef as L,watch as G,reactive as N,readonly as te,unref as ne,getCurrentInstance as oe,onMounted as le}from"vue";const B=z?window:void 0,ue=z?window.document:void 0;function D(t){var s;const r=p(t);return(s=r==null?void 0:r.$el)!=null?s:r}function Y(...t){const s=[],r=()=>{s.forEach(n=>n()),s.length=0},i=(n,l,o,c)=>(n.addEventListener(l,o,c),()=>n.removeEventListener(l,o,c)),h=O(()=>{const n=H(p(t[0])).filter(l=>l!=null);return n.every(l=>typeof l!="string")?n:void 0}),g=Z(()=>{var n,l;return[(l=(n=h.value)==null?void 0:n.map(o=>D(o)))!=null?l:[B].filter(o=>o!=null),H(p(h.value?t[1]:t[0])),H(ne(h.value?t[2]:t[1])),p(h.value?t[3]:t[2])]},([n,l,o,c])=>{if(r(),!(n!=null&&n.length)||!(l!=null&&l.length)||!(o!=null&&o.length))return;const u=ee(c)?{...c}:c;s.push(...n.flatMap(m=>l.flatMap(y=>o.map(b=>i(m,y,b,u)))))},{flush:"post"}),a=()=>{g(),r()};return W(r),a}function se(){const t=L(!1),s=oe();return s&&le(()=>{t.value=!0},s),t}function re(t){const s=se();return O(()=>(s.value,!!t()))}function de(t,s,r={}){const{root:i,rootMargin:h="0px",threshold:g=0,window:a=B,immediate:n=!0}=r,l=re(()=>a&&"IntersectionObserver"in a),o=O(()=>{const b=p(t);return H(b).map(D).filter(K)});let c=I;const u=L(n),m=l.value?G(()=>[o.value,D(i),u.value],([b,x])=>{if(c(),!u.value||!b.length)return;const M=new IntersectionObserver(s,{root:D(x),rootMargin:h,threshold:g});b.forEach(d=>d&&M.observe(d)),c=()=>{M.disconnect(),c=I}},{immediate:n,flush:"post"}):I,y=()=>{c(),m(),u.value=!1};return W(y),{isSupported:l,isActive:u,pause(){c(),u.value=!1},resume(){u.value=!0},stop:y}}const k=1;function fe(t,s={}){const{throttle:r=0,idle:i=200,onStop:h=I,onScroll:g=I,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:n={capture:!1,passive:!0},behavior:l="auto",window:o=B,onError:c=e=>{console.error(e)}}=s,u=L(0),m=L(0),y=O({get(){return u.value},set(e){x(e,void 0)}}),b=O({get(){return m.value},set(e){x(void 0,e)}});function x(e,T){var f,_,C,A;if(!o)return;const v=p(t);if(!v)return;(C=v instanceof Document?o.document.body:v)==null||C.scrollTo({top:(f=p(T))!=null?f:b.value,left:(_=p(e))!=null?_:y.value,behavior:p(l)});const S=((A=v==null?void 0:v.document)==null?void 0:A.documentElement)||(v==null?void 0:v.documentElement)||v;y!=null&&(u.value=S.scrollLeft),b!=null&&(m.value=S.scrollTop)}const M=L(!1),d=N({left:!0,right:!1,top:!0,bottom:!1}),E=N({left:!1,right:!1,top:!1,bottom:!1}),F=e=>{M.value&&(M.value=!1,E.left=!1,E.right=!1,E.top=!1,E.bottom=!1,h(e))},J=Q(F,r+i),R=e=>{var T;if(!o)return;const f=((T=e==null?void 0:e.document)==null?void 0:T.documentElement)||(e==null?void 0:e.documentElement)||D(e),{display:_,flexDirection:C,direction:A}=getComputedStyle(f),v=A==="rtl"?-1:1,S=f.scrollLeft;E.left=S<u.value,E.right=S>u.value;const V=Math.abs(S*v)<=(a.left||0),X=Math.abs(S*v)+f.clientWidth>=f.scrollWidth-(a.right||0)-k;_==="flex"&&C==="row-reverse"?(d.left=X,d.right=V):(d.left=V,d.right=X),u.value=S;let w=f.scrollTop;e===o.document&&!w&&(w=o.document.body.scrollTop),E.top=w<m.value,E.bottom=w>m.value;const $=Math.abs(w)<=(a.top||0),j=Math.abs(w)+f.clientHeight>=f.scrollHeight-(a.bottom||0)-k;_==="flex"&&C==="column-reverse"?(d.top=j,d.bottom=$):(d.top=$,d.bottom=j),m.value=w},P=e=>{var T;if(!o)return;const f=(T=e.target.documentElement)!=null?T:e.target;R(f),M.value=!0,J(e),g(e)};return Y(t,"scroll",r?U(P,r,!0,!1):P,n),q(()=>{try{const e=p(t);if(!e)return;R(e)}catch(e){c(e)}}),Y(t,"scrollend",F,n),{x:y,y:b,isScrolling:M,arrivedState:d,directions:E,measure(){const e=p(t);o&&e&&R(e)}}}let ce=0;function me(t,s={}){const r=L(!1),{document:i=ue,immediate:h=!0,manual:g=!1,id:a=`vueuse_styletag_${++ce}`}=s,n=L(t);let l=()=>{};const o=()=>{if(!i)return;const u=i.getElementById(a)||i.createElement("style");u.isConnected||(u.id=a,s.media&&(u.media=s.media),i.head.appendChild(u)),!r.value&&(l=G(n,m=>{u.textContent=m},{immediate:!0}),r.value=!0)},c=()=>{!i||!r.value||(l(),i.head.removeChild(i.getElementById(a)),r.value=!1)};return h&&!g&&q(o),g||W(c),{id:a,css:n,unload:c,load:o,isLoaded:te(r)}}export{de as a,fe as b,me as u};
