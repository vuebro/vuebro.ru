import{computed as Vt,isReactive as on,reactive as kt,watch as Xr}from"vue";import{t as Ft}from"./vueuse-BnEJPnEc.js";import{v as Yr}from"./uuid-C_lTrkZC.js";import{g as un,d as Zr}from"./ajv-keywords-CuM6mo8B.js";import{r as xr}from"./fast-deep-equal-C148XJoK.js";import{r as cn}from"./fast-uri-J6I7s6O_.js";var ln=(e,{branch:r="branch",children:E="children",id:u="id",index:$="index",next:n="next",parent:l="parent",prev:a="prev",siblings:c="siblings"}={})=>{const p={[r]:{get(){var g;const w=[this];for(;(g=w[0])!=null&&g[l];)w.unshift(w[0][l]);return w}},[$]:{get(){return this[c].findIndex(w=>this[u]===w[u])}},[n]:{get(){return this[c][this[$]+1]}},[a]:{get(){return this[c][this[$]-1]}}},m=(w,g={})=>w.value.flatMap(_=>(Object.defineProperties(_,{...p,[l]:g,[c]:w}),[_,...m({configurable:!0,value:_[E]??[]},{configurable:!0,value:_})])),P=Vt(()=>m({value:on(e)?e:kt(e)})),N=Ft(Vt(()=>Object.fromEntries(P.value.map(w=>[w[u],w]))));return{add:w=>{const g=N[w];if(g){const _=g[E],o=g[$],i=g[c],t=Yr();switch(!0){case!!g[l]:i.splice(o+1,0,{[u]:t});break;case!!_:_.unshift({[u]:t});break;default:i.splice(o+1,0,{[u]:t});break}return t}},arrLeaves:Ft(P),down:w=>{const g=N[w];if(g){const _=g[$],o=_+1,i=g[c];_<i.length-1&&i[_]&&i[o]&&([i[_],i[o]]=[i[o],i[_]])}},leaves:P,left:w=>{const g=N[w];if(g){const _=g[l];if(_!=null&&_[l]){const o=_[E]??[];return _[c].splice(_[$]+1,0,...o.splice(g[$],1)),_[u]}}},objLeaves:N,remove:w=>{const g=N[w];if(g){const _=g[l];if(_){const[o]=P.value,i=g[n],t=g[a],f=(i==null?void 0:i[u])??(t==null?void 0:t[u])??_[u]??(o==null?void 0:o[u]);return g[c].splice(g[$],1),f}}},right:w=>{const g=N[w];if(g){const _=g[a];if(_){const o=_[E]??[],i=_[u],t=g[c];return _[E]=[...o,...t.splice(g[$],1)],i}}},up:w=>{const g=N[w];if(g){const _=g[$],o=_-1,i=g[c];_&&i[_]&&i[o]&&([i[o],i[_]]=[i[_],i[o]])}}}},je={exports:{}},wt={},he={},$e={},bt={},Et={},Pt={},Kt;function ft(){return Kt||(Kt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class E extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=E;class u extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((f,v)=>`${f}${v}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((f,v)=>(v instanceof E&&(f[v.str]=(f[v.str]||0)+1),f),{})}}e._Code=u,e.nil=new u("");function $(i,...t){const f=[i[0]];let v=0;for(;v<t.length;)a(f,t[v]),f.push(i[++v]);return new u(f)}e._=$;const n=new u("+");function l(i,...t){const f=[w(i[0])];let v=0;for(;v<t.length;)f.push(n),a(f,t[v]),f.push(n,w(i[++v]));return c(f),new u(f)}e.str=l;function a(i,t){t instanceof u?i.push(...t._items):t instanceof E?i.push(t):i.push(P(t))}e.addCodeArg=a;function c(i){let t=1;for(;t<i.length-1;){if(i[t]===n){const f=p(i[t-1],i[t+1]);if(f!==void 0){i.splice(t-1,3,f);continue}i[t++]="+"}t++}}function p(i,t){if(t==='""')return i;if(i==='""')return t;if(typeof i=="string")return t instanceof E||i[i.length-1]!=='"'?void 0:typeof t!="string"?`${i.slice(0,-1)}${t}"`:t[0]==='"'?i.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(i instanceof E))return`"${i}${t.slice(1)}`}function m(i,t){return t.emptyStr()?i:i.emptyStr()?t:l`${i}${t}`}e.strConcat=m;function P(i){return typeof i=="number"||typeof i=="boolean"||i===null?i:w(Array.isArray(i)?i.join(","):i)}function N(i){return new u(w(i))}e.stringify=N;function w(i){return JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=w;function g(i){return typeof i=="string"&&e.IDENTIFIER.test(i)?new u(`.${i}`):$`[${i}]`}e.getProperty=g;function _(i){if(typeof i=="string"&&e.IDENTIFIER.test(i))return new u(`${i}`);throw new Error(`CodeGen: invalid export name: ${i}, use explicit $id name mapping`)}e.getEsmExportName=_;function o(i){return new u(i.toString())}e.regexpCode=o}(Pt)),Pt}var St={},Ut;function Lt(){return Ut||(Ut=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=ft();class E extends Error{constructor(p){super(`CodeGen: "code" for ${p} not defined`),this.value=p.value}}var u;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(u||(e.UsedValueState=u={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class ${constructor({prefixes:p,parent:m}={}){this._names={},this._prefixes=p,this._parent=m}toName(p){return p instanceof r.Name?p:this.name(p)}name(p){return new r.Name(this._newName(p))}_newName(p){const m=this._names[p]||this._nameGroup(p);return`${p}${m.index++}`}_nameGroup(p){var m,P;if(!((P=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||P===void 0)&&P.has(p)||this._prefixes&&!this._prefixes.has(p))throw new Error(`CodeGen: prefix "${p}" is not allowed in this scope`);return this._names[p]={prefix:p,index:0}}}e.Scope=$;class n extends r.Name{constructor(p,m){super(m),this.prefix=p}setValue(p,{property:m,itemIndex:P}){this.value=p,this.scopePath=(0,r._)`.${new r.Name(m)}[${P}]`}}e.ValueScopeName=n;const l=(0,r._)`\n`;class a extends ${constructor(p){super(p),this._values={},this._scope=p.scope,this.opts={...p,_n:p.lines?l:r.nil}}get(){return this._scope}name(p){return new n(p,this._newName(p))}value(p,m){var P;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const N=this.toName(p),{prefix:w}=N,g=(P=m.key)!==null&&P!==void 0?P:m.ref;let _=this._values[w];if(_){const t=_.get(g);if(t)return t}else _=this._values[w]=new Map;_.set(g,N);const o=this._scope[w]||(this._scope[w]=[]),i=o.length;return o[i]=m.ref,N.setValue(m,{property:w,itemIndex:i}),N}getValue(p,m){const P=this._values[p];if(P)return P.get(m)}scopeRefs(p,m=this._values){return this._reduceValues(m,P=>{if(P.scopePath===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return(0,r._)`${p}${P.scopePath}`})}scopeCode(p=this._values,m,P){return this._reduceValues(p,N=>{if(N.value===void 0)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},m,P)}_reduceValues(p,m,P={},N){let w=r.nil;for(const g in p){const _=p[g];if(!_)continue;const o=P[g]=P[g]||new Map;_.forEach(i=>{if(o.has(i))return;o.set(i,u.Started);let t=m(i);if(t){const f=this.opts.es5?e.varKinds.var:e.varKinds.const;w=(0,r._)`${w}${f} ${i} = ${t};${this.opts._n}`}else if(t=N==null?void 0:N(i))w=(0,r._)`${w}${t}${this.opts._n}`;else throw new E(i);o.set(i,u.Completed)})}return w}}e.ValueScope=a}(St)),St}var zt;function H(){return zt||(zt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=ft(),E=Lt();var u=ft();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return u.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return u.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return u.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}});var $=Lt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return $.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return $.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return $.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return $.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class n{optimizeNodes(){return this}optimizeNames(s,y){return this}}class l extends n{constructor(s,y,T){super(),this.varKind=s,this.name=y,this.rhs=T}render({es5:s,_n:y}){const T=s?E.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${V};`+y}optimizeNames(s,y){if(s[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,s,y)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class a extends n{constructor(s,y,T){super(),this.lhs=s,this.rhs=y,this.sideEffects=T}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,y){if(!(this.lhs instanceof r.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,s,y),this}get names(){const s=this.lhs instanceof r.Name?{}:{...this.lhs.names};return L(s,this.rhs)}}class c extends a{constructor(s,y,T,V){super(s,T,V),this.op=y}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class p extends n{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class m extends n{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class P extends n{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class N extends n{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,y){return this.code=W(this.code,s,y),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class w extends n{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((y,T)=>y+T.render(s),"")}optimizeNodes(){const{nodes:s}=this;let y=s.length;for(;y--;){const T=s[y].optimizeNodes();Array.isArray(T)?s.splice(y,1,...T):T?s[y]=T:s.splice(y,1)}return s.length>0?this:void 0}optimizeNames(s,y){const{nodes:T}=this;let V=T.length;for(;V--;){const U=T[V];U.optimizeNames(s,y)||(x(s,U.names),T.splice(V,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((s,y)=>z(s,y.names),{})}}class g extends w{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class _ extends w{}class o extends g{}o.kind="else";class i extends g{constructor(s,y){super(y),this.condition=s}render(s){let y=`if(${this.condition})`+super.render(s);return this.else&&(y+="else "+this.else.render(s)),y}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let y=this.else;if(y){const T=y.optimizeNodes();y=this.else=Array.isArray(T)?new o(T):T}if(y)return s===!1?y instanceof i?y:y.nodes:this.nodes.length?this:new i(de(s),y instanceof i?[y]:y.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,y){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(s,y),!!(super.optimizeNames(s,y)||this.else))return this.condition=W(this.condition,s,y),this}get names(){const s=super.names;return L(s,this.condition),this.else&&z(s,this.else.names),s}}i.kind="if";class t extends g{}t.kind="for";class f extends t{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,y){if(super.optimizeNames(s,y))return this.iteration=W(this.iteration,s,y),this}get names(){return z(super.names,this.iteration.names)}}class v extends t{constructor(s,y,T,V){super(),this.varKind=s,this.name=y,this.from=T,this.to=V}render(s){const y=s.es5?E.varKinds.var:this.varKind,{name:T,from:V,to:U}=this;return`for(${y} ${T}=${V}; ${T}<${U}; ${T}++)`+super.render(s)}get names(){const s=L(super.names,this.from);return L(s,this.to)}}class h extends t{constructor(s,y,T,V){super(),this.loop=s,this.varKind=y,this.name=T,this.iterable=V}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,y){if(super.optimizeNames(s,y))return this.iterable=W(this.iterable,s,y),this}get names(){return z(super.names,this.iterable.names)}}class d extends g{constructor(s,y,T){super(),this.name=s,this.args=y,this.async=T}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}d.kind="func";class b extends w{render(s){return"return "+super.render(s)}}b.kind="return";class k extends g{render(s){let y="try"+super.render(s);return this.catch&&(y+=this.catch.render(s)),this.finally&&(y+=this.finally.render(s)),y}optimizeNodes(){var s,y;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(y=this.finally)===null||y===void 0||y.optimizeNodes(),this}optimizeNames(s,y){var T,V;return super.optimizeNames(s,y),(T=this.catch)===null||T===void 0||T.optimizeNames(s,y),(V=this.finally)===null||V===void 0||V.optimizeNames(s,y),this}get names(){const s=super.names;return this.catch&&z(s,this.catch.names),this.finally&&z(s,this.finally.names),s}}class A extends g{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}A.kind="catch";class D extends g{render(s){return"finally"+super.render(s)}}D.kind="finally";class F{constructor(s,y={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...y,_n:y.lines?`
`:""},this._extScope=s,this._scope=new E.Scope({parent:s}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,y){const T=this._extScope.value(s,y);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(s,y){return this._extScope.getValue(s,y)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,y,T,V){const U=this._scope.toName(y);return T!==void 0&&V&&(this._constants[U.str]=T),this._leafNode(new l(s,U,T)),U}const(s,y,T){return this._def(E.varKinds.const,s,y,T)}let(s,y,T){return this._def(E.varKinds.let,s,y,T)}var(s,y,T){return this._def(E.varKinds.var,s,y,T)}assign(s,y,T){return this._leafNode(new a(s,y,T))}add(s,y){return this._leafNode(new c(s,e.operators.ADD,y))}code(s){return typeof s=="function"?s():s!==r.nil&&this._leafNode(new N(s)),this}object(...s){const y=["{"];for(const[T,V]of s)y.length>1&&y.push(","),y.push(T),(T!==V||this.opts.es5)&&(y.push(":"),(0,r.addCodeArg)(y,V));return y.push("}"),new r._Code(y)}if(s,y,T){if(this._blockNode(new i(s)),y&&T)this.code(y).else().code(T).endIf();else if(y)this.code(y).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new i(s))}else(){return this._elseNode(new o)}endIf(){return this._endBlockNode(i,o)}_for(s,y){return this._blockNode(s),y&&this.code(y).endFor(),this}for(s,y){return this._for(new f(s),y)}forRange(s,y,T,V,U=this.opts.es5?E.varKinds.var:E.varKinds.let){const X=this._scope.toName(s);return this._for(new v(U,X,y,T),()=>V(X))}forOf(s,y,T,V=E.varKinds.const){const U=this._scope.toName(s);if(this.opts.es5){const X=y instanceof r.Name?y:this.var("_arr",y);return this.forRange("_i",0,(0,r._)`${X}.length`,B=>{this.var(U,(0,r._)`${X}[${B}]`),T(U)})}return this._for(new h("of",V,U,y),()=>T(U))}forIn(s,y,T,V=this.opts.es5?E.varKinds.var:E.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,r._)`Object.keys(${y})`,T);const U=this._scope.toName(s);return this._for(new h("in",V,U,y),()=>T(U))}endFor(){return this._endBlockNode(t)}label(s){return this._leafNode(new p(s))}break(s){return this._leafNode(new m(s))}return(s){const y=new b;if(this._blockNode(y),this.code(s),y.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(s,y,T){if(!y&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new k;if(this._blockNode(V),this.code(s),y){const U=this.name("e");this._currNode=V.catch=new A(U),y(U)}return T&&(this._currNode=V.finally=new D,this.code(T)),this._endBlockNode(A,D)}throw(s){return this._leafNode(new P(s))}block(s,y){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(y),this}endBlock(s){const y=this._blockStarts.pop();if(y===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-y;if(T<0||s!==void 0&&T!==s)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${s} expected`);return this._nodes.length=y,this}func(s,y=r.nil,T,V){return this._blockNode(new d(s,y,T)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(d)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,y){const T=this._currNode;if(T instanceof s||y&&T instanceof y)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${y?`${s.kind}/${y.kind}`:s.kind}"`)}_elseNode(s){const y=this._currNode;if(!(y instanceof i))throw new Error('CodeGen: "else" without "if"');return this._currNode=y.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const y=this._nodes;y[y.length-1]=s}}e.CodeGen=F;function z(O,s){for(const y in s)O[y]=(O[y]||0)+(s[y]||0);return O}function L(O,s){return s instanceof r._CodeOrName?z(O,s.names):O}function W(O,s,y){if(O instanceof r.Name)return T(O);if(!V(O))return O;return new r._Code(O._items.reduce((U,X)=>(X instanceof r.Name&&(X=T(X)),X instanceof r._Code?U.push(...X._items):U.push(X),U),[]));function T(U){const X=y[U.str];return X===void 0||s[U.str]!==1?U:(delete s[U.str],X)}function V(U){return U instanceof r._Code&&U._items.some(X=>X instanceof r.Name&&s[X.str]===1&&y[X.str]!==void 0)}}function x(O,s){for(const y in s)O[y]=(O[y]||0)-(s[y]||0)}function de(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,r._)`!${q(O)}`}e.not=de;const fe=R(e.operators.AND);function Z(...O){return O.reduce(fe)}e.and=Z;const ye=R(e.operators.OR);function I(...O){return O.reduce(ye)}e.or=I;function R(O){return(s,y)=>s===r.nil?y:y===r.nil?s:(0,r._)`${q(s)} ${O} ${q(y)}`}function q(O){return O instanceof r.Name?O:(0,r._)`(${O})`}}(Et)),Et}var G={},Gt;function Q(){if(Gt)return G;Gt=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const e=H(),r=ft();function E(h){const d={};for(const b of h)d[b]=!0;return d}G.toHash=E;function u(h,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:($(h,d),!n(d,h.self.RULES.all))}G.alwaysValidSchema=u;function $(h,d=h.schema){const{opts:b,self:k}=h;if(!b.strictSchema||typeof d=="boolean")return;const A=k.RULES.keywords;for(const D in d)A[D]||v(h,`unknown keyword: "${D}"`)}G.checkUnknownRules=$;function n(h,d){if(typeof h=="boolean")return!h;for(const b in h)if(d[b])return!0;return!1}G.schemaHasRules=n;function l(h,d){if(typeof h=="boolean")return!h;for(const b in h)if(b!=="$ref"&&d.all[b])return!0;return!1}G.schemaHasRulesButRef=l;function a({topSchemaRef:h,schemaPath:d},b,k,A){if(!A){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return(0,e._)`${b}`}return(0,e._)`${h}${d}${(0,e.getProperty)(k)}`}G.schemaRefOrVal=a;function c(h){return P(decodeURIComponent(h))}G.unescapeFragment=c;function p(h){return encodeURIComponent(m(h))}G.escapeFragment=p;function m(h){return typeof h=="number"?`${h}`:h.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=m;function P(h){return h.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=P;function N(h,d){if(Array.isArray(h))for(const b of h)d(b);else d(h)}G.eachItem=N;function w({mergeNames:h,mergeToName:d,mergeValues:b,resultToName:k}){return(A,D,F,z)=>{const L=F===void 0?D:F instanceof e.Name?(D instanceof e.Name?h(A,D,F):d(A,D,F),F):D instanceof e.Name?(d(A,F,D),D):b(D,F);return z===e.Name&&!(L instanceof e.Name)?k(A,L):L}}G.mergeEvaluated={props:w({mergeNames:(h,d,b)=>h.if((0,e._)`${b} !== true && ${d} !== undefined`,()=>{h.if((0,e._)`${d} === true`,()=>h.assign(b,!0),()=>h.assign(b,(0,e._)`${b} || {}`).code((0,e._)`Object.assign(${b}, ${d})`))}),mergeToName:(h,d,b)=>h.if((0,e._)`${b} !== true`,()=>{d===!0?h.assign(b,!0):(h.assign(b,(0,e._)`${b} || {}`),_(h,b,d))}),mergeValues:(h,d)=>h===!0?!0:{...h,...d},resultToName:g}),items:w({mergeNames:(h,d,b)=>h.if((0,e._)`${b} !== true && ${d} !== undefined`,()=>h.assign(b,(0,e._)`${d} === true ? true : ${b} > ${d} ? ${b} : ${d}`)),mergeToName:(h,d,b)=>h.if((0,e._)`${b} !== true`,()=>h.assign(b,d===!0?!0:(0,e._)`${b} > ${d} ? ${b} : ${d}`)),mergeValues:(h,d)=>h===!0?!0:Math.max(h,d),resultToName:(h,d)=>h.var("items",d)})};function g(h,d){if(d===!0)return h.var("props",!0);const b=h.var("props",(0,e._)`{}`);return d!==void 0&&_(h,b,d),b}G.evaluatedPropsToName=g;function _(h,d,b){Object.keys(b).forEach(k=>h.assign((0,e._)`${d}${(0,e.getProperty)(k)}`,!0))}G.setEvaluated=_;const o={};function i(h,d){return h.scopeValue("func",{ref:d,code:o[d.code]||(o[d.code]=new r._Code(d.code))})}G.useFunc=i;var t;(function(h){h[h.Num=0]="Num",h[h.Str=1]="Str"})(t||(G.Type=t={}));function f(h,d,b){if(h instanceof e.Name){const k=d===t.Num;return b?k?(0,e._)`"[" + ${h} + "]"`:(0,e._)`"['" + ${h} + "']"`:k?(0,e._)`"/" + ${h}`:(0,e._)`"/" + ${h}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?(0,e.getProperty)(h).toString():"/"+m(h)}G.getErrorPath=f;function v(h,d,b=h.opts.strictSchema){if(b){if(d=`strict mode: ${d}`,b===!0)throw new Error(d);h.self.logger.warn(d)}}return G.checkStrictMode=v,G}var Oe={},Jt;function ge(){if(Jt)return Oe;Jt=1,Object.defineProperty(Oe,"__esModule",{value:!0});const e=H(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Oe.default=r,Oe}var Ht;function mt(){return Ht||(Ht=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=H(),E=Q(),u=ge();e.keywordError={message:({keyword:o})=>(0,r.str)`must pass "${o}" keyword validation`},e.keyword$DataError={message:({keyword:o,schemaType:i})=>i?(0,r.str)`"${o}" keyword must be ${i} ($data)`:(0,r.str)`"${o}" keyword is invalid ($data)`};function $(o,i=e.keywordError,t,f){const{it:v}=o,{gen:h,compositeRule:d,allErrors:b}=v,k=P(o,i,t);f??(d||b)?c(h,k):p(v,(0,r._)`[${k}]`)}e.reportError=$;function n(o,i=e.keywordError,t){const{it:f}=o,{gen:v,compositeRule:h,allErrors:d}=f,b=P(o,i,t);c(v,b),h||d||p(f,u.default.vErrors)}e.reportExtraError=n;function l(o,i){o.assign(u.default.errors,i),o.if((0,r._)`${u.default.vErrors} !== null`,()=>o.if(i,()=>o.assign((0,r._)`${u.default.vErrors}.length`,i),()=>o.assign(u.default.vErrors,null)))}e.resetErrorsCount=l;function a({gen:o,keyword:i,schemaValue:t,data:f,errsCount:v,it:h}){if(v===void 0)throw new Error("ajv implementation error");const d=o.name("err");o.forRange("i",v,u.default.errors,b=>{o.const(d,(0,r._)`${u.default.vErrors}[${b}]`),o.if((0,r._)`${d}.instancePath === undefined`,()=>o.assign((0,r._)`${d}.instancePath`,(0,r.strConcat)(u.default.instancePath,h.errorPath))),o.assign((0,r._)`${d}.schemaPath`,(0,r.str)`${h.errSchemaPath}/${i}`),h.opts.verbose&&(o.assign((0,r._)`${d}.schema`,t),o.assign((0,r._)`${d}.data`,f))})}e.extendErrors=a;function c(o,i){const t=o.const("err",i);o.if((0,r._)`${u.default.vErrors} === null`,()=>o.assign(u.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${u.default.vErrors}.push(${t})`),o.code((0,r._)`${u.default.errors}++`)}function p(o,i){const{gen:t,validateName:f,schemaEnv:v}=o;v.$async?t.throw((0,r._)`new ${o.ValidationError}(${i})`):(t.assign((0,r._)`${f}.errors`,i),t.return(!1))}const m={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function P(o,i,t){const{createErrors:f}=o.it;return f===!1?(0,r._)`{}`:N(o,i,t)}function N(o,i,t={}){const{gen:f,it:v}=o,h=[w(v,t),g(o,t)];return _(o,i,h),f.object(...h)}function w({errorPath:o},{instancePath:i}){const t=i?(0,r.str)`${o}${(0,E.getErrorPath)(i,E.Type.Str)}`:o;return[u.default.instancePath,(0,r.strConcat)(u.default.instancePath,t)]}function g({keyword:o,it:{errSchemaPath:i}},{schemaPath:t,parentSchema:f}){let v=f?i:(0,r.str)`${i}/${o}`;return t&&(v=(0,r.str)`${v}${(0,E.getErrorPath)(t,E.Type.Str)}`),[m.schemaPath,v]}function _(o,{params:i,message:t},f){const{keyword:v,data:h,schemaValue:d,it:b}=o,{opts:k,propertyName:A,topSchemaRef:D,schemaPath:F}=b;f.push([m.keyword,v],[m.params,typeof i=="function"?i(o):i||(0,r._)`{}`]),k.messages&&f.push([m.message,typeof t=="function"?t(o):t]),k.verbose&&f.push([m.schema,d],[m.parentSchema,(0,r._)`${D}${F}`],[u.default.data,h]),A&&f.push([m.propertyName,A])}}(bt)),bt}var Bt;function dn(){if(Bt)return $e;Bt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.boolOrEmptySchema=$e.topBoolOrEmptySchema=void 0;const e=mt(),r=H(),E=ge(),u={message:"boolean schema is false"};function $(a){const{gen:c,schema:p,validateName:m}=a;p===!1?l(a,!1):typeof p=="object"&&p.$async===!0?c.return(E.default.data):(c.assign((0,r._)`${m}.errors`,null),c.return(!0))}$e.topBoolOrEmptySchema=$;function n(a,c){const{gen:p,schema:m}=a;m===!1?(p.var(c,!1),l(a)):p.var(c,!0)}$e.boolOrEmptySchema=n;function l(a,c){const{gen:p,data:m}=a,P={gen:p,keyword:"false schema",data:m,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(P,u,void 0,c)}return $e}var re={},ve={},Wt;function en(){if(Wt)return ve;Wt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.getRules=ve.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function E($){return typeof $=="string"&&r.has($)}ve.isJSONType=E;function u(){const $={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...$,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},$.number,$.string,$.array,$.object],post:{rules:[]},all:{},keywords:{}}}return ve.getRules=u,ve}var me={},Qt;function tn(){if(Qt)return me;Qt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:u,self:$},n){const l=$.RULES.types[n];return l&&l!==!0&&r(u,l)}me.schemaHasRulesForType=e;function r(u,$){return $.rules.some(n=>E(u,n))}me.shouldUseGroup=r;function E(u,$){var n;return u[$.keyword]!==void 0||((n=$.definition.implements)===null||n===void 0?void 0:n.some(l=>u[l]!==void 0))}return me.shouldUseRule=E,me}var Xt;function ht(){if(Xt)return re;Xt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=en(),r=tn(),E=mt(),u=H(),$=Q();var n;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(n||(re.DataType=n={}));function l(t){const f=a(t.type);if(f.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!f.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&f.push("null")}return f}re.getSchemaTypes=l;function a(t){const f=Array.isArray(t)?t:t?[t]:[];if(f.every(e.isJSONType))return f;throw new Error("type must be JSONType or JSONType[]: "+f.join(","))}re.getJSONTypes=a;function c(t,f){const{gen:v,data:h,opts:d}=t,b=m(f,d.coerceTypes),k=f.length>0&&!(b.length===0&&f.length===1&&(0,r.schemaHasRulesForType)(t,f[0]));if(k){const A=g(f,h,d.strictNumbers,n.Wrong);v.if(A,()=>{b.length?P(t,f,b):o(t)})}return k}re.coerceAndCheckDataType=c;const p=new Set(["string","number","integer","boolean","null"]);function m(t,f){return f?t.filter(v=>p.has(v)||f==="array"&&v==="array"):[]}function P(t,f,v){const{gen:h,data:d,opts:b}=t,k=h.let("dataType",(0,u._)`typeof ${d}`),A=h.let("coerced",(0,u._)`undefined`);b.coerceTypes==="array"&&h.if((0,u._)`${k} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>h.assign(d,(0,u._)`${d}[0]`).assign(k,(0,u._)`typeof ${d}`).if(g(f,d,b.strictNumbers),()=>h.assign(A,d))),h.if((0,u._)`${A} !== undefined`);for(const F of v)(p.has(F)||F==="array"&&b.coerceTypes==="array")&&D(F);h.else(),o(t),h.endIf(),h.if((0,u._)`${A} !== undefined`,()=>{h.assign(d,A),N(t,A)});function D(F){switch(F){case"string":h.elseIf((0,u._)`${k} == "number" || ${k} == "boolean"`).assign(A,(0,u._)`"" + ${d}`).elseIf((0,u._)`${d} === null`).assign(A,(0,u._)`""`);return;case"number":h.elseIf((0,u._)`${k} == "boolean" || ${d} === null
              || (${k} == "string" && ${d} && ${d} == +${d})`).assign(A,(0,u._)`+${d}`);return;case"integer":h.elseIf((0,u._)`${k} === "boolean" || ${d} === null
              || (${k} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(A,(0,u._)`+${d}`);return;case"boolean":h.elseIf((0,u._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(A,!1).elseIf((0,u._)`${d} === "true" || ${d} === 1`).assign(A,!0);return;case"null":h.elseIf((0,u._)`${d} === "" || ${d} === 0 || ${d} === false`),h.assign(A,null);return;case"array":h.elseIf((0,u._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${d} === null`).assign(A,(0,u._)`[${d}]`)}}}function N({gen:t,parentData:f,parentDataProperty:v},h){t.if((0,u._)`${f} !== undefined`,()=>t.assign((0,u._)`${f}[${v}]`,h))}function w(t,f,v,h=n.Correct){const d=h===n.Correct?u.operators.EQ:u.operators.NEQ;let b;switch(t){case"null":return(0,u._)`${f} ${d} null`;case"array":b=(0,u._)`Array.isArray(${f})`;break;case"object":b=(0,u._)`${f} && typeof ${f} == "object" && !Array.isArray(${f})`;break;case"integer":b=k((0,u._)`!(${f} % 1) && !isNaN(${f})`);break;case"number":b=k();break;default:return(0,u._)`typeof ${f} ${d} ${t}`}return h===n.Correct?b:(0,u.not)(b);function k(A=u.nil){return(0,u.and)((0,u._)`typeof ${f} == "number"`,A,v?(0,u._)`isFinite(${f})`:u.nil)}}re.checkDataType=w;function g(t,f,v,h){if(t.length===1)return w(t[0],f,v,h);let d;const b=(0,$.toHash)(t);if(b.array&&b.object){const k=(0,u._)`typeof ${f} != "object"`;d=b.null?k:(0,u._)`!${f} || ${k}`,delete b.null,delete b.array,delete b.object}else d=u.nil;b.number&&delete b.integer;for(const k in b)d=(0,u.and)(d,w(k,f,v,h));return d}re.checkDataTypes=g;const _={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:f})=>typeof t=="string"?(0,u._)`{type: ${t}}`:(0,u._)`{type: ${f}}`};function o(t){const f=i(t);(0,E.reportError)(f,_)}re.reportTypeError=o;function i(t){const{gen:f,data:v,schema:h}=t,d=(0,$.schemaRefOrVal)(t,h,"type");return{gen:f,keyword:"type",data:v,schema:h.type,schemaCode:d,schemaValue:d,parentSchema:h,params:{},it:t}}return re}var Ne={},Yt;function fn(){if(Yt)return Ne;Yt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=H(),r=Q();function E($,n){const{properties:l,items:a}=$.schema;if(n==="object"&&l)for(const c in l)u($,c,l[c].default);else n==="array"&&Array.isArray(a)&&a.forEach((c,p)=>u($,p,c.default))}Ne.assignDefaults=E;function u($,n,l){const{gen:a,compositeRule:c,data:p,opts:m}=$;if(l===void 0)return;const P=(0,e._)`${p}${(0,e.getProperty)(n)}`;if(c){(0,r.checkStrictMode)($,`default is ignored for: ${P}`);return}let N=(0,e._)`${P} === undefined`;m.useDefaults==="empty"&&(N=(0,e._)`${N} || ${P} === null || ${P} === ""`),a.if(N,(0,e._)`${P} = ${(0,e.stringify)(l)}`)}return Ne}var ce={},Y={},Zt;function le(){if(Zt)return Y;Zt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=H(),r=Q(),E=ge(),u=Q();function $(t,f){const{gen:v,data:h,it:d}=t;v.if(m(v,h,f,d.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${f}`},!0),t.error()})}Y.checkReportMissingProp=$;function n({gen:t,data:f,it:{opts:v}},h,d){return(0,e.or)(...h.map(b=>(0,e.and)(m(t,f,b,v.ownProperties),(0,e._)`${d} = ${b}`)))}Y.checkMissingProp=n;function l(t,f){t.setParams({missingProperty:f},!0),t.error()}Y.reportMissingProp=l;function a(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=a;function c(t,f,v){return(0,e._)`${a(t)}.call(${f}, ${v})`}Y.isOwnProperty=c;function p(t,f,v,h){const d=(0,e._)`${f}${(0,e.getProperty)(v)} !== undefined`;return h?(0,e._)`${d} && ${c(t,f,v)}`:d}Y.propertyInData=p;function m(t,f,v,h){const d=(0,e._)`${f}${(0,e.getProperty)(v)} === undefined`;return h?(0,e.or)(d,(0,e.not)(c(t,f,v))):d}Y.noPropertyInData=m;function P(t){return t?Object.keys(t).filter(f=>f!=="__proto__"):[]}Y.allSchemaProperties=P;function N(t,f){return P(f).filter(v=>!(0,r.alwaysValidSchema)(t,f[v]))}Y.schemaProperties=N;function w({schemaCode:t,data:f,it:{gen:v,topSchemaRef:h,schemaPath:d,errorPath:b},it:k},A,D,F){const z=F?(0,e._)`${t}, ${f}, ${h}${d}`:f,L=[[E.default.instancePath,(0,e.strConcat)(E.default.instancePath,b)],[E.default.parentData,k.parentData],[E.default.parentDataProperty,k.parentDataProperty],[E.default.rootData,E.default.rootData]];k.opts.dynamicRef&&L.push([E.default.dynamicAnchors,E.default.dynamicAnchors]);const W=(0,e._)`${z}, ${v.object(...L)}`;return D!==e.nil?(0,e._)`${A}.call(${D}, ${W})`:(0,e._)`${A}(${W})`}Y.callValidateCode=w;const g=(0,e._)`new RegExp`;function _({gen:t,it:{opts:f}},v){const h=f.unicodeRegExp?"u":"",{regExp:d}=f.code,b=d(v,h);return t.scopeValue("pattern",{key:b.toString(),ref:b,code:(0,e._)`${d.code==="new RegExp"?g:(0,u.useFunc)(t,d)}(${v}, ${h})`})}Y.usePattern=_;function o(t){const{gen:f,data:v,keyword:h,it:d}=t,b=f.name("valid");if(d.allErrors){const A=f.let("valid",!0);return k(()=>f.assign(A,!1)),A}return f.var(b,!0),k(()=>f.break()),b;function k(A){const D=f.const("len",(0,e._)`${v}.length`);f.forRange("i",0,D,F=>{t.subschema({keyword:h,dataProp:F,dataPropType:r.Type.Num},b),f.if((0,e.not)(b),A)})}}Y.validateArray=o;function i(t){const{gen:f,schema:v,keyword:h,it:d}=t;if(!Array.isArray(v))throw new Error("ajv implementation error");if(v.some(D=>(0,r.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const k=f.let("valid",!1),A=f.name("_valid");f.block(()=>v.forEach((D,F)=>{const z=t.subschema({keyword:h,schemaProp:F,compositeRule:!0},A);f.assign(k,(0,e._)`${k} || ${A}`),t.mergeValidEvaluated(z,A)||f.if((0,e.not)(k))})),t.result(k,()=>t.reset(),()=>t.error(!0))}return Y.validateUnion=i,Y}var xt;function hn(){if(xt)return ce;xt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.validateKeywordUsage=ce.validSchemaType=ce.funcKeywordCode=ce.macroKeywordCode=void 0;const e=H(),r=ge(),E=le(),u=mt();function $(N,w){const{gen:g,keyword:_,schema:o,parentSchema:i,it:t}=N,f=w.macro.call(t.self,o,i,t),v=p(g,_,f);t.opts.validateSchema!==!1&&t.self.validateSchema(f,!0);const h=g.name("valid");N.subschema({schema:f,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${_}`,topSchemaRef:v,compositeRule:!0},h),N.pass(h,()=>N.error(!0))}ce.macroKeywordCode=$;function n(N,w){var g;const{gen:_,keyword:o,schema:i,parentSchema:t,$data:f,it:v}=N;c(v,w);const h=!f&&w.compile?w.compile.call(v.self,i,t,v):w.validate,d=p(_,o,h),b=_.let("valid");N.block$data(b,k),N.ok((g=w.valid)!==null&&g!==void 0?g:b);function k(){if(w.errors===!1)F(),w.modifying&&l(N),z(()=>N.error());else{const L=w.async?A():D();w.modifying&&l(N),z(()=>a(N,L))}}function A(){const L=_.let("ruleErrs",null);return _.try(()=>F((0,e._)`await `),W=>_.assign(b,!1).if((0,e._)`${W} instanceof ${v.ValidationError}`,()=>_.assign(L,(0,e._)`${W}.errors`),()=>_.throw(W))),L}function D(){const L=(0,e._)`${d}.errors`;return _.assign(L,null),F(e.nil),L}function F(L=w.async?(0,e._)`await `:e.nil){const W=v.opts.passContext?r.default.this:r.default.self,x=!("compile"in w&&!f||w.schema===!1);_.assign(b,(0,e._)`${L}${(0,E.callValidateCode)(N,d,W,x)}`,w.modifying)}function z(L){var W;_.if((0,e.not)((W=w.valid)!==null&&W!==void 0?W:b),L)}}ce.funcKeywordCode=n;function l(N){const{gen:w,data:g,it:_}=N;w.if(_.parentData,()=>w.assign(g,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function a(N,w){const{gen:g}=N;g.if((0,e._)`Array.isArray(${w})`,()=>{g.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${w} : ${r.default.vErrors}.concat(${w})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,u.extendErrors)(N)},()=>N.error())}function c({schemaEnv:N},w){if(w.async&&!N.$async)throw new Error("async keyword in sync schema")}function p(N,w,g){if(g===void 0)throw new Error(`keyword "${w}" failed to compile`);return N.scopeValue("keyword",typeof g=="function"?{ref:g}:{ref:g,code:(0,e.stringify)(g)})}function m(N,w,g=!1){return!w.length||w.some(_=>_==="array"?Array.isArray(N):_==="object"?N&&typeof N=="object"&&!Array.isArray(N):typeof N==_||g&&typeof N>"u")}ce.validSchemaType=m;function P({schema:N,opts:w,self:g,errSchemaPath:_},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const t=o.dependencies;if(t!=null&&t.some(f=>!Object.prototype.hasOwnProperty.call(N,f)))throw new Error(`parent schema must have dependencies of ${i}: ${t.join(",")}`);if(o.validateSchema&&!o.validateSchema(N[i])){const v=`keyword "${i}" value is invalid at path "${_}": `+g.errorsText(o.validateSchema.errors);if(w.validateSchema==="log")g.logger.error(v);else throw new Error(v)}}return ce.validateKeywordUsage=P,ce}var pe={},er;function mn(){if(er)return pe;er=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.extendSubschemaMode=pe.extendSubschemaData=pe.getSubschema=void 0;const e=H(),r=Q();function E(n,{keyword:l,schemaProp:a,schema:c,schemaPath:p,errSchemaPath:m,topSchemaRef:P}){if(l!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(l!==void 0){const N=n.schema[l];return a===void 0?{schema:N,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(l)}`,errSchemaPath:`${n.errSchemaPath}/${l}`}:{schema:N[a],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(l)}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${l}/${(0,r.escapeFragment)(a)}`}}if(c!==void 0){if(p===void 0||m===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:p,topSchemaRef:P,errSchemaPath:m}}throw new Error('either "keyword" or "schema" must be passed')}pe.getSubschema=E;function u(n,l,{dataProp:a,dataPropType:c,data:p,dataTypes:m,propertyName:P}){if(p!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:N}=l;if(a!==void 0){const{errorPath:g,dataPathArr:_,opts:o}=l,i=N.let("data",(0,e._)`${l.data}${(0,e.getProperty)(a)}`,!0);w(i),n.errorPath=(0,e.str)`${g}${(0,r.getErrorPath)(a,c,o.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${a}`,n.dataPathArr=[..._,n.parentDataProperty]}if(p!==void 0){const g=p instanceof e.Name?p:N.let("data",p,!0);w(g),P!==void 0&&(n.propertyName=P)}m&&(n.dataTypes=m);function w(g){n.data=g,n.dataLevel=l.dataLevel+1,n.dataTypes=[],l.definedProperties=new Set,n.parentData=l.data,n.dataNames=[...l.dataNames,g]}}pe.extendSubschemaData=u;function $(n,{jtdDiscriminator:l,jtdMetadata:a,compositeRule:c,createErrors:p,allErrors:m}){c!==void 0&&(n.compositeRule=c),p!==void 0&&(n.createErrors=p),m!==void 0&&(n.allErrors=m),n.jtdDiscriminator=l,n.jtdMetadata=a}return pe.extendSubschemaMode=$,pe}var ne={},Nt={exports:{}},tr;function pn(){if(tr)return Nt.exports;tr=1;var e=Nt.exports=function(u,$,n){typeof $=="function"&&(n=$,$={}),n=$.cb||n;var l=typeof n=="function"?n:n.pre||function(){},a=n.post||function(){};r($,l,a,u,"",u)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r(u,$,n,l,a,c,p,m,P,N){if(l&&typeof l=="object"&&!Array.isArray(l)){$(l,a,c,p,m,P,N);for(var w in l){var g=l[w];if(Array.isArray(g)){if(w in e.arrayKeywords)for(var _=0;_<g.length;_++)r(u,$,n,g[_],a+"/"+w+"/"+_,c,a,w,l,_)}else if(w in e.propsKeywords){if(g&&typeof g=="object")for(var o in g)r(u,$,n,g[o],a+"/"+w+"/"+E(o),c,a,w,l,o)}else(w in e.keywords||u.allKeys&&!(w in e.skipKeywords))&&r(u,$,n,g,a+"/"+w,c,a,w,l)}n(l,a,c,p,m,P,N)}}function E(u){return u.replace(/~/g,"~0").replace(/\//g,"~1")}return Nt.exports}var rr;function pt(){if(rr)return ne;rr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=Q(),r=xr(),E=pn(),u=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $(_,o=!0){return typeof _=="boolean"?!0:o===!0?!l(_):o?a(_)<=o:!1}ne.inlineRef=$;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(_){for(const o in _){if(n.has(o))return!0;const i=_[o];if(Array.isArray(i)&&i.some(l)||typeof i=="object"&&l(i))return!0}return!1}function a(_){let o=0;for(const i in _){if(i==="$ref")return 1/0;if(o++,!u.has(i)&&(typeof _[i]=="object"&&(0,e.eachItem)(_[i],t=>o+=a(t)),o===1/0))return 1/0}return o}function c(_,o="",i){i!==!1&&(o=P(o));const t=_.parse(o);return p(_,t)}ne.getFullPath=c;function p(_,o){return _.serialize(o).split("#")[0]+"#"}ne._getFullPath=p;const m=/#\/?$/;function P(_){return _?_.replace(m,""):""}ne.normalizeId=P;function N(_,o,i){return i=P(i),_.resolve(o,i)}ne.resolveUrl=N;const w=/^[a-z_][-a-z0-9._]*$/i;function g(_,o){if(typeof _=="boolean")return{};const{schemaId:i,uriResolver:t}=this.opts,f=P(_[i]||o),v={"":f},h=c(t,f,!1),d={},b=new Set;return E(_,{allKeys:!0},(D,F,z,L)=>{if(L===void 0)return;const W=h+F;let x=v[L];typeof D[i]=="string"&&(x=de.call(this,D[i])),fe.call(this,D.$anchor),fe.call(this,D.$dynamicAnchor),v[F]=x;function de(Z){const ye=this.opts.uriResolver.resolve;if(Z=P(x?ye(x,Z):Z),b.has(Z))throw A(Z);b.add(Z);let I=this.refs[Z];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?k(D,I.schema,Z):Z!==P(W)&&(Z[0]==="#"?(k(D,d[Z],Z),d[Z]=D):this.refs[Z]=W),Z}function fe(Z){if(typeof Z=="string"){if(!w.test(Z))throw new Error(`invalid anchor "${Z}"`);de.call(this,`#${Z}`)}}}),d;function k(D,F,z){if(F!==void 0&&!r(D,F))throw A(z)}function A(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return ne.getSchemaRefs=g,ne}var nr;function yt(){if(nr)return he;nr=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=dn(),r=ht(),E=tn(),u=ht(),$=fn(),n=hn(),l=mn(),a=H(),c=ge(),p=pt(),m=Q(),P=mt();function N(S){if(h(S)&&(b(S),v(S))){o(S);return}w(S,()=>(0,e.topBoolOrEmptySchema)(S))}he.validateFunctionCode=N;function w({gen:S,validateName:j,schema:C,schemaEnv:M,opts:K},J){K.code.es5?S.func(j,(0,a._)`${c.default.data}, ${c.default.valCxt}`,M.$async,()=>{S.code((0,a._)`"use strict"; ${t(C,K)}`),_(S,K),S.code(J)}):S.func(j,(0,a._)`${c.default.data}, ${g(K)}`,M.$async,()=>S.code(t(C,K)).code(J))}function g(S){return(0,a._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${S.dynamicRef?(0,a._)`, ${c.default.dynamicAnchors}={}`:a.nil}}={}`}function _(S,j){S.if(c.default.valCxt,()=>{S.var(c.default.instancePath,(0,a._)`${c.default.valCxt}.${c.default.instancePath}`),S.var(c.default.parentData,(0,a._)`${c.default.valCxt}.${c.default.parentData}`),S.var(c.default.parentDataProperty,(0,a._)`${c.default.valCxt}.${c.default.parentDataProperty}`),S.var(c.default.rootData,(0,a._)`${c.default.valCxt}.${c.default.rootData}`),j.dynamicRef&&S.var(c.default.dynamicAnchors,(0,a._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{S.var(c.default.instancePath,(0,a._)`""`),S.var(c.default.parentData,(0,a._)`undefined`),S.var(c.default.parentDataProperty,(0,a._)`undefined`),S.var(c.default.rootData,c.default.data),j.dynamicRef&&S.var(c.default.dynamicAnchors,(0,a._)`{}`)})}function o(S){const{schema:j,opts:C,gen:M}=S;w(S,()=>{C.$comment&&j.$comment&&L(S),D(S),M.let(c.default.vErrors,null),M.let(c.default.errors,0),C.unevaluated&&i(S),k(S),W(S)})}function i(S){const{gen:j,validateName:C}=S;S.evaluated=j.const("evaluated",(0,a._)`${C}.evaluated`),j.if((0,a._)`${S.evaluated}.dynamicProps`,()=>j.assign((0,a._)`${S.evaluated}.props`,(0,a._)`undefined`)),j.if((0,a._)`${S.evaluated}.dynamicItems`,()=>j.assign((0,a._)`${S.evaluated}.items`,(0,a._)`undefined`))}function t(S,j){const C=typeof S=="object"&&S[j.schemaId];return C&&(j.code.source||j.code.process)?(0,a._)`/*# sourceURL=${C} */`:a.nil}function f(S,j){if(h(S)&&(b(S),v(S))){d(S,j);return}(0,e.boolOrEmptySchema)(S,j)}function v({schema:S,self:j}){if(typeof S=="boolean")return!S;for(const C in S)if(j.RULES.all[C])return!0;return!1}function h(S){return typeof S.schema!="boolean"}function d(S,j){const{schema:C,gen:M,opts:K}=S;K.$comment&&C.$comment&&L(S),F(S),z(S);const J=M.const("_errs",c.default.errors);k(S,J),M.var(j,(0,a._)`${J} === ${c.default.errors}`)}function b(S){(0,m.checkUnknownRules)(S),A(S)}function k(S,j){if(S.opts.jtd)return de(S,[],!1,j);const C=(0,r.getSchemaTypes)(S.schema),M=(0,r.coerceAndCheckDataType)(S,C);de(S,C,!M,j)}function A(S){const{schema:j,errSchemaPath:C,opts:M,self:K}=S;j.$ref&&M.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(j,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${C}"`)}function D(S){const{schema:j,opts:C}=S;j.default!==void 0&&C.useDefaults&&C.strictSchema&&(0,m.checkStrictMode)(S,"default is ignored in the schema root")}function F(S){const j=S.schema[S.opts.schemaId];j&&(S.baseId=(0,p.resolveUrl)(S.opts.uriResolver,S.baseId,j))}function z(S){if(S.schema.$async&&!S.schemaEnv.$async)throw new Error("async schema in sync schema")}function L({gen:S,schemaEnv:j,schema:C,errSchemaPath:M,opts:K}){const J=C.$comment;if(K.$comment===!0)S.code((0,a._)`${c.default.self}.logger.log(${J})`);else if(typeof K.$comment=="function"){const ee=(0,a.str)`${M}/$comment`,ue=S.scopeValue("root",{ref:j.root});S.code((0,a._)`${c.default.self}.opts.$comment(${J}, ${ee}, ${ue}.schema)`)}}function W(S){const{gen:j,schemaEnv:C,validateName:M,ValidationError:K,opts:J}=S;C.$async?j.if((0,a._)`${c.default.errors} === 0`,()=>j.return(c.default.data),()=>j.throw((0,a._)`new ${K}(${c.default.vErrors})`)):(j.assign((0,a._)`${M}.errors`,c.default.vErrors),J.unevaluated&&x(S),j.return((0,a._)`${c.default.errors} === 0`))}function x({gen:S,evaluated:j,props:C,items:M}){C instanceof a.Name&&S.assign((0,a._)`${j}.props`,C),M instanceof a.Name&&S.assign((0,a._)`${j}.items`,M)}function de(S,j,C,M){const{gen:K,schema:J,data:ee,allErrors:ue,opts:se,self:ae}=S,{RULES:te}=ae;if(J.$ref&&(se.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(J,te))){K.block(()=>V(S,"$ref",te.all.$ref.definition));return}se.jtd||Z(S,j),K.block(()=>{for(const oe of te.rules)be(oe);be(te.post)});function be(oe){(0,E.shouldUseGroup)(J,oe)&&(oe.type?(K.if((0,u.checkDataType)(oe.type,ee,se.strictNumbers)),fe(S,oe),j.length===1&&j[0]===oe.type&&C&&(K.else(),(0,u.reportTypeError)(S)),K.endIf()):fe(S,oe),ue||K.if((0,a._)`${c.default.errors} === ${M||0}`))}}function fe(S,j){const{gen:C,schema:M,opts:{useDefaults:K}}=S;K&&(0,$.assignDefaults)(S,j.type),C.block(()=>{for(const J of j.rules)(0,E.shouldUseRule)(M,J)&&V(S,J.keyword,J.definition,j.type)})}function Z(S,j){S.schemaEnv.meta||!S.opts.strictTypes||(ye(S,j),S.opts.allowUnionTypes||I(S,j),R(S,S.dataTypes))}function ye(S,j){if(j.length){if(!S.dataTypes.length){S.dataTypes=j;return}j.forEach(C=>{O(S.dataTypes,C)||y(S,`type "${C}" not allowed by context "${S.dataTypes.join(",")}"`)}),s(S,j)}}function I(S,j){j.length>1&&!(j.length===2&&j.includes("null"))&&y(S,"use allowUnionTypes to allow union type keyword")}function R(S,j){const C=S.self.RULES.all;for(const M in C){const K=C[M];if(typeof K=="object"&&(0,E.shouldUseRule)(S.schema,K)){const{type:J}=K.definition;J.length&&!J.some(ee=>q(j,ee))&&y(S,`missing type "${J.join(",")}" for keyword "${M}"`)}}}function q(S,j){return S.includes(j)||j==="number"&&S.includes("integer")}function O(S,j){return S.includes(j)||j==="integer"&&S.includes("number")}function s(S,j){const C=[];for(const M of S.dataTypes)O(j,M)?C.push(M):j.includes("integer")&&M==="number"&&C.push("integer");S.dataTypes=C}function y(S,j){const C=S.schemaEnv.baseId+S.errSchemaPath;j+=` at "${C}" (strictTypes)`,(0,m.checkStrictMode)(S,j,S.opts.strictTypes)}class T{constructor(j,C,M){if((0,n.validateKeywordUsage)(j,C,M),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=M,this.data=j.data,this.schema=j.schema[M],this.$data=C.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(j,this.schema,M,this.$data),this.schemaType=C.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=C,this.$data)this.schemaCode=j.gen.const("vSchema",B(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=j.gen.const("_errs",c.default.errors))}result(j,C,M){this.failResult((0,a.not)(j),C,M)}failResult(j,C,M){this.gen.if(j),M?M():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,C){this.failResult((0,a.not)(j),void 0,C)}fail(j){if(j===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:C}=this;this.fail((0,a._)`${C} !== undefined && (${(0,a.or)(this.invalid$data(),j)})`)}error(j,C,M){if(C){this.setParams(C),this._error(j,M),this.setParams({});return}this._error(j,M)}_error(j,C){(j?P.reportExtraError:P.reportError)(this,this.def.error,C)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,C){C?Object.assign(this.params,j):this.params=j}block$data(j,C,M=a.nil){this.gen.block(()=>{this.check$data(j,M),C()})}check$data(j=a.nil,C=a.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:J,def:ee}=this;M.if((0,a.or)((0,a._)`${K} === undefined`,C)),j!==a.nil&&M.assign(j,!0),(J.length||ee.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),j!==a.nil&&M.assign(j,!1)),M.else()}invalid$data(){const{gen:j,schemaCode:C,schemaType:M,def:K,it:J}=this;return(0,a.or)(ee(),ue());function ee(){if(M.length){if(!(C instanceof a.Name))throw new Error("ajv implementation error");const se=Array.isArray(M)?M:[M];return(0,a._)`${(0,u.checkDataTypes)(se,C,J.opts.strictNumbers,u.DataType.Wrong)}`}return a.nil}function ue(){if(K.validateSchema){const se=j.scopeValue("validate$data",{ref:K.validateSchema});return(0,a._)`!${se}(${C})`}return a.nil}}subschema(j,C){const M=(0,l.getSubschema)(this.it,j);(0,l.extendSubschemaData)(M,this.it,j),(0,l.extendSubschemaMode)(M,j);const K={...this.it,...M,items:void 0,props:void 0};return f(K,C),K}mergeEvaluated(j,C){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&j.props!==void 0&&(M.props=m.mergeEvaluated.props(K,j.props,M.props,C)),M.items!==!0&&j.items!==void 0&&(M.items=m.mergeEvaluated.items(K,j.items,M.items,C)))}mergeValidEvaluated(j,C){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(C,()=>this.mergeEvaluated(j,a.Name)),!0}}he.KeywordCxt=T;function V(S,j,C,M){const K=new T(S,C,j);"code"in C?C.code(K,M):K.$data&&C.validate?(0,n.funcKeywordCode)(K,C):"macro"in C?(0,n.macroKeywordCode)(K,C):(C.compile||C.validate)&&(0,n.funcKeywordCode)(K,C)}const U=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(S,{dataLevel:j,dataNames:C,dataPathArr:M}){let K,J;if(S==="")return c.default.rootData;if(S[0]==="/"){if(!U.test(S))throw new Error(`Invalid JSON-pointer: ${S}`);K=S,J=c.default.rootData}else{const ae=X.exec(S);if(!ae)throw new Error(`Invalid JSON-pointer: ${S}`);const te=+ae[1];if(K=ae[2],K==="#"){if(te>=j)throw new Error(se("property/index",te));return M[j-te]}if(te>j)throw new Error(se("data",te));if(J=C[j-te],!K)return J}let ee=J;const ue=K.split("/");for(const ae of ue)ae&&(J=(0,a._)`${J}${(0,a.getProperty)((0,m.unescapeJsonPointer)(ae))}`,ee=(0,a._)`${ee} && ${J}`);return ee;function se(ae,te){return`Cannot access ${ae} ${te} levels up, current level is ${j}`}}return he.getData=B,he}var Te={},sr;function Ct(){if(sr)return Te;sr=1,Object.defineProperty(Te,"__esModule",{value:!0});class e extends Error{constructor(E){super("validation failed"),this.errors=E,this.ajv=this.validation=!0}}return Te.default=e,Te}var ke={},ar;function _t(){if(ar)return ke;ar=1,Object.defineProperty(ke,"__esModule",{value:!0});const e=pt();class r extends Error{constructor(u,$,n,l){super(l||`can't resolve reference ${n} from id ${$}`),this.missingRef=(0,e.resolveUrl)(u,$,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(u,this.missingRef))}}return ke.default=r,ke}var ie={},ir;function qt(){if(ir)return ie;ir=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.resolveSchema=ie.getCompilingSchema=ie.resolveRef=ie.compileSchema=ie.SchemaEnv=void 0;const e=H(),r=Ct(),E=ge(),u=pt(),$=Q(),n=yt();class l{constructor(i){var t;this.refs={},this.dynamicAnchors={};let f;typeof i.schema=="object"&&(f=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(t=i.baseId)!==null&&t!==void 0?t:(0,u.normalizeId)(f==null?void 0:f[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=f==null?void 0:f.$async,this.refs={}}}ie.SchemaEnv=l;function a(o){const i=m.call(this,o);if(i)return i;const t=(0,u.getFullPath)(this.opts.uriResolver,o.root.baseId),{es5:f,lines:v}=this.opts.code,{ownProperties:h}=this.opts,d=new e.CodeGen(this.scope,{es5:f,lines:v,ownProperties:h});let b;o.$async&&(b=d.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=d.scopeName("validate");o.validateName=k;const A={gen:d,allErrors:this.opts.allErrors,data:E.default.data,parentData:E.default.parentData,parentDataProperty:E.default.parentDataProperty,dataNames:[E.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:o.schema,code:(0,e.stringify)(o.schema)}:{ref:o.schema}),validateName:k,ValidationError:b,schema:o.schema,schemaEnv:o,rootId:t,baseId:o.baseId||t,schemaPath:e.nil,errSchemaPath:o.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(o),(0,n.validateFunctionCode)(A),d.optimize(this.opts.code.optimize);const F=d.toString();D=`${d.scopeRefs(E.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,o));const L=new Function(`${E.default.self}`,`${E.default.scope}`,D)(this,this.scope.get());if(this.scope.value(k,{ref:L}),L.errors=null,L.schema=o.schema,L.schemaEnv=o,o.$async&&(L.$async=!0),this.opts.code.source===!0&&(L.source={validateName:k,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:W,items:x}=A;L.evaluated={props:W instanceof e.Name?void 0:W,items:x instanceof e.Name?void 0:x,dynamicProps:W instanceof e.Name,dynamicItems:x instanceof e.Name},L.source&&(L.source.evaluated=(0,e.stringify)(L.evaluated))}return o.validate=L,o}catch(F){throw delete o.validate,delete o.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(o)}}ie.compileSchema=a;function c(o,i,t){var f;t=(0,u.resolveUrl)(this.opts.uriResolver,i,t);const v=o.refs[t];if(v)return v;let h=N.call(this,o,t);if(h===void 0){const d=(f=o.localRefs)===null||f===void 0?void 0:f[t],{schemaId:b}=this.opts;d&&(h=new l({schema:d,schemaId:b,root:o,baseId:i}))}if(h!==void 0)return o.refs[t]=p.call(this,h)}ie.resolveRef=c;function p(o){return(0,u.inlineRef)(o.schema,this.opts.inlineRefs)?o.schema:o.validate?o:a.call(this,o)}function m(o){for(const i of this._compilations)if(P(i,o))return i}ie.getCompilingSchema=m;function P(o,i){return o.schema===i.schema&&o.root===i.root&&o.baseId===i.baseId}function N(o,i){let t;for(;typeof(t=this.refs[i])=="string";)i=t;return t||this.schemas[i]||w.call(this,o,i)}function w(o,i){const t=this.opts.uriResolver.parse(i),f=(0,u._getFullPath)(this.opts.uriResolver,t);let v=(0,u.getFullPath)(this.opts.uriResolver,o.baseId,void 0);if(Object.keys(o.schema).length>0&&f===v)return _.call(this,t,o);const h=(0,u.normalizeId)(f),d=this.refs[h]||this.schemas[h];if(typeof d=="string"){const b=w.call(this,o,d);return typeof(b==null?void 0:b.schema)!="object"?void 0:_.call(this,t,b)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||a.call(this,d),h===(0,u.normalizeId)(i)){const{schema:b}=d,{schemaId:k}=this.opts,A=b[k];return A&&(v=(0,u.resolveUrl)(this.opts.uriResolver,v,A)),new l({schema:b,schemaId:k,root:o,baseId:v})}return _.call(this,t,d)}}ie.resolveSchema=w;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(o,{baseId:i,schema:t,root:f}){var v;if(((v=o.fragment)===null||v===void 0?void 0:v[0])!=="/")return;for(const b of o.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const k=t[(0,$.unescapeFragment)(b)];if(k===void 0)return;t=k;const A=typeof t=="object"&&t[this.opts.schemaId];!g.has(b)&&A&&(i=(0,u.resolveUrl)(this.opts.uriResolver,i,A))}let h;if(typeof t!="boolean"&&t.$ref&&!(0,$.schemaHasRulesButRef)(t,this.RULES)){const b=(0,u.resolveUrl)(this.opts.uriResolver,i,t.$ref);h=w.call(this,f,b)}const{schemaId:d}=this.opts;if(h=h||new l({schema:t,schemaId:d,root:f,baseId:i}),h.schema!==h.root.schema)return h}return ie}const yn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_n="Meta-schema for $data reference (JSON AnySchema extension proposal)",gn="object",$n=["$data"],vn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wn=!1,bn={$id:yn,description:_n,type:gn,required:$n,properties:vn,additionalProperties:wn};var Ce={},or;function En(){if(or)return Ce;or=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=cn();return e.code='require("ajv/dist/runtime/uri").default',Ce.default=e,Ce}var ur;function Pn(){return ur||(ur=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=yt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var E=H();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return E._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return E.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return E.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return E.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return E.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return E.CodeGen}});const u=Ct(),$=_t(),n=en(),l=qt(),a=H(),c=pt(),p=ht(),m=Q(),P=bn,N=En(),w=(I,R)=>new RegExp(I,R);w.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),o={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},i={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function f(I){var R,q,O,s,y,T,V,U,X,B,S,j,C,M,K,J,ee,ue,se,ae,te,be,oe,gt,$t;const Se=I.strict,vt=(R=I.code)===null||R===void 0?void 0:R.optimize,Mt=vt===!0||vt===void 0?1:vt||0,Dt=(O=(q=I.code)===null||q===void 0?void 0:q.regExp)!==null&&O!==void 0?O:w,an=(s=I.uriResolver)!==null&&s!==void 0?s:N.default;return{strictSchema:(T=(y=I.strictSchema)!==null&&y!==void 0?y:Se)!==null&&T!==void 0?T:!0,strictNumbers:(U=(V=I.strictNumbers)!==null&&V!==void 0?V:Se)!==null&&U!==void 0?U:!0,strictTypes:(B=(X=I.strictTypes)!==null&&X!==void 0?X:Se)!==null&&B!==void 0?B:"log",strictTuples:(j=(S=I.strictTuples)!==null&&S!==void 0?S:Se)!==null&&j!==void 0?j:"log",strictRequired:(M=(C=I.strictRequired)!==null&&C!==void 0?C:Se)!==null&&M!==void 0?M:!1,code:I.code?{...I.code,optimize:Mt,regExp:Dt}:{optimize:Mt,regExp:Dt},loopRequired:(K=I.loopRequired)!==null&&K!==void 0?K:t,loopEnum:(J=I.loopEnum)!==null&&J!==void 0?J:t,meta:(ee=I.meta)!==null&&ee!==void 0?ee:!0,messages:(ue=I.messages)!==null&&ue!==void 0?ue:!0,inlineRefs:(se=I.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ae=I.schemaId)!==null&&ae!==void 0?ae:"$id",addUsedSchema:(te=I.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=I.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(oe=I.validateFormats)!==null&&oe!==void 0?oe:!0,unicodeRegExp:(gt=I.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:($t=I.int32range)!==null&&$t!==void 0?$t:!0,uriResolver:an}}class v{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...f(R)};const{es5:q,lines:O}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:q,lines:O}),this.logger=z(R.logger);const s=R.validateFormats;R.validateFormats=!1,this.RULES=(0,n.getRules)(),h.call(this,o,R,"NOT SUPPORTED"),h.call(this,i,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&A.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),b.call(this),R.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:q,schemaId:O}=this.opts;let s=P;O==="id"&&(s={...P},s.id=s.$id,delete s.$id),q&&R&&this.addMetaSchema(s,s[O],!1)}defaultMeta(){const{meta:R,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[q]||R:void 0}validate(R,q){let O;if(typeof R=="string"){if(O=this.getSchema(R),!O)throw new Error(`no schema with key or ref "${R}"`)}else O=this.compile(R);const s=O(q);return"$async"in O||(this.errors=O.errors),s}compile(R,q){const O=this._addSchema(R,q);return O.validate||this._compileSchemaEnv(O)}compileAsync(R,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return s.call(this,R,q);async function s(B,S){await y.call(this,B.$schema);const j=this._addSchema(B,S);return j.validate||T.call(this,j)}async function y(B){B&&!this.getSchema(B)&&await s.call(this,{$ref:B},!0)}async function T(B){try{return this._compileSchemaEnv(B)}catch(S){if(!(S instanceof $.default))throw S;return V.call(this,S),await U.call(this,S.missingSchema),T.call(this,B)}}function V({missingSchema:B,missingRef:S}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${S} cannot be resolved`)}async function U(B){const S=await X.call(this,B);this.refs[B]||await y.call(this,S.$schema),this.refs[B]||this.addSchema(S,B,q)}async function X(B){const S=this._loading[B];if(S)return S;try{return await(this._loading[B]=O(B))}finally{delete this._loading[B]}}}addSchema(R,q,O,s=this.opts.validateSchema){if(Array.isArray(R)){for(const T of R)this.addSchema(T,void 0,O,s);return this}let y;if(typeof R=="object"){const{schemaId:T}=this.opts;if(y=R[T],y!==void 0&&typeof y!="string")throw new Error(`schema ${T} must be string`)}return q=(0,c.normalizeId)(q||y),this._checkUnique(q),this.schemas[q]=this._addSchema(R,O,q,s,!0),this}addMetaSchema(R,q,O=this.opts.validateSchema){return this.addSchema(R,q,!0,O),this}validateSchema(R,q){if(typeof R=="boolean")return!0;let O;if(O=R.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(O,R);if(!s&&q){const y="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(y);else throw new Error(y)}return s}getSchema(R){let q;for(;typeof(q=d.call(this,R))=="string";)R=q;if(q===void 0){const{schemaId:O}=this.opts,s=new l.SchemaEnv({schema:{},schemaId:O});if(q=l.resolveSchema.call(this,s,R),!q)return;this.refs[R]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=d.call(this,R);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const q=R;this._cache.delete(q);let O=R[this.opts.schemaId];return O&&(O=(0,c.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const q of R)this.addKeyword(q);return this}addKeyword(R,q){let O;if(typeof R=="string")O=R,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=O);else if(typeof R=="object"&&q===void 0){if(q=R,O=q.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,O,q),!q)return(0,m.eachItem)(O,y=>x.call(this,y)),this;fe.call(this,q);const s={...q,type:(0,p.getJSONTypes)(q.type),schemaType:(0,p.getJSONTypes)(q.schemaType)};return(0,m.eachItem)(O,s.type.length===0?y=>x.call(this,y,s):y=>s.type.forEach(T=>x.call(this,y,s,T))),this}getKeyword(R){const q=this.RULES.all[R];return typeof q=="object"?q.definition:!!q}removeKeyword(R){const{RULES:q}=this;delete q.keywords[R],delete q.all[R];for(const O of q.rules){const s=O.rules.findIndex(y=>y.keyword===R);s>=0&&O.rules.splice(s,1)}return this}addFormat(R,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[R]=q,this}errorsText(R=this.errors,{separator:q=", ",dataVar:O="data"}={}){return!R||R.length===0?"No errors":R.map(s=>`${O}${s.instancePath} ${s.message}`).reduce((s,y)=>s+q+y)}$dataMetaSchema(R,q){const O=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const s of q){const y=s.split("/").slice(1);let T=R;for(const V of y)T=T[V];for(const V in O){const U=O[V];if(typeof U!="object")continue;const{$data:X}=U.definition,B=T[V];X&&B&&(T[V]=ye(B))}}return R}_removeAllSchemas(R,q){for(const O in R){const s=R[O];(!q||q.test(O))&&(typeof s=="string"?delete R[O]:s&&!s.meta&&(this._cache.delete(s.schema),delete R[O]))}}_addSchema(R,q,O,s=this.opts.validateSchema,y=this.opts.addUsedSchema){let T;const{schemaId:V}=this.opts;if(typeof R=="object")T=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(R);if(U!==void 0)return U;O=(0,c.normalizeId)(T||O);const X=c.getSchemaRefs.call(this,R,O);return U=new l.SchemaEnv({schema:R,schemaId:V,meta:q,baseId:O,localRefs:X}),this._cache.set(U.schema,U),y&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=U),s&&this.validateSchema(R,!0),U}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):l.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const q=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,R)}finally{this.opts=q}}}v.ValidationError=u.default,v.MissingRefError=$.default,e.default=v;function h(I,R,q,O="error"){for(const s in I){const y=s;y in R&&this.logger[O](`${q}: option ${s}. ${I[y]}`)}}function d(I){return I=(0,c.normalizeId)(I),this.schemas[I]||this.refs[I]}function b(){const I=this.opts.schemas;if(I)if(Array.isArray(I))this.addSchema(I);else for(const R in I)this.addSchema(I[R],R)}function k(){for(const I in this.opts.formats){const R=this.opts.formats[I];R&&this.addFormat(I,R)}}function A(I){if(Array.isArray(I)){this.addVocabulary(I);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in I){const q=I[R];q.keyword||(q.keyword=R),this.addKeyword(q)}}function D(){const I={...this.opts};for(const R of g)delete I[R];return I}const F={log(){},warn(){},error(){}};function z(I){if(I===!1)return F;if(I===void 0)return console;if(I.log&&I.warn&&I.error)return I;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function W(I,R){const{RULES:q}=this;if((0,m.eachItem)(I,O=>{if(q.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!L.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(I,R,q){var O;const s=R==null?void 0:R.post;if(q&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:y}=this;let T=s?y.post:y.rules.find(({type:U})=>U===q);if(T||(T={type:q,rules:[]},y.rules.push(T)),y.keywords[I]=!0,!R)return;const V={keyword:I,definition:{...R,type:(0,p.getJSONTypes)(R.type),schemaType:(0,p.getJSONTypes)(R.schemaType)}};R.before?de.call(this,T,V,R.before):T.rules.push(V),y.all[I]=V,(O=R.implements)===null||O===void 0||O.forEach(U=>this.addKeyword(U))}function de(I,R,q){const O=I.rules.findIndex(s=>s.keyword===q);O>=0?I.rules.splice(O,0,R):(I.rules.push(R),this.logger.warn(`rule ${q} is not defined`))}function fe(I){let{metaSchema:R}=I;R!==void 0&&(I.$data&&this.opts.$data&&(R=ye(R)),I.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(I){return{anyOf:[I,Z]}}}(wt)),wt}var qe={},Ie={},Ae={},cr;function Sn(){if(cr)return Ae;cr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ae.default=e,Ae}var _e={},lr;function Nn(){if(lr)return _e;lr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=_t(),r=le(),E=H(),u=ge(),$=qt(),n=Q(),l={keyword:"$ref",schemaType:"string",code(p){const{gen:m,schema:P,it:N}=p,{baseId:w,schemaEnv:g,validateName:_,opts:o,self:i}=N,{root:t}=g;if((P==="#"||P==="#/")&&w===t.baseId)return v();const f=$.resolveRef.call(i,t,w,P);if(f===void 0)throw new e.default(N.opts.uriResolver,w,P);if(f instanceof $.SchemaEnv)return h(f);return d(f);function v(){if(g===t)return c(p,_,g,g.$async);const b=m.scopeValue("root",{ref:t});return c(p,(0,E._)`${b}.validate`,t,t.$async)}function h(b){const k=a(p,b);c(p,k,b,b.$async)}function d(b){const k=m.scopeValue("schema",o.code.source===!0?{ref:b,code:(0,E.stringify)(b)}:{ref:b}),A=m.name("valid"),D=p.subschema({schema:b,dataTypes:[],schemaPath:E.nil,topSchemaRef:k,errSchemaPath:P},A);p.mergeEvaluated(D),p.ok(A)}}};function a(p,m){const{gen:P}=p;return m.validate?P.scopeValue("validate",{ref:m.validate}):(0,E._)`${P.scopeValue("wrapper",{ref:m})}.validate`}_e.getValidate=a;function c(p,m,P,N){const{gen:w,it:g}=p,{allErrors:_,schemaEnv:o,opts:i}=g,t=i.passContext?u.default.this:E.nil;N?f():v();function f(){if(!o.$async)throw new Error("async schema referenced by sync schema");const b=w.let("valid");w.try(()=>{w.code((0,E._)`await ${(0,r.callValidateCode)(p,m,t)}`),d(m),_||w.assign(b,!0)},k=>{w.if((0,E._)`!(${k} instanceof ${g.ValidationError})`,()=>w.throw(k)),h(k),_||w.assign(b,!1)}),p.ok(b)}function v(){p.result((0,r.callValidateCode)(p,m,t),()=>d(m),()=>h(m))}function h(b){const k=(0,E._)`${b}.errors`;w.assign(u.default.vErrors,(0,E._)`${u.default.vErrors} === null ? ${k} : ${u.default.vErrors}.concat(${k})`),w.assign(u.default.errors,(0,E._)`${u.default.vErrors}.length`)}function d(b){var k;if(!g.opts.unevaluated)return;const A=(k=P==null?void 0:P.validate)===null||k===void 0?void 0:k.evaluated;if(g.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(g.props=n.mergeEvaluated.props(w,A.props,g.props));else{const D=w.var("props",(0,E._)`${b}.evaluated.props`);g.props=n.mergeEvaluated.props(w,D,g.props,E.Name)}if(g.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(g.items=n.mergeEvaluated.items(w,A.items,g.items));else{const D=w.var("items",(0,E._)`${b}.evaluated.items`);g.items=n.mergeEvaluated.items(w,D,g.items,E.Name)}}}return _e.callRef=c,_e.default=l,_e}var dr;function Rn(){if(dr)return Ie;dr=1,Object.defineProperty(Ie,"__esModule",{value:!0});const e=Sn(),r=Nn(),E=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return Ie.default=E,Ie}var Me={},De={},fr;function jn(){if(fr)return De;fr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=H(),r=e.operators,E={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},u={message:({keyword:n,schemaCode:l})=>(0,e.str)`must be ${E[n].okStr} ${l}`,params:({keyword:n,schemaCode:l})=>(0,e._)`{comparison: ${E[n].okStr}, limit: ${l}}`},$={keyword:Object.keys(E),type:"number",schemaType:"number",$data:!0,error:u,code(n){const{keyword:l,data:a,schemaCode:c}=n;n.fail$data((0,e._)`${a} ${E[l].fail} ${c} || isNaN(${a})`)}};return De.default=$,De}var Ve={},hr;function On(){if(hr)return Ve;hr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=H(),E={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:u})=>(0,e.str)`must be multiple of ${u}`,params:({schemaCode:u})=>(0,e._)`{multipleOf: ${u}}`},code(u){const{gen:$,data:n,schemaCode:l,it:a}=u,c=a.opts.multipleOfPrecision,p=$.let("res"),m=c?(0,e._)`Math.abs(Math.round(${p}) - ${p}) > 1e-${c}`:(0,e._)`${p} !== parseInt(${p})`;u.fail$data((0,e._)`(${l} === 0 || (${p} = ${n}/${l}, ${m}))`)}};return Ve.default=E,Ve}var Fe={},Ke={},mr;function Tn(){if(mr)return Ke;mr=1,Object.defineProperty(Ke,"__esModule",{value:!0});function e(r){const E=r.length;let u=0,$=0,n;for(;$<E;)u++,n=r.charCodeAt($++),n>=55296&&n<=56319&&$<E&&(n=r.charCodeAt($),(n&64512)===56320&&$++);return u}return Ke.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ke}var pr;function kn(){if(pr)return Fe;pr=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=H(),r=Q(),E=Tn(),$={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:l}){const a=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${l} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:l,data:a,schemaCode:c,it:p}=n,m=l==="maxLength"?e.operators.GT:e.operators.LT,P=p.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,r.useFunc)(n.gen,E.default)}(${a})`;n.fail$data((0,e._)`${P} ${m} ${c}`)}};return Fe.default=$,Fe}var Ue={},yr;function Cn(){if(yr)return Ue;yr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=le(),r=H(),u={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:$})=>(0,r.str)`must match pattern "${$}"`,params:({schemaCode:$})=>(0,r._)`{pattern: ${$}}`},code($){const{data:n,$data:l,schema:a,schemaCode:c,it:p}=$,m=p.opts.unicodeRegExp?"u":"",P=l?(0,r._)`(new RegExp(${c}, ${m}))`:(0,e.usePattern)($,a);$.fail$data((0,r._)`!${P}.test(${n})`)}};return Ue.default=u,Ue}var Le={},_r;function qn(){if(_r)return Le;_r=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=H(),E={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:u,schemaCode:$}){const n=u==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${$} properties`},params:({schemaCode:u})=>(0,e._)`{limit: ${u}}`},code(u){const{keyword:$,data:n,schemaCode:l}=u,a=$==="maxProperties"?e.operators.GT:e.operators.LT;u.fail$data((0,e._)`Object.keys(${n}).length ${a} ${l}`)}};return Le.default=E,Le}var ze={},gr;function In(){if(gr)return ze;gr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=le(),r=H(),E=Q(),$={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,r.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,r._)`{missingProperty: ${n}}`},code(n){const{gen:l,schema:a,schemaCode:c,data:p,$data:m,it:P}=n,{opts:N}=P;if(!m&&a.length===0)return;const w=a.length>=N.loopRequired;if(P.allErrors?g():_(),N.strictRequired){const t=n.parentSchema.properties,{definedProperties:f}=n.it;for(const v of a)if((t==null?void 0:t[v])===void 0&&!f.has(v)){const h=P.schemaEnv.baseId+P.errSchemaPath,d=`required property "${v}" is not defined at "${h}" (strictRequired)`;(0,E.checkStrictMode)(P,d,P.opts.strictRequired)}}function g(){if(w||m)n.block$data(r.nil,o);else for(const t of a)(0,e.checkReportMissingProp)(n,t)}function _(){const t=l.let("missing");if(w||m){const f=l.let("valid",!0);n.block$data(f,()=>i(t,f)),n.ok(f)}else l.if((0,e.checkMissingProp)(n,a,t)),(0,e.reportMissingProp)(n,t),l.else()}function o(){l.forOf("prop",c,t=>{n.setParams({missingProperty:t}),l.if((0,e.noPropertyInData)(l,p,t,N.ownProperties),()=>n.error())})}function i(t,f){n.setParams({missingProperty:t}),l.forOf(t,c,()=>{l.assign(f,(0,e.propertyInData)(l,p,t,N.ownProperties)),l.if((0,r.not)(f),()=>{n.error(),l.break()})},r.nil)}}};return ze.default=$,ze}var Ge={},$r;function An(){if($r)return Ge;$r=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=H(),E={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:u,schemaCode:$}){const n=u==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${$} items`},params:({schemaCode:u})=>(0,e._)`{limit: ${u}}`},code(u){const{keyword:$,data:n,schemaCode:l}=u,a=$==="maxItems"?e.operators.GT:e.operators.LT;u.fail$data((0,e._)`${n}.length ${a} ${l}`)}};return Ge.default=E,Ge}var Je={},He={},vr;function It(){if(vr)return He;vr=1,Object.defineProperty(He,"__esModule",{value:!0});const e=xr();return e.code='require("ajv/dist/runtime/equal").default',He.default=e,He}var wr;function Mn(){if(wr)return Je;wr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=ht(),r=H(),E=Q(),u=It(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:a}})=>(0,r.str)`must NOT have duplicate items (items ## ${a} and ${l} are identical)`,params:({params:{i:l,j:a}})=>(0,r._)`{i: ${l}, j: ${a}}`},code(l){const{gen:a,data:c,$data:p,schema:m,parentSchema:P,schemaCode:N,it:w}=l;if(!p&&!m)return;const g=a.let("valid"),_=P.items?(0,e.getSchemaTypes)(P.items):[];l.block$data(g,o,(0,r._)`${N} === false`),l.ok(g);function o(){const v=a.let("i",(0,r._)`${c}.length`),h=a.let("j");l.setParams({i:v,j:h}),a.assign(g,!0),a.if((0,r._)`${v} > 1`,()=>(i()?t:f)(v,h))}function i(){return _.length>0&&!_.some(v=>v==="object"||v==="array")}function t(v,h){const d=a.name("item"),b=(0,e.checkDataTypes)(_,d,w.opts.strictNumbers,e.DataType.Wrong),k=a.const("indices",(0,r._)`{}`);a.for((0,r._)`;${v}--;`,()=>{a.let(d,(0,r._)`${c}[${v}]`),a.if(b,(0,r._)`continue`),_.length>1&&a.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),a.if((0,r._)`typeof ${k}[${d}] == "number"`,()=>{a.assign(h,(0,r._)`${k}[${d}]`),l.error(),a.assign(g,!1).break()}).code((0,r._)`${k}[${d}] = ${v}`)})}function f(v,h){const d=(0,E.useFunc)(a,u.default),b=a.name("outer");a.label(b).for((0,r._)`;${v}--;`,()=>a.for((0,r._)`${h} = ${v}; ${h}--;`,()=>a.if((0,r._)`${d}(${c}[${v}], ${c}[${h}])`,()=>{l.error(),a.assign(g,!1).break(b)})))}}};return Je.default=n,Je}var Be={},br;function Dn(){if(br)return Be;br=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=H(),r=Q(),E=It(),$={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:l,data:a,$data:c,schemaCode:p,schema:m}=n;c||m&&typeof m=="object"?n.fail$data((0,e._)`!${(0,r.useFunc)(l,E.default)}(${a}, ${p})`):n.fail((0,e._)`${m} !== ${a}`)}};return Be.default=$,Be}var We={},Er;function Vn(){if(Er)return We;Er=1,Object.defineProperty(We,"__esModule",{value:!0});const e=H(),r=Q(),E=It(),$={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:l,data:a,$data:c,schema:p,schemaCode:m,it:P}=n;if(!c&&p.length===0)throw new Error("enum must have non-empty array");const N=p.length>=P.opts.loopEnum;let w;const g=()=>w??(w=(0,r.useFunc)(l,E.default));let _;if(N||c)_=l.let("valid"),n.block$data(_,o);else{if(!Array.isArray(p))throw new Error("ajv implementation error");const t=l.const("vSchema",m);_=(0,e.or)(...p.map((f,v)=>i(t,v)))}n.pass(_);function o(){l.assign(_,!1),l.forOf("v",m,t=>l.if((0,e._)`${g()}(${a}, ${t})`,()=>l.assign(_,!0).break()))}function i(t,f){const v=p[f];return typeof v=="object"&&v!==null?(0,e._)`${g()}(${a}, ${t}[${f}])`:(0,e._)`${a} === ${v}`}}};return We.default=$,We}var Pr;function Fn(){if(Pr)return Me;Pr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=jn(),r=On(),E=kn(),u=Cn(),$=qn(),n=In(),l=An(),a=Mn(),c=Dn(),p=Vn(),m=[e.default,r.default,E.default,u.default,$.default,n.default,l.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,p.default];return Me.default=m,Me}var Qe={},Ee={},Sr;function rn(){if(Sr)return Ee;Sr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=H(),r=Q(),u={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:l,it:a}=n,{items:c}=l;if(!Array.isArray(c)){(0,r.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}$(n,c)}};function $(n,l){const{gen:a,schema:c,data:p,keyword:m,it:P}=n;P.items=!0;const N=a.const("len",(0,e._)`${p}.length`);if(c===!1)n.setParams({len:l.length}),n.pass((0,e._)`${N} <= ${l.length}`);else if(typeof c=="object"&&!(0,r.alwaysValidSchema)(P,c)){const g=a.var("valid",(0,e._)`${N} <= ${l.length}`);a.if((0,e.not)(g),()=>w(g)),n.ok(g)}function w(g){a.forRange("i",l.length,N,_=>{n.subschema({keyword:m,dataProp:_,dataPropType:r.Type.Num},g),P.allErrors||a.if((0,e.not)(g),()=>a.break())})}}return Ee.validateAdditionalItems=$,Ee.default=u,Ee}var Xe={},Pe={},Nr;function nn(){if(Nr)return Pe;Nr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateTuple=void 0;const e=H(),r=Q(),E=le(),u={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:l,it:a}=n;if(Array.isArray(l))return $(n,"additionalItems",l);a.items=!0,!(0,r.alwaysValidSchema)(a,l)&&n.ok((0,E.validateArray)(n))}};function $(n,l,a=n.schema){const{gen:c,parentSchema:p,data:m,keyword:P,it:N}=n;_(p),N.opts.unevaluated&&a.length&&N.items!==!0&&(N.items=r.mergeEvaluated.items(c,a.length,N.items));const w=c.name("valid"),g=c.const("len",(0,e._)`${m}.length`);a.forEach((o,i)=>{(0,r.alwaysValidSchema)(N,o)||(c.if((0,e._)`${g} > ${i}`,()=>n.subschema({keyword:P,schemaProp:i,dataProp:i},w)),n.ok(w))});function _(o){const{opts:i,errSchemaPath:t}=N,f=a.length,v=f===o.minItems&&(f===o.maxItems||o[l]===!1);if(i.strictTuples&&!v){const h=`"${P}" is ${f}-tuple, but minItems or maxItems/${l} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(N,h,i.strictTuples)}}}return Pe.validateTuple=$,Pe.default=u,Pe}var Rr;function Kn(){if(Rr)return Xe;Rr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=nn(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:E=>(0,e.validateTuple)(E,"items")};return Xe.default=r,Xe}var Ye={},jr;function Un(){if(jr)return Ye;jr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=H(),r=Q(),E=le(),u=rn(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:l}})=>(0,e.str)`must NOT have more than ${l} items`,params:({params:{len:l}})=>(0,e._)`{limit: ${l}}`},code(l){const{schema:a,parentSchema:c,it:p}=l,{prefixItems:m}=c;p.items=!0,!(0,r.alwaysValidSchema)(p,a)&&(m?(0,u.validateAdditionalItems)(l,m):l.ok((0,E.validateArray)(l)))}};return Ye.default=n,Ye}var Ze={},Or;function Ln(){if(Or)return Ze;Or=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=H(),r=Q(),u={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:$,max:n}})=>n===void 0?(0,e.str)`must contain at least ${$} valid item(s)`:(0,e.str)`must contain at least ${$} and no more than ${n} valid item(s)`,params:({params:{min:$,max:n}})=>n===void 0?(0,e._)`{minContains: ${$}}`:(0,e._)`{minContains: ${$}, maxContains: ${n}}`},code($){const{gen:n,schema:l,parentSchema:a,data:c,it:p}=$;let m,P;const{minContains:N,maxContains:w}=a;p.opts.next?(m=N===void 0?1:N,P=w):m=1;const g=n.const("len",(0,e._)`${c}.length`);if($.setParams({min:m,max:P}),P===void 0&&m===0){(0,r.checkStrictMode)(p,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&m>P){(0,r.checkStrictMode)(p,'"minContains" > "maxContains" is always invalid'),$.fail();return}if((0,r.alwaysValidSchema)(p,l)){let f=(0,e._)`${g} >= ${m}`;P!==void 0&&(f=(0,e._)`${f} && ${g} <= ${P}`),$.pass(f);return}p.items=!0;const _=n.name("valid");P===void 0&&m===1?i(_,()=>n.if(_,()=>n.break())):m===0?(n.let(_,!0),P!==void 0&&n.if((0,e._)`${c}.length > 0`,o)):(n.let(_,!1),o()),$.result(_,()=>$.reset());function o(){const f=n.name("_valid"),v=n.let("count",0);i(f,()=>n.if(f,()=>t(v)))}function i(f,v){n.forRange("i",0,g,h=>{$.subschema({keyword:"contains",dataProp:h,dataPropType:r.Type.Num,compositeRule:!0},f),v()})}function t(f){n.code((0,e._)`${f}++`),P===void 0?n.if((0,e._)`${f} >= ${m}`,()=>n.assign(_,!0).break()):(n.if((0,e._)`${f} > ${P}`,()=>n.assign(_,!1).break()),m===1?n.assign(_,!0):n.if((0,e._)`${f} >= ${m}`,()=>n.assign(_,!0)))}}};return Ze.default=u,Ze}var Rt={},Tr;function zn(){return Tr||(Tr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=H(),E=Q(),u=le();e.error={message:({params:{property:c,depsCount:p,deps:m}})=>{const P=p===1?"property":"properties";return(0,r.str)`must have ${P} ${m} when property ${c} is present`},params:({params:{property:c,depsCount:p,deps:m,missingProperty:P}})=>(0,r._)`{property: ${c},
    missingProperty: ${P},
    depsCount: ${p},
    deps: ${m}}`};const $={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[p,m]=n(c);l(c,p),a(c,m)}};function n({schema:c}){const p={},m={};for(const P in c){if(P==="__proto__")continue;const N=Array.isArray(c[P])?p:m;N[P]=c[P]}return[p,m]}function l(c,p=c.schema){const{gen:m,data:P,it:N}=c;if(Object.keys(p).length===0)return;const w=m.let("missing");for(const g in p){const _=p[g];if(_.length===0)continue;const o=(0,u.propertyInData)(m,P,g,N.opts.ownProperties);c.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),N.allErrors?m.if(o,()=>{for(const i of _)(0,u.checkReportMissingProp)(c,i)}):(m.if((0,r._)`${o} && (${(0,u.checkMissingProp)(c,_,w)})`),(0,u.reportMissingProp)(c,w),m.else())}}e.validatePropertyDeps=l;function a(c,p=c.schema){const{gen:m,data:P,keyword:N,it:w}=c,g=m.name("valid");for(const _ in p)(0,E.alwaysValidSchema)(w,p[_])||(m.if((0,u.propertyInData)(m,P,_,w.opts.ownProperties),()=>{const o=c.subschema({keyword:N,schemaProp:_},g);c.mergeValidEvaluated(o,g)},()=>m.var(g,!0)),c.ok(g))}e.validateSchemaDeps=a,e.default=$}(Rt)),Rt}var xe={},kr;function Gn(){if(kr)return xe;kr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=H(),r=Q(),u={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:$})=>(0,e._)`{propertyName: ${$.propertyName}}`},code($){const{gen:n,schema:l,data:a,it:c}=$;if((0,r.alwaysValidSchema)(c,l))return;const p=n.name("valid");n.forIn("key",a,m=>{$.setParams({propertyName:m}),$.subschema({keyword:"propertyNames",data:m,dataTypes:["string"],propertyName:m,compositeRule:!0},p),n.if((0,e.not)(p),()=>{$.error(!0),c.allErrors||n.break()})}),$.ok(p)}};return xe.default=u,xe}var et={},Cr;function sn(){if(Cr)return et;Cr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=le(),r=H(),E=ge(),u=Q(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>(0,r._)`{additionalProperty: ${l.additionalProperty}}`},code(l){const{gen:a,schema:c,parentSchema:p,data:m,errsCount:P,it:N}=l;if(!P)throw new Error("ajv implementation error");const{allErrors:w,opts:g}=N;if(N.props=!0,g.removeAdditional!=="all"&&(0,u.alwaysValidSchema)(N,c))return;const _=(0,e.allSchemaProperties)(p.properties),o=(0,e.allSchemaProperties)(p.patternProperties);i(),l.ok((0,r._)`${P} === ${E.default.errors}`);function i(){a.forIn("key",m,d=>{!_.length&&!o.length?v(d):a.if(t(d),()=>v(d))})}function t(d){let b;if(_.length>8){const k=(0,u.schemaRefOrVal)(N,p.properties,"properties");b=(0,e.isOwnProperty)(a,k,d)}else _.length?b=(0,r.or)(..._.map(k=>(0,r._)`${d} === ${k}`)):b=r.nil;return o.length&&(b=(0,r.or)(b,...o.map(k=>(0,r._)`${(0,e.usePattern)(l,k)}.test(${d})`))),(0,r.not)(b)}function f(d){a.code((0,r._)`delete ${m}[${d}]`)}function v(d){if(g.removeAdditional==="all"||g.removeAdditional&&c===!1){f(d);return}if(c===!1){l.setParams({additionalProperty:d}),l.error(),w||a.break();return}if(typeof c=="object"&&!(0,u.alwaysValidSchema)(N,c)){const b=a.name("valid");g.removeAdditional==="failing"?(h(d,b,!1),a.if((0,r.not)(b),()=>{l.reset(),f(d)})):(h(d,b),w||a.if((0,r.not)(b),()=>a.break()))}}function h(d,b,k){const A={keyword:"additionalProperties",dataProp:d,dataPropType:u.Type.Str};k===!1&&Object.assign(A,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(A,b)}}};return et.default=n,et}var tt={},qr;function Jn(){if(qr)return tt;qr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=yt(),r=le(),E=Q(),u=sn(),$={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:l,schema:a,parentSchema:c,data:p,it:m}=n;m.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&u.default.code(new e.KeywordCxt(m,u.default,"additionalProperties"));const P=(0,r.allSchemaProperties)(a);for(const o of P)m.definedProperties.add(o);m.opts.unevaluated&&P.length&&m.props!==!0&&(m.props=E.mergeEvaluated.props(l,(0,E.toHash)(P),m.props));const N=P.filter(o=>!(0,E.alwaysValidSchema)(m,a[o]));if(N.length===0)return;const w=l.name("valid");for(const o of N)g(o)?_(o):(l.if((0,r.propertyInData)(l,p,o,m.opts.ownProperties)),_(o),m.allErrors||l.else().var(w,!0),l.endIf()),n.it.definedProperties.add(o),n.ok(w);function g(o){return m.opts.useDefaults&&!m.compositeRule&&a[o].default!==void 0}function _(o){n.subschema({keyword:"properties",schemaProp:o,dataProp:o},w)}}};return tt.default=$,tt}var rt={},Ir;function Hn(){if(Ir)return rt;Ir=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=le(),r=H(),E=Q(),u=Q(),$={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:l,schema:a,data:c,parentSchema:p,it:m}=n,{opts:P}=m,N=(0,e.allSchemaProperties)(a),w=N.filter(v=>(0,E.alwaysValidSchema)(m,a[v]));if(N.length===0||w.length===N.length&&(!m.opts.unevaluated||m.props===!0))return;const g=P.strictSchema&&!P.allowMatchingProperties&&p.properties,_=l.name("valid");m.props!==!0&&!(m.props instanceof r.Name)&&(m.props=(0,u.evaluatedPropsToName)(l,m.props));const{props:o}=m;i();function i(){for(const v of N)g&&t(v),m.allErrors?f(v):(l.var(_,!0),f(v),l.if(_))}function t(v){for(const h in g)new RegExp(v).test(h)&&(0,E.checkStrictMode)(m,`property ${h} matches pattern ${v} (use allowMatchingProperties)`)}function f(v){l.forIn("key",c,h=>{l.if((0,r._)`${(0,e.usePattern)(n,v)}.test(${h})`,()=>{const d=w.includes(v);d||n.subschema({keyword:"patternProperties",schemaProp:v,dataProp:h,dataPropType:u.Type.Str},_),m.opts.unevaluated&&o!==!0?l.assign((0,r._)`${o}[${h}]`,!0):!d&&!m.allErrors&&l.if((0,r.not)(_),()=>l.break())})})}}};return rt.default=$,rt}var nt={},Ar;function Bn(){if(Ar)return nt;Ar=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=Q(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(E){const{gen:u,schema:$,it:n}=E;if((0,e.alwaysValidSchema)(n,$)){E.fail();return}const l=u.name("valid");E.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),E.failResult(l,()=>E.reset(),()=>E.error())},error:{message:"must NOT be valid"}};return nt.default=r,nt}var st={},Mr;function Wn(){if(Mr)return st;Mr=1,Object.defineProperty(st,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:le().validateUnion,error:{message:"must match a schema in anyOf"}};return st.default=r,st}var at={},Dr;function Qn(){if(Dr)return at;Dr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=H(),r=Q(),u={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:$})=>(0,e._)`{passingSchemas: ${$.passing}}`},code($){const{gen:n,schema:l,parentSchema:a,it:c}=$;if(!Array.isArray(l))throw new Error("ajv implementation error");if(c.opts.discriminator&&a.discriminator)return;const p=l,m=n.let("valid",!1),P=n.let("passing",null),N=n.name("_valid");$.setParams({passing:P}),n.block(w),$.result(m,()=>$.reset(),()=>$.error(!0));function w(){p.forEach((g,_)=>{let o;(0,r.alwaysValidSchema)(c,g)?n.var(N,!0):o=$.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},N),_>0&&n.if((0,e._)`${N} && ${m}`).assign(m,!1).assign(P,(0,e._)`[${P}, ${_}]`).else(),n.if(N,()=>{n.assign(m,!0),n.assign(P,_),o&&$.mergeEvaluated(o,e.Name)})})}}};return at.default=u,at}var it={},Vr;function Xn(){if(Vr)return it;Vr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=Q(),r={keyword:"allOf",schemaType:"array",code(E){const{gen:u,schema:$,it:n}=E;if(!Array.isArray($))throw new Error("ajv implementation error");const l=u.name("valid");$.forEach((a,c)=>{if((0,e.alwaysValidSchema)(n,a))return;const p=E.subschema({keyword:"allOf",schemaProp:c},l);E.ok(l),E.mergeEvaluated(p)})}};return it.default=r,it}var ot={},Fr;function Yn(){if(Fr)return ot;Fr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=H(),r=Q(),u={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:l,parentSchema:a,it:c}=n;a.then===void 0&&a.else===void 0&&(0,r.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const p=$(c,"then"),m=$(c,"else");if(!p&&!m)return;const P=l.let("valid",!0),N=l.name("_valid");if(w(),n.reset(),p&&m){const _=l.let("ifClause");n.setParams({ifClause:_}),l.if(N,g("then",_),g("else",_))}else p?l.if(N,g("then")):l.if((0,e.not)(N),g("else"));n.pass(P,()=>n.error(!0));function w(){const _=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N);n.mergeEvaluated(_)}function g(_,o){return()=>{const i=n.subschema({keyword:_},N);l.assign(P,N),n.mergeValidEvaluated(i,P),o?l.assign(o,(0,e._)`${_}`):n.setParams({ifClause:_})}}}};function $(n,l){const a=n.schema[l];return a!==void 0&&!(0,r.alwaysValidSchema)(n,a)}return ot.default=u,ot}var ut={},Kr;function Zn(){if(Kr)return ut;Kr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Q(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:E,parentSchema:u,it:$}){u.if===void 0&&(0,e.checkStrictMode)($,`"${E}" without "if" is ignored`)}};return ut.default=r,ut}var Ur;function xn(){if(Ur)return Qe;Ur=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=rn(),r=Kn(),E=nn(),u=Un(),$=Ln(),n=zn(),l=Gn(),a=sn(),c=Jn(),p=Hn(),m=Bn(),P=Wn(),N=Qn(),w=Xn(),g=Yn(),_=Zn();function o(i=!1){const t=[m.default,P.default,N.default,w.default,g.default,_.default,l.default,a.default,n.default,c.default,p.default];return i?t.push(r.default,u.default):t.push(e.default,E.default),t.push($.default),t}return Qe.default=o,Qe}var ct={},lt={},Lr;function es(){if(Lr)return lt;Lr=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=H(),E={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:u})=>(0,e.str)`must match format "${u}"`,params:({schemaCode:u})=>(0,e._)`{format: ${u}}`},code(u,$){const{gen:n,data:l,$data:a,schema:c,schemaCode:p,it:m}=u,{opts:P,errSchemaPath:N,schemaEnv:w,self:g}=m;if(!P.validateFormats)return;a?_():o();function _(){const i=n.scopeValue("formats",{ref:g.formats,code:P.code.formats}),t=n.const("fDef",(0,e._)`${i}[${p}]`),f=n.let("fType"),v=n.let("format");n.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>n.assign(f,(0,e._)`${t}.type || "string"`).assign(v,(0,e._)`${t}.validate`),()=>n.assign(f,(0,e._)`"string"`).assign(v,t)),u.fail$data((0,e.or)(h(),d()));function h(){return P.strictSchema===!1?e.nil:(0,e._)`${p} && !${v}`}function d(){const b=w.$async?(0,e._)`(${t}.async ? await ${v}(${l}) : ${v}(${l}))`:(0,e._)`${v}(${l})`,k=(0,e._)`(typeof ${v} == "function" ? ${b} : ${v}.test(${l}))`;return(0,e._)`${v} && ${v} !== true && ${f} === ${$} && !${k}`}}function o(){const i=g.formats[c];if(!i){h();return}if(i===!0)return;const[t,f,v]=d(i);t===$&&u.pass(b());function h(){if(P.strictSchema===!1){g.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${c}" ignored in schema at path "${N}"`}}function d(k){const A=k instanceof RegExp?(0,e.regexpCode)(k):P.code.formats?(0,e._)`${P.code.formats}${(0,e.getProperty)(c)}`:void 0,D=n.scopeValue("formats",{key:c,ref:k,code:A});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${D}.validate`]:["string",k,D]}function b(){if(typeof i=="object"&&!(i instanceof RegExp)&&i.async){if(!w.$async)throw new Error("async format in sync schema");return(0,e._)`await ${v}(${l})`}return typeof f=="function"?(0,e._)`${v}(${l})`:(0,e._)`${v}.test(${l})`}}}};return lt.default=E,lt}var zr;function ts(){if(zr)return ct;zr=1,Object.defineProperty(ct,"__esModule",{value:!0});const r=[es().default];return ct.default=r,ct}var we={},Gr;function rs(){return Gr||(Gr=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var Jr;function ns(){if(Jr)return qe;Jr=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=Rn(),r=Fn(),E=xn(),u=ts(),$=rs(),n=[e.default,r.default,(0,E.default)(),u.default,$.metadataVocabulary,$.contentVocabulary];return qe.default=n,qe}var dt={},Re={},Hr;function ss(){if(Hr)return Re;Hr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.DiscrError=void 0;var e;return function(r){r.Tag="tag",r.Mapping="mapping"}(e||(Re.DiscrError=e={})),Re}var Br;function as(){if(Br)return dt;Br=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=H(),r=ss(),E=qt(),u=_t(),$=Q(),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:c}})=>a===r.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:a,tag:c,tagName:p}})=>(0,e._)`{error: ${a}, tag: ${p}, tagValue: ${c}}`},code(a){const{gen:c,data:p,schema:m,parentSchema:P,it:N}=a,{oneOf:w}=P;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=m.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(m.mapping)throw new Error("discriminator: mapping is not supported");if(!w)throw new Error("discriminator: requires oneOf keyword");const _=c.let("valid",!1),o=c.const("tag",(0,e._)`${p}${(0,e.getProperty)(g)}`);c.if((0,e._)`typeof ${o} == "string"`,()=>i(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:o,tagName:g})),a.ok(_);function i(){const v=f();c.if(!1);for(const h in v)c.elseIf((0,e._)`${o} === ${h}`),c.assign(_,t(v[h]));c.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:o,tagName:g}),c.endIf()}function t(v){const h=c.name("valid"),d=a.subschema({keyword:"oneOf",schemaProp:v},h);return a.mergeEvaluated(d,e.Name),h}function f(){var v;const h={},d=k(P);let b=!0;for(let F=0;F<w.length;F++){let z=w[F];if(z!=null&&z.$ref&&!(0,$.schemaHasRulesButRef)(z,N.self.RULES)){const W=z.$ref;if(z=E.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,W),z instanceof E.SchemaEnv&&(z=z.schema),z===void 0)throw new u.default(N.opts.uriResolver,N.baseId,W)}const L=(v=z==null?void 0:z.properties)===null||v===void 0?void 0:v[g];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);b=b&&(d||k(z)),A(L,F)}if(!b)throw new Error(`discriminator: "${g}" must be required`);return h;function k({required:F}){return Array.isArray(F)&&F.includes(g)}function A(F,z){if(F.const)D(F.const,z);else if(F.enum)for(const L of F.enum)D(L,z);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function D(F,z){if(typeof F!="string"||F in h)throw new Error(`discriminator: "${g}" values must be unique strings`);h[F]=z}}}};return dt.default=l,dt}const is="http://json-schema.org/draft-07/schema#",os="http://json-schema.org/draft-07/schema#",us="Core schema meta-schema",cs={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ls=["object","boolean"],ds={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},fs={$schema:is,$id:os,title:us,definitions:cs,type:ls,properties:ds,default:!0};var Wr;function hs(){return Wr||(Wr=1,function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const E=Pn(),u=ns(),$=as(),n=fs,l=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends E.default{_addVocabularies(){super._addVocabularies(),u.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword($.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(n,l):n;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}r.Ajv=c,e.exports=r=c,e.exports.Ajv=c,Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var p=yt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return p.KeywordCxt}});var m=H();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var P=Ct();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return P.default}});var N=_t();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return N.default}})}(je,je.exports)),je.exports}var ms=hs();const ps=un(ms);var ys={$id:"urn:jsonschema:credentials",additionalProperties:{properties:{accessKeyId:{default:null,nullable:!0,type:"string"},Bucket:{default:null,nullable:!0,type:"string"},endpoint:{default:null,nullable:!0,type:"string"},region:{default:null,nullable:!0,type:"string"},secretAccessKey:{default:null,nullable:!0,type:"string"}},type:"object"},type:"object"},_s={$id:"urn:jsonschema:data",items:{$ref:"urn:jsonschema:page"},type:"array"},gs={$id:"urn:jsonschema:importmap",additionalProperties:!1,properties:{imports:{additionalProperties:{type:"string"},default:{},type:"object"}},type:"object"},$s={$id:"urn:jsonschema:page",additionalProperties:!1,dynamicDefaults:{id:"uuid"},properties:{changefreq:{default:null,enum:["always","hourly","daily","weekly","monthly","yearly","never",null],nullable:!0,type:"string"},children:{default:[],items:{type:"object"},type:"array"},class:{default:["prose","max-w-none"],description:"Классы",items:{type:"string"},type:"array"},description:{default:null,nullable:!0,type:"string"},enabled:{default:!0,type:"boolean"},flat:{default:!0,type:"boolean"},header:{type:"string"},icon:{type:"string"},id:{type:"string"},images:{default:[],items:{properties:{alt:{type:"string"},url:{default:"",type:"string"}},type:"object"},type:"array"},keywords:{default:[],items:{type:"string"},type:"array"},lastmod:{default:null,nullable:!0,type:"string"},loc:{default:null,nullable:!0,type:"string"},name:{default:null,nullable:!0,type:"string"},priority:{default:null,maximum:1,minimum:0,nullable:!0,type:"number"},type:{default:null,enum:["article","book","profile","website","music.song","music.album","music.playlist","music.radio_station","video.movie","video.episode","video.tv_show","video.other",null],nullable:!0,type:"string"}},type:"object"};Zr.DEFAULTS.uuid=()=>()=>Yr();var vs={get(){return this.children.filter(({enabled:e})=>e)}},ws={get(){return this.$siblings.findIndex(({id:e})=>this.id===e)}},bs={get(){return this.$siblings[this.$index+1]}},Es={get(){return this.$siblings[this.$index-1]}},Ps={get(){return this.siblings.filter(({enabled:e})=>e)}},At=new ps({code:{esm:!0},coerceTypes:!0,keywords:[Zr()],removeAdditional:!0,schemas:[ys,_s,$s,gs],useDefaults:!0}),Ms=e=>{window.console.error(e)},Ds=async e=>(await fetch(e)).text(),Vs=e=>Object.fromEntries(e.map(r=>[r.toLowerCase().replaceAll(" ","_"),r])),Ss={get(){return this.icon&&`i-${this.icon}`}},Qr=kt({}),Tt=kt([]),Ns={get(){const e=this.branch.slice(1);return e.some(({name:r})=>!r)?void 0:e.map(({name:r})=>r).join("/").replaceAll(" ","_")}},Rs={get(){return["",void 0].includes(this.header)?this.name:this.header}},js={get(){var e,r;return(r=((e=this.loc)==null?void 0:e.replaceAll(" ","_"))??this.path)==null?void 0:r.replace(/^\/?/,"/").replace(/\/?$/,"/")}};At.getSchema("urn:jsonschema:credentials");var jt=At.getSchema("urn:jsonschema:data"),Ot=At.getSchema("urn:jsonschema:importmap"),{add:Fs,down:Ks,leaves:Os,left:Us,objLeaves:Ls,remove:zs,right:Gs,up:Js}=ln(Tt);Xr(Qr,async e=>{await(Ot==null?void 0:Ot(e))||(Qr.imports={})});Xr(Os,async e=>{await(jt==null?void 0:jt(e))?e.forEach(r=>{Object.defineProperties(r,{$children:vs,$index:ws,$next:bs,$prev:Es,$siblings:Ps,i:Ss,path:Ns,title:Rs,to:js})}):(Tt.length=0,Tt.push({}))});export{Ls as a,Ms as b,Ds as c,Vs as g,Qr as i,Tt as n,Os as p};
