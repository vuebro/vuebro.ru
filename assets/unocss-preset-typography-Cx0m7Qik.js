import{a as S,g as x,m as E}from"./unocss-core-BiXlDC0r.js";import{k as N}from"./unocss-rule-utils-CY5oUCfA.js";function w(r){var e;return{"h1,h2,h3,h4,h5,h6":{color:"var(--un-prose-headings)","font-weight":"600","line-height":1.25},a:{color:"var(--un-prose-links)","text-decoration":"underline","font-weight":"500"},"a code":{color:"var(--un-prose-links)"},"p,ul,ol,pre":{margin:"1em 0","line-height":1.75},blockquote:{margin:"1em 0","padding-left":"1em","font-style":"italic","border-left":".25em solid var(--un-prose-borders)"},h1:{margin:"1rem 0","font-size":"2.25em"},h2:{margin:"1.75em 0 .5em","font-size":"1.75em"},h3:{margin:"1.5em 0 .5em","font-size":"1.375em"},h4:{margin:"1em 0","font-size":"1.125em"},"img,video":{"max-width":"100%"},"figure,picture":{margin:"1em 0"},figcaption:{color:"var(--un-prose-captions)","font-size":".875em"},code:{color:"var(--un-prose-code)","font-size":".875em","font-weight":600,"font-family":(e=r.fontFamily)==null?void 0:e.mono},":not(pre) > code::before,:not(pre) > code::after":{content:'"`"'},pre:{padding:"1.25rem 1.5rem","overflow-x":"auto","border-radius":".375rem"},"pre,code":{"white-space":"pre","word-spacing":"normal","word-break":"normal","word-wrap":"normal","-moz-tab-size":4,"-o-tab-size":4,"tab-size":4,"-webkit-hyphens":"none","-moz-hyphens":"none",hyphens:"none",background:"transparent"},"pre code":{"font-weight":"inherit"},"ol,ul":{"padding-left":"1.25em"},ol:{"list-style-type":"decimal"},'ol[type="A"]':{"list-style-type":"upper-alpha"},'ol[type="a"]':{"list-style-type":"lower-alpha"},'ol[type="A" s]':{"list-style-type":"upper-alpha"},'ol[type="a" s]':{"list-style-type":"lower-alpha"},'ol[type="I"]':{"list-style-type":"upper-roman"},'ol[type="i"]':{"list-style-type":"lower-roman"},'ol[type="I" s]':{"list-style-type":"upper-roman"},'ol[type="i" s]':{"list-style-type":"lower-roman"},'ol[type="1"]':{"list-style-type":"decimal"},ul:{"list-style-type":"disc"},"ol > li::marker,ul > li::marker,summary::marker":{color:"var(--un-prose-lists)"},hr:{margin:"2em 0",border:"1px solid var(--un-prose-hr)"},table:{display:"block",margin:"1em 0","border-collapse":"collapse","overflow-x":"auto"},"tr:nth-child(2n)":{background:"var(--un-prose-bg-soft)"},"td,th":{border:"1px solid var(--un-prose-borders)",padding:".625em 1em"},abbr:{cursor:"help"},kbd:{color:"var(--un-prose-code)",border:"1px solid",padding:".25rem .5rem","font-size":".875em","border-radius":".25rem"},details:{margin:"1em 0",padding:"1.25rem 1.5rem",background:"var(--un-prose-bg-soft)"},summary:{cursor:"pointer","font-weight":"600"}}}const z=[["headings","h1","h2","h3","h4","h5","h6","th"],["h1"],["h2"],["h3"],["h4"],["h5"],["h6"],["p"],["a"],["blockquote"],["figure"],["figcaption"],["strong"],["em"],["kbd"],["code"],["pre"],["ol"],["ul"],["li"],["table"],["thead"],["tr"],["th"],["td"],["img"],["video"],["hr"]];function C(r){for(const[e,...t]of z)if(e===r)return t.length>0?t:[e]}function k(r){let e="";const{escapedSelector:t,selectorName:d,preflights:c,compatibility:a,important:s}=r,m=(a==null?void 0:a.noColonNot)||(a==null?void 0:a.noColonWhere);for(const u in c){const l=c[u],p=`:not(:where(.not-${d},.not-${d} *))`,h=u.split(",").map(o=>{const n=o.match(/:[():\-\w]+$/g);if(n){const i=n[0];return o=o.replace(i,""),t.map(g=>m?`${g} ${o}${i}`:`${g} :where(${o})${p}${i}`).join(",")}return null}).filter(o=>o);h.length?e+=h.join(","):e+=t.map(o=>m?u.split(",").map(n=>`${o} ${n}`).join(","):`${o} :where(${u})${p}`).join(","),e+="{";for(const o in l){const n=l[o];e+=`${o}:${n}${s?" !important":""};`}e+="}"}return e}function R(r,e){const{compatibility:t,selectorName:d,important:c=!1}=e,a=typeof(e==null?void 0:e.cssExtend)=="function"?e.cssExtend(r.theme):e==null?void 0:e.cssExtend;let s=Array.from(e.escapedSelectors);return!s[s.length-1].startsWith(".")&&!(t!=null&&t.noColonIs)&&(s=[`:is(${s[s.length-1]},.${e.selectorName})`]),typeof c=="string"&&(s=s.map(m=>t!=null&&t.noColonIs?`${c} ${m}`:`:is(${c}) ${m}`)),k(a?{escapedSelector:s,selectorName:d,preflights:E(w(r.theme),a),compatibility:t,important:c===!0}:{escapedSelector:s,selectorName:d,preflights:w(r.theme),compatibility:t,important:c===!0})}const P=S(r=>{var m,u;r!=null&&r.className&&console.warn('[unocss:preset-typography] "className" is deprecated. Please use "selectorName" instead.');const e=new Set,t=(r==null?void 0:r.selectorName)||(r==null?void 0:r.className)||"prose",d=new RegExp(`^${t}$`),c=new RegExp(`^${t}-([-\\w]+)$`),a=new RegExp(`^${t}-invert$`),s=((m=r==null?void 0:r.compatibility)==null?void 0:m.noColonNot)||((u=r==null?void 0:r.compatibility)==null?void 0:u.noColonWhere);return{name:"@unocss/preset-typography",enforce:"post",layers:{typography:-20},rules:[[d,(l,{rawSelector:p})=>(e.add(x(p)),{color:"var(--un-prose-body)","max-width":"65ch"}),{layer:"typography"}],[c,([,l],{theme:p})=>{var g;const h=(g=p.colors)==null?void 0:g[l];if(h==null)return;const o=typeof h=="object"?h:{},n={body:700,headings:900,links:900,lists:400,hr:200,captions:500,code:900,borders:200,"bg-soft":100,"invert-body":200,"invert-headings":100,"invert-links":100,"invert-lists":500,"invert-hr":700,"invert-captions":400,"invert-code":100,"invert-borders":700,"invert-bg-soft":800},i={};for(const f in n){const y=n[f],v=o[y]??h;let b=!1;for(const $ of N)if(v.includes($)){b=!0,i[`--un-prose-${f}-opacity`]=1,i[`--un-prose-${f}`]=v.replace($,`var(--un-prose-${f}-opacity)`);break}b||(i[`--un-prose-${f}`]=v)}return i},{layer:"typography"}],[a,()=>({"--un-prose-body":"var(--un-prose-invert-body)","--un-prose-headings":"var(--un-prose-invert-headings)","--un-prose-links":"var(--un-prose-invert-links)","--un-prose-lists":"var(--un-prose-invert-lists)","--un-prose-hr":"var(--un-prose-invert-hr)","--un-prose-captions":"var(--un-prose-invert-captions)","--un-prose-code":"var(--un-prose-invert-code)","--un-prose-borders":"var(--un-prose-invert-borders)","--un-prose-bg-soft":"var(--un-prose-invert-bg-soft)"}),{layer:"typography"}]],variants:[{name:"typography element modifiers",match:l=>{var p;if(l.startsWith(`${t}-`)){const h=new RegExp(`^${t}-(\\w+)[:-].+$`),o=(p=l.match(h))==null?void 0:p[1];if(o){const n=C(o);if(n!=null&&n.length)return{matcher:l.slice(t.length+o.length+2),selector:i=>{const g=`:not(:where(.not-${t},.not-${t} *))`;return s?n.map(y=>`${i} ${y}`).join(","):`${i} :is(:where(${n})${g})`}}}}}}],preflights:[{layer:"typography",getCSS:l=>{if(e.size>0)return R(l,{escapedSelectors:e,...r,selectorName:t})}}]}});export{P as p};
