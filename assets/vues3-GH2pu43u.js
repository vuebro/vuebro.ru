import{reactive as me,watch as We,isReactive as Ye,computed as Ae,isRef as Ee,unref as et}from"vue";var tt=Object.create,{getPrototypeOf:rt,defineProperty:Me,getOwnPropertyNames:at}=Object,nt=Object.prototype.hasOwnProperty,Ze=(e,t,h)=>{h=e!=null?tt(rt(e)):{};let c=Me(h,"default",{value:e,enumerable:!0});for(let p of at(e))nt.call(c,p)||Me(c,p,{get:()=>e[p],enumerable:!0});return c},J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ye=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class h extends t{constructor(o){if(super(),!e.IDENTIFIER.test(o))throw new Error("CodeGen: name must be a valid identifier");this.str=o}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=h;class c extends t{constructor(o){super(),this._items=typeof o=="string"?[o]:o}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let o=this._items[0];return o===""||o==='""'}get str(){var o;return(o=this._str)!==null&&o!==void 0?o:this._str=this._items.reduce((n,r)=>`${n}${r}`,"")}get names(){var o;return(o=this._names)!==null&&o!==void 0?o:this._names=this._items.reduce((n,r)=>(r instanceof h&&(n[r.str]=(n[r.str]||0)+1),n),{})}}e._Code=c,e.nil=new c("");function p(a,...o){let n=[a[0]],r=0;for(;r<o.length;)m(n,o[r]),n.push(a[++r]);return new c(n)}e._=p;var _=new c("+");function s(a,...o){let n=[S(a[0])],r=0;for(;r<o.length;)n.push(_),m(n,o[r]),n.push(_,S(a[++r]));return i(n),new c(n)}e.str=s;function m(a,o){o instanceof c?a.push(...o._items):o instanceof h?a.push(o):a.push(w(o))}e.addCodeArg=m;function i(a){let o=1;for(;o<a.length-1;){if(a[o]===_){let n=f(a[o-1],a[o+1]);if(n!==void 0){a.splice(o-1,3,n);continue}a[o++]="+"}o++}}function f(a,o){if(o==='""')return a;if(a==='""')return o;if(typeof a=="string")return o instanceof h||a[a.length-1]!=='"'?void 0:typeof o!="string"?`${a.slice(0,-1)}${o}"`:o[0]==='"'?a.slice(0,-1)+o.slice(1):void 0;if(typeof o=="string"&&o[0]==='"'&&!(a instanceof h))return`"${a}${o.slice(1)}`}function g(a,o){return o.emptyStr()?a:a.emptyStr()?o:s`${a}${o}`}e.strConcat=g;function w(a){return typeof a=="number"||typeof a=="boolean"||a===null?a:S(Array.isArray(a)?a.join(","):a)}function P(a){return new c(S(a))}e.stringify=P;function S(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=S;function j(a){return typeof a=="string"&&e.IDENTIFIER.test(a)?new c(`.${a}`):p`[${a}]`}e.getProperty=j;function E(a){if(typeof a=="string"&&e.IDENTIFIER.test(a))return new c(`${a}`);throw new Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}e.getEsmExportName=E;function $(a){return new c(a.toString())}e.regexpCode=$}),Ve=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=ye();class h extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var c;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(c||(e.UsedValueState=c={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class p{constructor({prefixes:f,parent:g}={}){this._names={},this._prefixes=f,this._parent=g}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){let g=this._names[f]||this._nameGroup(f);return`${f}${g.index++}`}_nameGroup(f){var g,w;if(!((w=(g=this._parent)===null||g===void 0?void 0:g._prefixes)===null||w===void 0)&&w.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=p;class _ extends t.Name{constructor(f,g){super(g),this.prefix=f}setValue(f,{property:g,itemIndex:w}){this.value=f,this.scopePath=t._`.${new t.Name(g)}[${w}]`}}e.ValueScopeName=_;var s=t._`\n`;class m extends p{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?s:t.nil}}get(){return this._scope}name(f){return new _(f,this._newName(f))}value(f,g){var w;if(g.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let P=this.toName(f),{prefix:S}=P,j=(w=g.key)!==null&&w!==void 0?w:g.ref,E=this._values[S];if(E){let o=E.get(j);if(o)return o}else E=this._values[S]=new Map;E.set(j,P);let $=this._scope[S]||(this._scope[S]=[]),a=$.length;return $[a]=g.ref,P.setValue(g,{property:S,itemIndex:a}),P}getValue(f,g){let w=this._values[f];if(w)return w.get(g)}scopeRefs(f,g=this._values){return this._reduceValues(g,w=>{if(w.scopePath===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return t._`${f}${w.scopePath}`})}scopeCode(f=this._values,g,w){return this._reduceValues(f,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},g,w)}_reduceValues(f,g,w={},P){let S=t.nil;for(let j in f){let E=f[j];if(!E)continue;let $=w[j]=w[j]||new Map;E.forEach(a=>{if($.has(a))return;$.set(a,c.Started);let o=g(a);if(o){let n=this.opts.es5?e.varKinds.var:e.varKinds.const;S=t._`${S}${n} ${a} = ${o};${this.opts._n}`}else if(o=P==null?void 0:P(a))S=t._`${S}${o}${this.opts._n}`;else throw new h(a);$.set(a,c.Completed)})}return S}}e.ValueScope=m}),L=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=ye(),h=Ve(),c=ye();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return c.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return c.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return c.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}});var p=Ve();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return p.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return p.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return p.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return p.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class _{optimizeNodes(){return this}optimizeNames(u,b){return this}}class s extends _{constructor(u,b,R){super(),this.varKind=u,this.name=b,this.rhs=R}render({es5:u,_n:b}){let R=u?h.varKinds.var:this.varKind,q=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${q};`+b}optimizeNames(u,b){if(u[this.name.str])return this.rhs&&(this.rhs=z(this.rhs,u,b)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class m extends _{constructor(u,b,R){super(),this.lhs=u,this.rhs=b,this.sideEffects=R}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,b){if(!(this.lhs instanceof t.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=z(this.rhs,u,b),this}get names(){let u=this.lhs instanceof t.Name?{}:{...this.lhs.names};return U(u,this.rhs)}}class i extends m{constructor(u,b,R,q){super(u,R,q),this.op=b}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class f extends _{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class g extends _{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class w extends _{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class P extends _{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,b){return this.code=z(this.code,u,b),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class S extends _{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((b,R)=>b+R.render(u),"")}optimizeNodes(){let{nodes:u}=this,b=u.length;for(;b--;){let R=u[b].optimizeNodes();Array.isArray(R)?u.splice(b,1,...R):R?u[b]=R:u.splice(b,1)}return u.length>0?this:void 0}optimizeNames(u,b){let{nodes:R}=this,q=R.length;for(;q--;){let W=R[q];W.optimizeNames(u,b)||(X(u,W.names),R.splice(q,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((u,b)=>M(u,b.names),{})}}class j extends S{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class E extends S{}class $ extends j{}$.kind="else";class a extends j{constructor(u,b){super(b),this.condition=u}render(u){let b=`if(${this.condition})`+super.render(u);return this.else&&(b+="else "+this.else.render(u)),b}optimizeNodes(){super.optimizeNodes();let u=this.condition;if(u===!0)return this.nodes;let b=this.else;if(b){let R=b.optimizeNodes();b=this.else=Array.isArray(R)?new $(R):R}if(b)return u===!1?b instanceof a?b:b.nodes:this.nodes.length?this:new a(ie(u),b instanceof a?[b]:b.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,b){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(u,b),!!(super.optimizeNames(u,b)||this.else))return this.condition=z(this.condition,u,b),this}get names(){let u=super.names;return U(u,this.condition),this.else&&M(u,this.else.names),u}}a.kind="if";class o extends j{}o.kind="for";class n extends o{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,b){if(super.optimizeNames(u,b))return this.iteration=z(this.iteration,u,b),this}get names(){return M(super.names,this.iteration.names)}}class r extends o{constructor(u,b,R,q){super(),this.varKind=u,this.name=b,this.from=R,this.to=q}render(u){let b=u.es5?h.varKinds.var:this.varKind,{name:R,from:q,to:W}=this;return`for(${b} ${R}=${q}; ${R}<${W}; ${R}++)`+super.render(u)}get names(){let u=U(super.names,this.from);return U(u,this.to)}}class d extends o{constructor(u,b,R,q){super(),this.loop=u,this.varKind=b,this.name=R,this.iterable=q}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,b){if(super.optimizeNames(u,b))return this.iterable=z(this.iterable,u,b),this}get names(){return M(super.names,this.iterable.names)}}class l extends j{constructor(u,b,R){super(),this.name=u,this.args=b,this.async=R}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}l.kind="func";class y extends S{render(u){return"return "+super.render(u)}}y.kind="return";class v extends j{render(u){let b="try"+super.render(u);return this.catch&&(b+=this.catch.render(u)),this.finally&&(b+=this.finally.render(u)),b}optimizeNodes(){var u,b;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(b=this.finally)===null||b===void 0||b.optimizeNodes(),this}optimizeNames(u,b){var R,q;return super.optimizeNames(u,b),(R=this.catch)===null||R===void 0||R.optimizeNames(u,b),(q=this.finally)===null||q===void 0||q.optimizeNames(u,b),this}get names(){let u=super.names;return this.catch&&M(u,this.catch.names),this.finally&&M(u,this.finally.names),u}}class k extends j{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}k.kind="catch";class C extends j{render(u){return"finally"+super.render(u)}}C.kind="finally";class A{constructor(u,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?`
`:""},this._extScope=u,this._scope=new h.Scope({parent:u}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,b){let R=this._extScope.value(u,b);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(u,b){return this._extScope.getValue(u,b)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,b,R,q){let W=this._scope.toName(b);return R!==void 0&&q&&(this._constants[W.str]=R),this._leafNode(new s(u,W,R)),W}const(u,b,R){return this._def(h.varKinds.const,u,b,R)}let(u,b,R){return this._def(h.varKinds.let,u,b,R)}var(u,b,R){return this._def(h.varKinds.var,u,b,R)}assign(u,b,R){return this._leafNode(new m(u,b,R))}add(u,b){return this._leafNode(new i(u,e.operators.ADD,b))}code(u){return typeof u=="function"?u():u!==t.nil&&this._leafNode(new P(u)),this}object(...u){let b=["{"];for(let[R,q]of u)b.length>1&&b.push(","),b.push(R),(R!==q||this.opts.es5)&&(b.push(":"),t.addCodeArg(b,q));return b.push("}"),new t._Code(b)}if(u,b,R){if(this._blockNode(new a(u)),b&&R)this.code(b).else().code(R).endIf();else if(b)this.code(b).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new a(u))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(a,$)}_for(u,b){return this._blockNode(u),b&&this.code(b).endFor(),this}for(u,b){return this._for(new n(u),b)}forRange(u,b,R,q,W=this.opts.es5?h.varKinds.var:h.varKinds.let){let B=this._scope.toName(u);return this._for(new r(W,B,b,R),()=>q(B))}forOf(u,b,R,q=h.varKinds.const){let W=this._scope.toName(u);if(this.opts.es5){let B=b instanceof t.Name?b:this.var("_arr",b);return this.forRange("_i",0,t._`${B}.length`,H=>{this.var(W,t._`${B}[${H}]`),R(W)})}return this._for(new d("of",q,W,b),()=>R(W))}forIn(u,b,R,q=this.opts.es5?h.varKinds.var:h.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,t._`Object.keys(${b})`,R);let W=this._scope.toName(u);return this._for(new d("in",q,W,b),()=>R(W))}endFor(){return this._endBlockNode(o)}label(u){return this._leafNode(new f(u))}break(u){return this._leafNode(new g(u))}return(u){let b=new y;if(this._blockNode(b),this.code(u),b.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(y)}try(u,b,R){if(!b&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');let q=new v;if(this._blockNode(q),this.code(u),b){let W=this.name("e");this._currNode=q.catch=new k(W),b(W)}return R&&(this._currNode=q.finally=new C,this.code(R)),this._endBlockNode(k,C)}throw(u){return this._leafNode(new w(u))}block(u,b){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(b),this}endBlock(u){let b=this._blockStarts.pop();if(b===void 0)throw new Error("CodeGen: not in self-balancing block");let R=this._nodes.length-b;if(R<0||u!==void 0&&R!==u)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${u} expected`);return this._nodes.length=b,this}func(u,b=t.nil,R,q){return this._blockNode(new l(u,b,R)),q&&this.code(q).endFunc(),this}endFunc(){return this._endBlockNode(l)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,b){let R=this._currNode;if(R instanceof u||b&&R instanceof b)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${b?`${u.kind}/${b.kind}`:u.kind}"`)}_elseNode(u){let b=this._currNode;if(!(b instanceof a))throw new Error('CodeGen: "else" without "if"');return this._currNode=b.else=u,this}get _root(){return this._nodes[0]}get _currNode(){let u=this._nodes;return u[u.length-1]}set _currNode(u){let b=this._nodes;b[b.length-1]=u}}e.CodeGen=A;function M(I,u){for(let b in u)I[b]=(I[b]||0)+(u[b]||0);return I}function U(I,u){return u instanceof t._CodeOrName?M(I,u.names):I}function z(I,u,b){if(I instanceof t.Name)return R(I);if(!q(I))return I;return new t._Code(I._items.reduce((W,B)=>(B instanceof t.Name&&(B=R(B)),B instanceof t._Code?W.push(...B._items):W.push(B),W),[]));function R(W){let B=b[W.str];return B===void 0||u[W.str]!==1?W:(delete u[W.str],B)}function q(W){return W instanceof t._Code&&W._items.some(B=>B instanceof t.Name&&u[B.str]===1&&b[B.str]!==void 0)}}function X(I,u){for(let b in u)I[b]=(I[b]||0)-(u[b]||0)}function ie(I){return typeof I=="boolean"||typeof I=="number"||I===null?!I:t._`!${D(I)}`}e.not=ie;var de=O(e.operators.AND);function fe(...I){return I.reduce(de)}e.and=fe;var Q=O(e.operators.OR);function G(...I){return I.reduce(Q)}e.or=G;function O(I){return(u,b)=>u===t.nil?b:b===t.nil?u:t._`${D(u)} ${I} ${D(b)}`}function D(I){return I instanceof t.Name?I:t._`(${I})`}}),F=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=L(),h=ye();function c(l){let y={};for(let v of l)y[v]=!0;return y}e.toHash=c;function p(l,y){return typeof y=="boolean"?y:Object.keys(y).length===0?!0:(_(l,y),!s(y,l.self.RULES.all))}e.alwaysValidSchema=p;function _(l,y=l.schema){let{opts:v,self:k}=l;if(!v.strictSchema||typeof y=="boolean")return;let C=k.RULES.keywords;for(let A in y)C[A]||d(l,`unknown keyword: "${A}"`)}e.checkUnknownRules=_;function s(l,y){if(typeof l=="boolean")return!l;for(let v in l)if(y[v])return!0;return!1}e.schemaHasRules=s;function m(l,y){if(typeof l=="boolean")return!l;for(let v in l)if(v!=="$ref"&&y.all[v])return!0;return!1}e.schemaHasRulesButRef=m;function i({topSchemaRef:l,schemaPath:y},v,k,C){if(!C){if(typeof v=="number"||typeof v=="boolean")return v;if(typeof v=="string")return t._`${v}`}return t._`${l}${y}${t.getProperty(k)}`}e.schemaRefOrVal=i;function f(l){return P(decodeURIComponent(l))}e.unescapeFragment=f;function g(l){return encodeURIComponent(w(l))}e.escapeFragment=g;function w(l){return typeof l=="number"?`${l}`:l.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=w;function P(l){return l.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=P;function S(l,y){if(Array.isArray(l))for(let v of l)y(v);else y(l)}e.eachItem=S;function j({mergeNames:l,mergeToName:y,mergeValues:v,resultToName:k}){return(C,A,M,U)=>{let z=M===void 0?A:M instanceof t.Name?(A instanceof t.Name?l(C,A,M):y(C,A,M),M):A instanceof t.Name?(y(C,M,A),A):v(A,M);return U===t.Name&&!(z instanceof t.Name)?k(C,z):z}}e.mergeEvaluated={props:j({mergeNames:(l,y,v)=>l.if(t._`${v} !== true && ${y} !== undefined`,()=>{l.if(t._`${y} === true`,()=>l.assign(v,!0),()=>l.assign(v,t._`${v} || {}`).code(t._`Object.assign(${v}, ${y})`))}),mergeToName:(l,y,v)=>l.if(t._`${v} !== true`,()=>{y===!0?l.assign(v,!0):(l.assign(v,t._`${v} || {}`),$(l,v,y))}),mergeValues:(l,y)=>l===!0?!0:{...l,...y},resultToName:E}),items:j({mergeNames:(l,y,v)=>l.if(t._`${v} !== true && ${y} !== undefined`,()=>l.assign(v,t._`${y} === true ? true : ${v} > ${y} ? ${v} : ${y}`)),mergeToName:(l,y,v)=>l.if(t._`${v} !== true`,()=>l.assign(v,y===!0?!0:t._`${v} > ${y} ? ${v} : ${y}`)),mergeValues:(l,y)=>l===!0?!0:Math.max(l,y),resultToName:(l,y)=>l.var("items",y)})};function E(l,y){if(y===!0)return l.var("props",!0);let v=l.var("props",t._`{}`);return y!==void 0&&$(l,v,y),v}e.evaluatedPropsToName=E;function $(l,y,v){Object.keys(v).forEach(k=>l.assign(t._`${y}${t.getProperty(k)}`,!0))}e.setEvaluated=$;var a={};function o(l,y){return l.scopeValue("func",{ref:y,code:a[y.code]||(a[y.code]=new h._Code(y.code))})}e.useFunc=o;var n;(function(l){l[l.Num=0]="Num",l[l.Str=1]="Str"})(n||(e.Type=n={}));function r(l,y,v){if(l instanceof t.Name){let k=y===n.Num;return v?k?t._`"[" + ${l} + "]"`:t._`"['" + ${l} + "']"`:k?t._`"/" + ${l}`:t._`"/" + ${l}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return v?t.getProperty(l).toString():"/"+w(l)}e.getErrorPath=r;function d(l,y,v=l.opts.strictSchema){if(v){if(y=`strict mode: ${y}`,v===!0)throw new Error(y);l.self.logger.warn(y)}}e.checkStrictMode=d}),ce=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=h}),$e=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=L(),h=F(),c=ce();e.keywordError={message:({keyword:$})=>t.str`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:a})=>a?t.str`"${$}" keyword must be ${a} ($data)`:t.str`"${$}" keyword is invalid ($data)`};function p($,a=e.keywordError,o,n){let{it:r}=$,{gen:d,compositeRule:l,allErrors:y}=r,v=w($,a,o);n??(l||y)?i(d,v):f(r,t._`[${v}]`)}e.reportError=p;function _($,a=e.keywordError,o){let{it:n}=$,{gen:r,compositeRule:d,allErrors:l}=n,y=w($,a,o);i(r,y),!(d||l)&&f(n,c.default.vErrors)}e.reportExtraError=_;function s($,a){$.assign(c.default.errors,a),$.if(t._`${c.default.vErrors} !== null`,()=>$.if(a,()=>$.assign(t._`${c.default.vErrors}.length`,a),()=>$.assign(c.default.vErrors,null)))}e.resetErrorsCount=s;function m({gen:$,keyword:a,schemaValue:o,data:n,errsCount:r,it:d}){if(r===void 0)throw new Error("ajv implementation error");let l=$.name("err");$.forRange("i",r,c.default.errors,y=>{$.const(l,t._`${c.default.vErrors}[${y}]`),$.if(t._`${l}.instancePath === undefined`,()=>$.assign(t._`${l}.instancePath`,t.strConcat(c.default.instancePath,d.errorPath))),$.assign(t._`${l}.schemaPath`,t.str`${d.errSchemaPath}/${a}`),d.opts.verbose&&($.assign(t._`${l}.schema`,o),$.assign(t._`${l}.data`,n))})}e.extendErrors=m;function i($,a){let o=$.const("err",a);$.if(t._`${c.default.vErrors} === null`,()=>$.assign(c.default.vErrors,t._`[${o}]`),t._`${c.default.vErrors}.push(${o})`),$.code(t._`${c.default.errors}++`)}function f($,a){let{gen:o,validateName:n,schemaEnv:r}=$;r.$async?o.throw(t._`new ${$.ValidationError}(${a})`):(o.assign(t._`${n}.errors`,a),o.return(!1))}var g={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function w($,a,o){let{createErrors:n}=$.it;return n===!1?t._`{}`:P($,a,o)}function P($,a,o={}){let{gen:n,it:r}=$,d=[S(r,o),j($,o)];return E($,a,d),n.object(...d)}function S({errorPath:$},{instancePath:a}){let o=a?t.str`${$}${h.getErrorPath(a,h.Type.Str)}`:$;return[c.default.instancePath,t.strConcat(c.default.instancePath,o)]}function j({keyword:$,it:{errSchemaPath:a}},{schemaPath:o,parentSchema:n}){let r=n?a:t.str`${a}/${$}`;return o&&(r=t.str`${r}${h.getErrorPath(o,h.Type.Str)}`),[g.schemaPath,r]}function E($,{params:a,message:o},n){let{keyword:r,data:d,schemaValue:l,it:y}=$,{opts:v,propertyName:k,topSchemaRef:C,schemaPath:A}=y;n.push([g.keyword,r],[g.params,typeof a=="function"?a($):a||t._`{}`]),v.messages&&n.push([g.message,typeof o=="function"?o($):o]),v.verbose&&n.push([g.schema,l],[g.parentSchema,t._`${C}${A}`],[c.default.data,d]),k&&n.push([g.propertyName,k])}}),st=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=$e(),h=L(),c=ce(),p={message:"boolean schema is false"};function _(i){let{gen:f,schema:g,validateName:w}=i;g===!1?m(i,!1):typeof g=="object"&&g.$async===!0?f.return(c.default.data):(f.assign(h._`${w}.errors`,null),f.return(!0))}e.topBoolOrEmptySchema=_;function s(i,f){let{gen:g,schema:w}=i;w===!1?(g.var(f,!1),m(i)):g.var(f,!0)}e.boolOrEmptySchema=s;function m(i,f){let{gen:g,data:w}=i,P={gen:g,keyword:"false schema",data:w,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};t.reportError(P,p,void 0,f)}}),ze=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],h=new Set(t);function c(_){return typeof _=="string"&&h.has(_)}e.isJSONType=c;function p(){let _={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{..._,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},_.number,_.string,_.array,_.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=p}),Ke=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:p,self:_},s){let m=_.RULES.types[s];return m&&m!==!0&&h(p,m)}e.schemaHasRulesForType=t;function h(p,_){return _.rules.some(s=>c(p,s))}e.shouldUseGroup=h;function c(p,_){var s;return p[_.keyword]!==void 0||((s=_.definition.implements)===null||s===void 0?void 0:s.some(m=>p[m]!==void 0))}e.shouldUseRule=c}),ge=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=ze(),h=Ke(),c=$e(),p=L(),_=F(),s;(function(n){n[n.Correct=0]="Correct",n[n.Wrong=1]="Wrong"})(s||(e.DataType=s={}));function m(n){let r=i(n.type);if(r.includes("null")){if(n.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!r.length&&n.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');n.nullable===!0&&r.push("null")}return r}e.getSchemaTypes=m;function i(n){let r=Array.isArray(n)?n:n?[n]:[];if(r.every(t.isJSONType))return r;throw new Error("type must be JSONType or JSONType[]: "+r.join(","))}e.getJSONTypes=i;function f(n,r){let{gen:d,data:l,opts:y}=n,v=w(r,y.coerceTypes),k=r.length>0&&!(v.length===0&&r.length===1&&h.schemaHasRulesForType(n,r[0]));if(k){let C=E(r,l,y.strictNumbers,s.Wrong);d.if(C,()=>{v.length?P(n,r,v):a(n)})}return k}e.coerceAndCheckDataType=f;var g=new Set(["string","number","integer","boolean","null"]);function w(n,r){return r?n.filter(d=>g.has(d)||r==="array"&&d==="array"):[]}function P(n,r,d){let{gen:l,data:y,opts:v}=n,k=l.let("dataType",p._`typeof ${y}`),C=l.let("coerced",p._`undefined`);v.coerceTypes==="array"&&l.if(p._`${k} == 'object' && Array.isArray(${y}) && ${y}.length == 1`,()=>l.assign(y,p._`${y}[0]`).assign(k,p._`typeof ${y}`).if(E(r,y,v.strictNumbers),()=>l.assign(C,y))),l.if(p._`${C} !== undefined`);for(let M of d)(g.has(M)||M==="array"&&v.coerceTypes==="array")&&A(M);l.else(),a(n),l.endIf(),l.if(p._`${C} !== undefined`,()=>{l.assign(y,C),S(n,C)});function A(M){switch(M){case"string":l.elseIf(p._`${k} == "number" || ${k} == "boolean"`).assign(C,p._`"" + ${y}`).elseIf(p._`${y} === null`).assign(C,p._`""`);return;case"number":l.elseIf(p._`${k} == "boolean" || ${y} === null
              || (${k} == "string" && ${y} && ${y} == +${y})`).assign(C,p._`+${y}`);return;case"integer":l.elseIf(p._`${k} === "boolean" || ${y} === null
              || (${k} === "string" && ${y} && ${y} == +${y} && !(${y} % 1))`).assign(C,p._`+${y}`);return;case"boolean":l.elseIf(p._`${y} === "false" || ${y} === 0 || ${y} === null`).assign(C,!1).elseIf(p._`${y} === "true" || ${y} === 1`).assign(C,!0);return;case"null":l.elseIf(p._`${y} === "" || ${y} === 0 || ${y} === false`),l.assign(C,null);return;case"array":l.elseIf(p._`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${y} === null`).assign(C,p._`[${y}]`)}}}function S({gen:n,parentData:r,parentDataProperty:d},l){n.if(p._`${r} !== undefined`,()=>n.assign(p._`${r}[${d}]`,l))}function j(n,r,d,l=s.Correct){let y=l===s.Correct?p.operators.EQ:p.operators.NEQ,v;switch(n){case"null":return p._`${r} ${y} null`;case"array":v=p._`Array.isArray(${r})`;break;case"object":v=p._`${r} && typeof ${r} == "object" && !Array.isArray(${r})`;break;case"integer":v=k(p._`!(${r} % 1) && !isNaN(${r})`);break;case"number":v=k();break;default:return p._`typeof ${r} ${y} ${n}`}return l===s.Correct?v:p.not(v);function k(C=p.nil){return p.and(p._`typeof ${r} == "number"`,C,d?p._`isFinite(${r})`:p.nil)}}e.checkDataType=j;function E(n,r,d,l){if(n.length===1)return j(n[0],r,d,l);let y,v=_.toHash(n);if(v.array&&v.object){let k=p._`typeof ${r} != "object"`;y=v.null?k:p._`!${r} || ${k}`,delete v.null,delete v.array,delete v.object}else y=p.nil;v.number&&delete v.integer;for(let k in v)y=p.and(y,j(k,r,d,l));return y}e.checkDataTypes=E;var $={message:({schema:n})=>`must be ${n}`,params:({schema:n,schemaValue:r})=>typeof n=="string"?p._`{type: ${n}}`:p._`{type: ${r}}`};function a(n){let r=o(n);c.reportError(r,$)}e.reportTypeError=a;function o(n){let{gen:r,data:d,schema:l}=n,y=_.schemaRefOrVal(n,l,"type");return{gen:r,keyword:"type",data:d,schema:l.type,schemaCode:y,schemaValue:y,parentSchema:l,params:{},it:n}}}),it=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=L(),h=F();function c(_,s){let{properties:m,items:i}=_.schema;if(s==="object"&&m)for(let f in m)p(_,f,m[f].default);else s==="array"&&Array.isArray(i)&&i.forEach((f,g)=>p(_,g,f.default))}e.assignDefaults=c;function p(_,s,m){let{gen:i,compositeRule:f,data:g,opts:w}=_;if(m===void 0)return;let P=t._`${g}${t.getProperty(s)}`;if(f){h.checkStrictMode(_,`default is ignored for: ${P}`);return}let S=t._`${P} === undefined`;w.useDefaults==="empty"&&(S=t._`${S} || ${P} === null || ${P} === ""`),i.if(S,t._`${P} = ${t.stringify(m)}`)}}),ue=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=L(),h=F(),c=ce(),p=F();function _(n,r){let{gen:d,data:l,it:y}=n;d.if(w(d,l,r,y.opts.ownProperties),()=>{n.setParams({missingProperty:t._`${r}`},!0),n.error()})}e.checkReportMissingProp=_;function s({gen:n,data:r,it:{opts:d}},l,y){return t.or(...l.map(v=>t.and(w(n,r,v,d.ownProperties),t._`${y} = ${v}`)))}e.checkMissingProp=s;function m(n,r){n.setParams({missingProperty:r},!0),n.error()}e.reportMissingProp=m;function i(n){return n.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:t._`Object.prototype.hasOwnProperty`})}e.hasPropFunc=i;function f(n,r,d){return t._`${i(n)}.call(${r}, ${d})`}e.isOwnProperty=f;function g(n,r,d,l){let y=t._`${r}${t.getProperty(d)} !== undefined`;return l?t._`${y} && ${f(n,r,d)}`:y}e.propertyInData=g;function w(n,r,d,l){let y=t._`${r}${t.getProperty(d)} === undefined`;return l?t.or(y,t.not(f(n,r,d))):y}e.noPropertyInData=w;function P(n){return n?Object.keys(n).filter(r=>r!=="__proto__"):[]}e.allSchemaProperties=P;function S(n,r){return P(r).filter(d=>!h.alwaysValidSchema(n,r[d]))}e.schemaProperties=S;function j({schemaCode:n,data:r,it:{gen:d,topSchemaRef:l,schemaPath:y,errorPath:v},it:k},C,A,M){let U=M?t._`${n}, ${r}, ${l}${y}`:r,z=[[c.default.instancePath,t.strConcat(c.default.instancePath,v)],[c.default.parentData,k.parentData],[c.default.parentDataProperty,k.parentDataProperty],[c.default.rootData,c.default.rootData]];k.opts.dynamicRef&&z.push([c.default.dynamicAnchors,c.default.dynamicAnchors]);let X=t._`${U}, ${d.object(...z)}`;return A!==t.nil?t._`${C}.call(${A}, ${X})`:t._`${C}(${X})`}e.callValidateCode=j;var E=t._`new RegExp`;function $({gen:n,it:{opts:r}},d){let l=r.unicodeRegExp?"u":"",{regExp:y}=r.code,v=y(d,l);return n.scopeValue("pattern",{key:v.toString(),ref:v,code:t._`${y.code==="new RegExp"?E:p.useFunc(n,y)}(${d}, ${l})`})}e.usePattern=$;function a(n){let{gen:r,data:d,keyword:l,it:y}=n,v=r.name("valid");if(y.allErrors){let C=r.let("valid",!0);return k(()=>r.assign(C,!1)),C}return r.var(v,!0),k(()=>r.break()),v;function k(C){let A=r.const("len",t._`${d}.length`);r.forRange("i",0,A,M=>{n.subschema({keyword:l,dataProp:M,dataPropType:h.Type.Num},v),r.if(t.not(v),C)})}}e.validateArray=a;function o(n){let{gen:r,schema:d,keyword:l,it:y}=n;if(!Array.isArray(d))throw new Error("ajv implementation error");if(d.some(C=>h.alwaysValidSchema(y,C))&&!y.opts.unevaluated)return;let v=r.let("valid",!1),k=r.name("_valid");r.block(()=>d.forEach((C,A)=>{let M=n.subschema({keyword:l,schemaProp:A,compositeRule:!0},k);r.assign(v,t._`${v} || ${k}`),!n.mergeValidEvaluated(M,k)&&r.if(t.not(v))})),n.result(v,()=>n.reset(),()=>n.error(!0))}e.validateUnion=o}),ot=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=L(),h=ce(),c=ue(),p=$e();function _(S,j){let{gen:E,keyword:$,schema:a,parentSchema:o,it:n}=S,r=j.macro.call(n.self,a,o,n),d=g(E,$,r);n.opts.validateSchema!==!1&&n.self.validateSchema(r,!0);let l=E.name("valid");S.subschema({schema:r,schemaPath:t.nil,errSchemaPath:`${n.errSchemaPath}/${$}`,topSchemaRef:d,compositeRule:!0},l),S.pass(l,()=>S.error(!0))}e.macroKeywordCode=_;function s(S,j){var E;let{gen:$,keyword:a,schema:o,parentSchema:n,$data:r,it:d}=S;f(d,j);let l=!r&&j.compile?j.compile.call(d.self,o,n,d):j.validate,y=g($,a,l),v=$.let("valid");S.block$data(v,k),S.ok((E=j.valid)!==null&&E!==void 0?E:v);function k(){if(j.errors===!1)M(),j.modifying&&m(S),U(()=>S.error());else{let z=j.async?C():A();j.modifying&&m(S),U(()=>i(S,z))}}function C(){let z=$.let("ruleErrs",null);return $.try(()=>M(t._`await `),X=>$.assign(v,!1).if(t._`${X} instanceof ${d.ValidationError}`,()=>$.assign(z,t._`${X}.errors`),()=>$.throw(X))),z}function A(){let z=t._`${y}.errors`;return $.assign(z,null),M(t.nil),z}function M(z=j.async?t._`await `:t.nil){let X=d.opts.passContext?h.default.this:h.default.self,ie=!("compile"in j&&!r||j.schema===!1);$.assign(v,t._`${z}${c.callValidateCode(S,y,X,ie)}`,j.modifying)}function U(z){var X;$.if(t.not((X=j.valid)!==null&&X!==void 0?X:v),z)}}e.funcKeywordCode=s;function m(S){let{gen:j,data:E,it:$}=S;j.if($.parentData,()=>j.assign(E,t._`${$.parentData}[${$.parentDataProperty}]`))}function i(S,j){let{gen:E}=S;E.if(t._`Array.isArray(${j})`,()=>{E.assign(h.default.vErrors,t._`${h.default.vErrors} === null ? ${j} : ${h.default.vErrors}.concat(${j})`).assign(h.default.errors,t._`${h.default.vErrors}.length`),p.extendErrors(S)},()=>S.error())}function f({schemaEnv:S},j){if(j.async&&!S.$async)throw new Error("async keyword in sync schema")}function g(S,j,E){if(E===void 0)throw new Error(`keyword "${j}" failed to compile`);return S.scopeValue("keyword",typeof E=="function"?{ref:E}:{ref:E,code:t.stringify(E)})}function w(S,j,E=!1){return!j.length||j.some($=>$==="array"?Array.isArray(S):$==="object"?S&&typeof S=="object"&&!Array.isArray(S):typeof S==$||E&&typeof S>"u")}e.validSchemaType=w;function P({schema:S,opts:j,self:E,errSchemaPath:$},a,o){if(Array.isArray(a.keyword)?!a.keyword.includes(o):a.keyword!==o)throw new Error("ajv implementation error");let n=a.dependencies;if(n!=null&&n.some(r=>!Object.prototype.hasOwnProperty.call(S,r)))throw new Error(`parent schema must have dependencies of ${o}: ${n.join(",")}`);if(a.validateSchema&&!a.validateSchema(S[o])){let r=`keyword "${o}" value is invalid at path "${$}": `+E.errorsText(a.validateSchema.errors);if(j.validateSchema==="log")E.logger.error(r);else throw new Error(r)}}e.validateKeywordUsage=P}),lt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=L(),h=F();function c(s,{keyword:m,schemaProp:i,schema:f,schemaPath:g,errSchemaPath:w,topSchemaRef:P}){if(m!==void 0&&f!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(m!==void 0){let S=s.schema[m];return i===void 0?{schema:S,schemaPath:t._`${s.schemaPath}${t.getProperty(m)}`,errSchemaPath:`${s.errSchemaPath}/${m}`}:{schema:S[i],schemaPath:t._`${s.schemaPath}${t.getProperty(m)}${t.getProperty(i)}`,errSchemaPath:`${s.errSchemaPath}/${m}/${h.escapeFragment(i)}`}}if(f!==void 0){if(g===void 0||w===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:P,errSchemaPath:w}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=c;function p(s,m,{dataProp:i,dataPropType:f,data:g,dataTypes:w,propertyName:P}){if(g!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:S}=m;if(i!==void 0){let{errorPath:E,dataPathArr:$,opts:a}=m,o=S.let("data",t._`${m.data}${t.getProperty(i)}`,!0);j(o),s.errorPath=t.str`${E}${h.getErrorPath(i,f,a.jsPropertySyntax)}`,s.parentDataProperty=t._`${i}`,s.dataPathArr=[...$,s.parentDataProperty]}if(g!==void 0){let E=g instanceof t.Name?g:S.let("data",g,!0);j(E),P!==void 0&&(s.propertyName=P)}w&&(s.dataTypes=w);function j(E){s.data=E,s.dataLevel=m.dataLevel+1,s.dataTypes=[],m.definedProperties=new Set,s.parentData=m.data,s.dataNames=[...m.dataNames,E]}}e.extendSubschemaData=p;function _(s,{jtdDiscriminator:m,jtdMetadata:i,compositeRule:f,createErrors:g,allErrors:w}){f!==void 0&&(s.compositeRule=f),g!==void 0&&(s.createErrors=g),w!==void 0&&(s.allErrors=w),s.jtdDiscriminator=m,s.jtdMetadata=i}e.extendSubschemaMode=_}),Le=J((e,t)=>{t.exports=function h(c,p){if(c===p)return!0;if(c&&p&&typeof c=="object"&&typeof p=="object"){if(c.constructor!==p.constructor)return!1;var _,s,m;if(Array.isArray(c)){if(_=c.length,_!=p.length)return!1;for(s=_;s--!==0;)if(!h(c[s],p[s]))return!1;return!0}if(c.constructor===RegExp)return c.source===p.source&&c.flags===p.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===p.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===p.toString();if(m=Object.keys(c),_=m.length,_!==Object.keys(p).length)return!1;for(s=_;s--!==0;)if(!Object.prototype.hasOwnProperty.call(p,m[s]))return!1;for(s=_;s--!==0;){var i=m[s];if(!h(c[i],p[i]))return!1}return!0}return c!==c&&p!==p}}),ut=J((e,t)=>{var h=t.exports=function(_,s,m){typeof s=="function"&&(m=s,s={}),m=s.cb||m;var i=typeof m=="function"?m:m.pre||function(){},f=m.post||function(){};c(s,i,f,_,"",_)};h.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},h.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},h.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},h.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function c(_,s,m,i,f,g,w,P,S,j){if(i&&typeof i=="object"&&!Array.isArray(i)){s(i,f,g,w,P,S,j);for(var E in i){var $=i[E];if(Array.isArray($)){if(E in h.arrayKeywords)for(var a=0;a<$.length;a++)c(_,s,m,$[a],f+"/"+E+"/"+a,g,f,E,i,a)}else if(E in h.propsKeywords){if($&&typeof $=="object")for(var o in $)c(_,s,m,$[o],f+"/"+E+"/"+p(o),g,f,E,i,o)}else(E in h.keywords||_.allKeys&&!(E in h.skipKeywords))&&c(_,s,m,$,f+"/"+E,g,f,E,i)}m(i,f,g,w,P,S,j)}}function p(_){return _.replace(/~/g,"~0").replace(/\//g,"~1")}}),ve=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=F(),h=Le(),c=ut(),p=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _($,a=!0){return typeof $=="boolean"?!0:a===!0?!m($):a?i($)<=a:!1}e.inlineRef=_;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m($){for(let a in $){if(s.has(a))return!0;let o=$[a];if(Array.isArray(o)&&o.some(m)||typeof o=="object"&&m(o))return!0}return!1}function i($){let a=0;for(let o in $){if(o==="$ref")return 1/0;if(a++,!p.has(o)&&(typeof $[o]=="object"&&t.eachItem($[o],n=>a+=i(n)),a===1/0))return 1/0}return a}function f($,a="",o){o!==!1&&(a=P(a));let n=$.parse(a);return g($,n)}e.getFullPath=f;function g($,a){return $.serialize(a).split("#")[0]+"#"}e._getFullPath=g;var w=/#\/?$/;function P($){return $?$.replace(w,""):""}e.normalizeId=P;function S($,a,o){return o=P(o),$.resolve(a,o)}e.resolveUrl=S;var j=/^[a-z_][-a-z0-9._]*$/i;function E($,a){if(typeof $=="boolean")return{};let{schemaId:o,uriResolver:n}=this.opts,r=P($[o]||a),d={"":r},l=f(n,r,!1),y={},v=new Set;return c($,{allKeys:!0},(A,M,U,z)=>{if(z===void 0)return;let X=l+M,ie=d[z];typeof A[o]=="string"&&(ie=de.call(this,A[o])),fe.call(this,A.$anchor),fe.call(this,A.$dynamicAnchor),d[M]=ie;function de(Q){let G=this.opts.uriResolver.resolve;if(Q=P(ie?G(ie,Q):Q),v.has(Q))throw C(Q);v.add(Q);let O=this.refs[Q];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?k(A,O.schema,Q):Q!==P(X)&&(Q[0]==="#"?(k(A,y[Q],Q),y[Q]=A):this.refs[Q]=X),Q}function fe(Q){if(typeof Q=="string"){if(!j.test(Q))throw new Error(`invalid anchor "${Q}"`);de.call(this,`#${Q}`)}}}),y;function k(A,M,U){if(M!==void 0&&!h(A,M))throw C(U)}function C(A){return new Error(`reference "${A}" resolves to more than one schema`)}}e.getSchemaRefs=E}),we=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=st(),h=ge(),c=Ke(),p=ge(),_=it(),s=ot(),m=lt(),i=L(),f=ce(),g=ve(),w=F(),P=$e();function S(N){if(l(N)&&(v(N),d(N))){a(N);return}j(N,()=>t.topBoolOrEmptySchema(N))}e.validateFunctionCode=S;function j({gen:N,validateName:x,schema:T,schemaEnv:V,opts:Z},K){Z.code.es5?N.func(x,i._`${f.default.data}, ${f.default.valCxt}`,V.$async,()=>{N.code(i._`"use strict"; ${n(T,Z)}`),$(N,Z),N.code(K)}):N.func(x,i._`${f.default.data}, ${E(Z)}`,V.$async,()=>N.code(n(T,Z)).code(K))}function E(N){return i._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${N.dynamicRef?i._`, ${f.default.dynamicAnchors}={}`:i.nil}}={}`}function $(N,x){N.if(f.default.valCxt,()=>{N.var(f.default.instancePath,i._`${f.default.valCxt}.${f.default.instancePath}`),N.var(f.default.parentData,i._`${f.default.valCxt}.${f.default.parentData}`),N.var(f.default.parentDataProperty,i._`${f.default.valCxt}.${f.default.parentDataProperty}`),N.var(f.default.rootData,i._`${f.default.valCxt}.${f.default.rootData}`),x.dynamicRef&&N.var(f.default.dynamicAnchors,i._`${f.default.valCxt}.${f.default.dynamicAnchors}`)},()=>{N.var(f.default.instancePath,i._`""`),N.var(f.default.parentData,i._`undefined`),N.var(f.default.parentDataProperty,i._`undefined`),N.var(f.default.rootData,f.default.data),x.dynamicRef&&N.var(f.default.dynamicAnchors,i._`{}`)})}function a(N){let{schema:x,opts:T,gen:V}=N;j(N,()=>{T.$comment&&x.$comment&&z(N),A(N),V.let(f.default.vErrors,null),V.let(f.default.errors,0),T.unevaluated&&o(N),k(N),X(N)})}function o(N){let{gen:x,validateName:T}=N;N.evaluated=x.const("evaluated",i._`${T}.evaluated`),x.if(i._`${N.evaluated}.dynamicProps`,()=>x.assign(i._`${N.evaluated}.props`,i._`undefined`)),x.if(i._`${N.evaluated}.dynamicItems`,()=>x.assign(i._`${N.evaluated}.items`,i._`undefined`))}function n(N,x){let T=typeof N=="object"&&N[x.schemaId];return T&&(x.code.source||x.code.process)?i._`/*# sourceURL=${T} */`:i.nil}function r(N,x){if(l(N)&&(v(N),d(N))){y(N,x);return}t.boolOrEmptySchema(N,x)}function d({schema:N,self:x}){if(typeof N=="boolean")return!N;for(let T in N)if(x.RULES.all[T])return!0;return!1}function l(N){return typeof N.schema!="boolean"}function y(N,x){let{schema:T,gen:V,opts:Z}=N;Z.$comment&&T.$comment&&z(N),M(N),U(N);let K=V.const("_errs",f.default.errors);k(N,K),V.var(x,i._`${K} === ${f.default.errors}`)}function v(N){w.checkUnknownRules(N),C(N)}function k(N,x){if(N.opts.jtd)return de(N,[],!1,x);let T=h.getSchemaTypes(N.schema),V=h.coerceAndCheckDataType(N,T);de(N,T,!V,x)}function C(N){let{schema:x,errSchemaPath:T,opts:V,self:Z}=N;x.$ref&&V.ignoreKeywordsWithRef&&w.schemaHasRulesButRef(x,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${T}"`)}function A(N){let{schema:x,opts:T}=N;x.default!==void 0&&T.useDefaults&&T.strictSchema&&w.checkStrictMode(N,"default is ignored in the schema root")}function M(N){let x=N.schema[N.opts.schemaId];x&&(N.baseId=g.resolveUrl(N.opts.uriResolver,N.baseId,x))}function U(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:N,schemaEnv:x,schema:T,errSchemaPath:V,opts:Z}){let K=T.$comment;if(Z.$comment===!0)N.code(i._`${f.default.self}.logger.log(${K})`);else if(typeof Z.$comment=="function"){let ee=i.str`${V}/$comment`,le=N.scopeValue("root",{ref:x.root});N.code(i._`${f.default.self}.opts.$comment(${K}, ${ee}, ${le}.schema)`)}}function X(N){let{gen:x,schemaEnv:T,validateName:V,ValidationError:Z,opts:K}=N;T.$async?x.if(i._`${f.default.errors} === 0`,()=>x.return(f.default.data),()=>x.throw(i._`new ${Z}(${f.default.vErrors})`)):(x.assign(i._`${V}.errors`,f.default.vErrors),K.unevaluated&&ie(N),x.return(i._`${f.default.errors} === 0`))}function ie({gen:N,evaluated:x,props:T,items:V}){T instanceof i.Name&&N.assign(i._`${x}.props`,T),V instanceof i.Name&&N.assign(i._`${x}.items`,V)}function de(N,x,T,V){let{gen:Z,schema:K,data:ee,allErrors:le,opts:ne,self:se}=N,{RULES:te}=se;if(K.$ref&&(ne.ignoreKeywordsWithRef||!w.schemaHasRulesButRef(K,te))){Z.block(()=>W(N,"$ref",te.all.$ref.definition));return}ne.jtd||Q(N,x),Z.block(()=>{for(let oe of te.rules)he(oe);he(te.post)});function he(oe){c.shouldUseGroup(K,oe)&&(oe.type?(Z.if(p.checkDataType(oe.type,ee,ne.strictNumbers)),fe(N,oe),x.length===1&&x[0]===oe.type&&T&&(Z.else(),p.reportTypeError(N)),Z.endIf()):fe(N,oe),le||Z.if(i._`${f.default.errors} === ${V||0}`))}}function fe(N,x){let{gen:T,schema:V,opts:{useDefaults:Z}}=N;Z&&_.assignDefaults(N,x.type),T.block(()=>{for(let K of x.rules)c.shouldUseRule(V,K)&&W(N,K.keyword,K.definition,x.type)})}function Q(N,x){N.schemaEnv.meta||!N.opts.strictTypes||(G(N,x),!N.opts.allowUnionTypes&&O(N,x),D(N,N.dataTypes))}function G(N,x){if(x.length){if(!N.dataTypes.length){N.dataTypes=x;return}x.forEach(T=>{u(N.dataTypes,T)||R(N,`type "${T}" not allowed by context "${N.dataTypes.join(",")}"`)}),b(N,x)}}function O(N,x){x.length>1&&!(x.length===2&&x.includes("null"))&&R(N,"use allowUnionTypes to allow union type keyword")}function D(N,x){let T=N.self.RULES.all;for(let V in T){let Z=T[V];if(typeof Z=="object"&&c.shouldUseRule(N.schema,Z)){let{type:K}=Z.definition;K.length&&!K.some(ee=>I(x,ee))&&R(N,`missing type "${K.join(",")}" for keyword "${V}"`)}}}function I(N,x){return N.includes(x)||x==="number"&&N.includes("integer")}function u(N,x){return N.includes(x)||x==="integer"&&N.includes("number")}function b(N,x){let T=[];for(let V of N.dataTypes)u(x,V)?T.push(V):x.includes("integer")&&V==="number"&&T.push("integer");N.dataTypes=T}function R(N,x){let T=N.schemaEnv.baseId+N.errSchemaPath;x+=` at "${T}" (strictTypes)`,w.checkStrictMode(N,x,N.opts.strictTypes)}class q{constructor(x,T,V){if(s.validateKeywordUsage(x,T,V),this.gen=x.gen,this.allErrors=x.allErrors,this.keyword=V,this.data=x.data,this.schema=x.schema[V],this.$data=T.$data&&x.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=w.schemaRefOrVal(x,this.schema,V,this.$data),this.schemaType=T.schemaType,this.parentSchema=x.schema,this.params={},this.it=x,this.def=T,this.$data)this.schemaCode=x.gen.const("vSchema",Y(this.$data,x));else if(this.schemaCode=this.schemaValue,!s.validSchemaType(this.schema,T.schemaType,T.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(T.schemaType)}`);("code"in T?T.trackErrors:T.errors!==!1)&&(this.errsCount=x.gen.const("_errs",f.default.errors))}result(x,T,V){this.failResult(i.not(x),T,V)}failResult(x,T,V){this.gen.if(x),V?V():this.error(),T?(this.gen.else(),T(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(x,T){this.failResult(i.not(x),void 0,T)}fail(x){if(x===void 0){this.error(),!this.allErrors&&this.gen.if(!1);return}this.gen.if(x),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(x){if(!this.$data)return this.fail(x);let{schemaCode:T}=this;this.fail(i._`${T} !== undefined && (${i.or(this.invalid$data(),x)})`)}error(x,T,V){if(T){this.setParams(T),this._error(x,V),this.setParams({});return}this._error(x,V)}_error(x,T){(x?P.reportExtraError:P.reportError)(this,this.def.error,T)}$dataError(){P.reportError(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');P.resetErrorsCount(this.gen,this.errsCount)}ok(x){this.allErrors||this.gen.if(x)}setParams(x,T){T?Object.assign(this.params,x):this.params=x}block$data(x,T,V=i.nil){this.gen.block(()=>{this.check$data(x,V),T()})}check$data(x=i.nil,T=i.nil){if(!this.$data)return;let{gen:V,schemaCode:Z,schemaType:K,def:ee}=this;V.if(i.or(i._`${Z} === undefined`,T)),x!==i.nil&&V.assign(x,!0),(K.length||ee.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),x!==i.nil&&V.assign(x,!1)),V.else()}invalid$data(){let{gen:x,schemaCode:T,schemaType:V,def:Z,it:K}=this;return i.or(ee(),le());function ee(){if(V.length){if(!(T instanceof i.Name))throw new Error("ajv implementation error");let ne=Array.isArray(V)?V:[V];return i._`${p.checkDataTypes(ne,T,K.opts.strictNumbers,p.DataType.Wrong)}`}return i.nil}function le(){if(Z.validateSchema){let ne=x.scopeValue("validate$data",{ref:Z.validateSchema});return i._`!${ne}(${T})`}return i.nil}}subschema(x,T){let V=m.getSubschema(this.it,x);m.extendSubschemaData(V,this.it,x),m.extendSubschemaMode(V,x);let Z={...this.it,...V,items:void 0,props:void 0};return r(Z,T),Z}mergeEvaluated(x,T){let{it:V,gen:Z}=this;V.opts.unevaluated&&(V.props!==!0&&x.props!==void 0&&(V.props=w.mergeEvaluated.props(Z,x.props,V.props,T)),V.items!==!0&&x.items!==void 0&&(V.items=w.mergeEvaluated.items(Z,x.items,V.items,T)))}mergeValidEvaluated(x,T){let{it:V,gen:Z}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return Z.if(T,()=>this.mergeEvaluated(x,i.Name)),!0}}e.KeywordCxt=q;function W(N,x,T,V){let Z=new q(N,T,x);"code"in T?T.code(Z,V):Z.$data&&T.validate?s.funcKeywordCode(Z,T):"macro"in T?s.macroKeywordCode(Z,T):(T.compile||T.validate)&&s.funcKeywordCode(Z,T)}var B=/^\/(?:[^~]|~0|~1)*$/,H=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(N,{dataLevel:x,dataNames:T,dataPathArr:V}){let Z,K;if(N==="")return f.default.rootData;if(N[0]==="/"){if(!B.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);Z=N,K=f.default.rootData}else{let se=H.exec(N);if(!se)throw new Error(`Invalid JSON-pointer: ${N}`);let te=+se[1];if(Z=se[2],Z==="#"){if(te>=x)throw new Error(ne("property/index",te));return V[x-te]}if(te>x)throw new Error(ne("data",te));if(K=T[x-te],!Z)return K}let ee=K,le=Z.split("/");for(let se of le)se&&(K=i._`${K}${i.getProperty(w.unescapeJsonPointer(se))}`,ee=i._`${ee} && ${K}`);return ee;function ne(se,te){return`Cannot access ${se} ${te} levels up, current level is ${x}`}}e.getData=Y}),xe=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});class t extends Error{constructor(c){super("validation failed"),this.errors=c,this.ajv=this.validation=!0}}e.default=t}),_e=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ve();class h extends Error{constructor(p,_,s,m){super(m||`can't resolve reference ${s} from id ${_}`),this.missingRef=t.resolveUrl(p,_,s),this.missingSchema=t.normalizeId(t.getFullPath(p,this.missingRef))}}e.default=h}),Ie=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=L(),h=xe(),c=ce(),p=ve(),_=F(),s=we();class m{constructor(o){var n;this.refs={},this.dynamicAnchors={};let r;typeof o.schema=="object"&&(r=o.schema),this.schema=o.schema,this.schemaId=o.schemaId,this.root=o.root||this,this.baseId=(n=o.baseId)!==null&&n!==void 0?n:p.normalizeId(r==null?void 0:r[o.schemaId||"$id"]),this.schemaPath=o.schemaPath,this.localRefs=o.localRefs,this.meta=o.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}e.SchemaEnv=m;function i(a){let o=w.call(this,a);if(o)return o;let n=p.getFullPath(this.opts.uriResolver,a.root.baseId),{es5:r,lines:d}=this.opts.code,{ownProperties:l}=this.opts,y=new t.CodeGen(this.scope,{es5:r,lines:d,ownProperties:l}),v;a.$async&&(v=y.scopeValue("Error",{ref:h.default,code:t._`require("ajv/dist/runtime/validation_error").default`}));let k=y.scopeName("validate");a.validateName=k;let C={gen:y,allErrors:this.opts.allErrors,data:c.default.data,parentData:c.default.parentData,parentDataProperty:c.default.parentDataProperty,dataNames:[c.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:y.scopeValue("schema",this.opts.code.source===!0?{ref:a.schema,code:t.stringify(a.schema)}:{ref:a.schema}),validateName:k,ValidationError:v,schema:a.schema,schemaEnv:a,rootId:n,baseId:a.baseId||n,schemaPath:t.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:t._`""`,opts:this.opts,self:this},A;try{this._compilations.add(a),s.validateFunctionCode(C),y.optimize(this.opts.code.optimize);let M=y.toString();A=`${y.scopeRefs(c.default.scope)}return ${M}`,this.opts.code.process&&(A=this.opts.code.process(A,a));let U=new Function(`${c.default.self}`,`${c.default.scope}`,A)(this,this.scope.get());if(this.scope.value(k,{ref:U}),U.errors=null,U.schema=a.schema,U.schemaEnv=a,a.$async&&(U.$async=!0),this.opts.code.source===!0&&(U.source={validateName:k,validateCode:M,scopeValues:y._values}),this.opts.unevaluated){let{props:z,items:X}=C;U.evaluated={props:z instanceof t.Name?void 0:z,items:X instanceof t.Name?void 0:X,dynamicProps:z instanceof t.Name,dynamicItems:X instanceof t.Name},U.source&&(U.source.evaluated=t.stringify(U.evaluated))}return a.validate=U,a}catch(M){throw delete a.validate,delete a.validateName,A&&this.logger.error("Error compiling schema, function code:",A),M}finally{this._compilations.delete(a)}}e.compileSchema=i;function f(a,o,n){var r;n=p.resolveUrl(this.opts.uriResolver,o,n);let d=a.refs[n];if(d)return d;let l=S.call(this,a,n);if(l===void 0){let y=(r=a.localRefs)===null||r===void 0?void 0:r[n],{schemaId:v}=this.opts;y&&(l=new m({schema:y,schemaId:v,root:a,baseId:o}))}if(l!==void 0)return a.refs[n]=g.call(this,l)}e.resolveRef=f;function g(a){return p.inlineRef(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:i.call(this,a)}function w(a){for(let o of this._compilations)if(P(o,a))return o}e.getCompilingSchema=w;function P(a,o){return a.schema===o.schema&&a.root===o.root&&a.baseId===o.baseId}function S(a,o){let n;for(;typeof(n=this.refs[o])=="string";)o=n;return n||this.schemas[o]||j.call(this,a,o)}function j(a,o){let n=this.opts.uriResolver.parse(o),r=p._getFullPath(this.opts.uriResolver,n),d=p.getFullPath(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&r===d)return $.call(this,n,a);let l=p.normalizeId(r),y=this.refs[l]||this.schemas[l];if(typeof y=="string"){let v=j.call(this,a,y);return typeof(v==null?void 0:v.schema)!="object"?void 0:$.call(this,n,v)}if(typeof(y==null?void 0:y.schema)=="object"){if(y.validate||i.call(this,y),l===p.normalizeId(o)){let{schema:v}=y,{schemaId:k}=this.opts,C=v[k];return C&&(d=p.resolveUrl(this.opts.uriResolver,d,C)),new m({schema:v,schemaId:k,root:a,baseId:d})}return $.call(this,n,y)}}e.resolveSchema=j;var E=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $(a,{baseId:o,schema:n,root:r}){var d;if(((d=a.fragment)===null||d===void 0?void 0:d[0])!=="/")return;for(let v of a.fragment.slice(1).split("/")){if(typeof n=="boolean")return;let k=n[_.unescapeFragment(v)];if(k===void 0)return;n=k;let C=typeof n=="object"&&n[this.opts.schemaId];!E.has(v)&&C&&(o=p.resolveUrl(this.opts.uriResolver,o,C))}let l;if(typeof n!="boolean"&&n.$ref&&!_.schemaHasRulesButRef(n,this.RULES)){let v=p.resolveUrl(this.opts.uriResolver,o,n.$ref);l=j.call(this,r,v)}let{schemaId:y}=this.opts;if(l=l||new m({schema:n,schemaId:y,root:r,baseId:o}),l.schema!==l.root.schema)return l}}),dt=J((e,t)=>{t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),ft=J((e,t)=>{var h={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:h}}),ct=J((e,t)=>{var{HEX:h}=ft(),c=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function p(a){if(f(a,".")<3)return{host:a,isIPV4:!1};let o=a.match(c)||[],[n]=o;return n?{host:i(n,"."),isIPV4:!0}:{host:a,isIPV4:!1}}function _(a,o=!1){let n="",r=!0;for(let d of a){if(h[d]===void 0)return;d!=="0"&&r===!0&&(r=!1),r||(n+=d)}return o&&n.length===0&&(n="0"),n}function s(a){let o=0,n={error:!1,address:"",zone:""},r=[],d=[],l=!1,y=!1,v=!1;function k(){if(d.length){if(l===!1){let C=_(d);if(C!==void 0)r.push(C);else return n.error=!0,!1}d.length=0}return!0}for(let C=0;C<a.length;C++){let A=a[C];if(!(A==="["||A==="]"))if(A===":"){if(y===!0&&(v=!0),!k())break;if(o++,r.push(":"),o>7){n.error=!0;break}C-1>=0&&a[C-1]===":"&&(y=!0);continue}else if(A==="%"){if(!k())break;l=!0}else{d.push(A);continue}}return d.length&&(l?n.zone=d.join(""):v?r.push(d.join("")):r.push(_(d))),n.address=r.join(""),n}function m(a){if(f(a,":")<2)return{host:a,isIPV6:!1};let o=s(a);if(o.error)return{host:a,isIPV6:!1};{let{address:n,address:r}=o;return o.zone&&(n+="%"+o.zone,r+="%25"+o.zone),{host:n,escapedHost:r,isIPV6:!0}}}function i(a,o){let n="",r=!0,d=a.length;for(let l=0;l<d;l++){let y=a[l];y==="0"&&r?(l+1<=d&&a[l+1]===o||l+1===d)&&(n+=y,r=!1):(y===o?r=!0:r=!1,n+=y)}return n}function f(a,o){let n=0;for(let r=0;r<a.length;r++)a[r]===o&&n++;return n}var g=/^\.\.?\//u,w=/^\/\.(?:\/|$)/u,P=/^\/\.\.(?:\/|$)/u,S=/^\/?(?:.|\n)*?(?=\/|$)/u;function j(a){let o=[];for(;a.length;)if(a.match(g))a=a.replace(g,"");else if(a.match(w))a=a.replace(w,"/");else if(a.match(P))a=a.replace(P,"/"),o.pop();else if(a==="."||a==="..")a="";else{let n=a.match(S);if(n){let r=n[0];a=a.slice(r.length),o.push(r)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function E(a,o){let n=o!==!0?escape:unescape;return a.scheme!==void 0&&(a.scheme=n(a.scheme)),a.userinfo!==void 0&&(a.userinfo=n(a.userinfo)),a.host!==void 0&&(a.host=n(a.host)),a.path!==void 0&&(a.path=n(a.path)),a.query!==void 0&&(a.query=n(a.query)),a.fragment!==void 0&&(a.fragment=n(a.fragment)),a}function $(a){let o=[];if(a.userinfo!==void 0&&(o.push(a.userinfo),o.push("@")),a.host!==void 0){let n=unescape(a.host),r=p(n);if(r.isIPV4)n=r.host;else{let d=m(r.host);d.isIPV6===!0?n=`[${d.escapedHost}]`:n=a.host}o.push(n)}return(typeof a.port=="number"||typeof a.port=="string")&&(o.push(":"),o.push(String(a.port))),o.length?o.join(""):void 0}t.exports={recomposeAuthority:$,normalizeComponentEncoding:E,removeDotSegments:j,normalizeIPv4:p,normalizeIPv6:m,stringArrayToHexStripped:_}}),ht=J((e,t)=>{var h=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,c=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function p(r){return typeof r.secure=="boolean"?r.secure:String(r.scheme).toLowerCase()==="wss"}function _(r){return r.host||(r.error=r.error||"HTTP URIs must have a host."),r}function s(r){let d=String(r.scheme).toLowerCase()==="https";return(r.port===(d?443:80)||r.port==="")&&(r.port=void 0),r.path||(r.path="/"),r}function m(r){return r.secure=p(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r}function i(r){if((r.port===(p(r)?443:80)||r.port==="")&&(r.port=void 0),typeof r.secure=="boolean"&&(r.scheme=r.secure?"wss":"ws",r.secure=void 0),r.resourceName){let[d,l]=r.resourceName.split("?");r.path=d&&d!=="/"?d:void 0,r.query=l,r.resourceName=void 0}return r.fragment=void 0,r}function f(r,d){if(!r.path)return r.error="URN can not be parsed",r;let l=r.path.match(c);if(l){let y=d.scheme||r.scheme||"urn";r.nid=l[1].toLowerCase(),r.nss=l[2];let v=`${y}:${d.nid||r.nid}`,k=n[v];r.path=void 0,k&&(r=k.parse(r,d))}else r.error=r.error||"URN can not be parsed.";return r}function g(r,d){let l=d.scheme||r.scheme||"urn",y=r.nid.toLowerCase(),v=`${l}:${d.nid||y}`,k=n[v];k&&(r=k.serialize(r,d));let C=r,A=r.nss;return C.path=`${y||d.nid}:${A}`,d.skipEscape=!0,C}function w(r,d){let l=r;return l.uuid=l.nss,l.nss=void 0,!d.tolerant&&(!l.uuid||!h.test(l.uuid))&&(l.error=l.error||"UUID is not valid."),l}function P(r){let d=r;return d.nss=(r.uuid||"").toLowerCase(),d}var S={scheme:"http",domainHost:!0,parse:_,serialize:s},j={scheme:"https",domainHost:S.domainHost,parse:_,serialize:s},E={scheme:"ws",domainHost:!0,parse:m,serialize:i},$={scheme:"wss",domainHost:E.domainHost,parse:E.parse,serialize:E.serialize},a={scheme:"urn",parse:f,serialize:g,skipNormalize:!0},o={scheme:"urn:uuid",parse:w,serialize:P,skipNormalize:!0},n={http:S,https:j,ws:E,wss:$,urn:a,"urn:uuid":o};t.exports=n}),pt=J((e,t)=>{var{normalizeIPv6:h,normalizeIPv4:c,removeDotSegments:p,recomposeAuthority:_,normalizeComponentEncoding:s}=ct(),m=ht();function i(o,n){return typeof o=="string"?o=P($(o,n),n):typeof o=="object"&&(o=$(P(o,n),n)),o}function f(o,n,r){let d=Object.assign({scheme:"null"},r),l=g($(o,d),$(n,d),d,!0);return P(l,{...d,skipEscape:!0})}function g(o,n,r,d){let l={};return d||(o=$(P(o,r),r),n=$(P(n,r),r)),r=r||{},!r.tolerant&&n.scheme?(l.scheme=n.scheme,l.userinfo=n.userinfo,l.host=n.host,l.port=n.port,l.path=p(n.path||""),l.query=n.query):(n.userinfo!==void 0||n.host!==void 0||n.port!==void 0?(l.userinfo=n.userinfo,l.host=n.host,l.port=n.port,l.path=p(n.path||""),l.query=n.query):(n.path?(n.path.charAt(0)==="/"?l.path=p(n.path):((o.userinfo!==void 0||o.host!==void 0||o.port!==void 0)&&!o.path?l.path="/"+n.path:o.path?l.path=o.path.slice(0,o.path.lastIndexOf("/")+1)+n.path:l.path=n.path,l.path=p(l.path)),l.query=n.query):(l.path=o.path,n.query!==void 0?l.query=n.query:l.query=o.query),l.userinfo=o.userinfo,l.host=o.host,l.port=o.port),l.scheme=o.scheme),l.fragment=n.fragment,l}function w(o,n,r){return typeof o=="string"?(o=unescape(o),o=P(s($(o,r),!0),{...r,skipEscape:!0})):typeof o=="object"&&(o=P(s(o,!0),{...r,skipEscape:!0})),typeof n=="string"?(n=unescape(n),n=P(s($(n,r),!0),{...r,skipEscape:!0})):typeof n=="object"&&(n=P(s(n,!0),{...r,skipEscape:!0})),o.toLowerCase()===n.toLowerCase()}function P(o,n){let r={host:o.host,scheme:o.scheme,userinfo:o.userinfo,port:o.port,path:o.path,query:o.query,nid:o.nid,nss:o.nss,uuid:o.uuid,fragment:o.fragment,reference:o.reference,resourceName:o.resourceName,secure:o.secure,error:""},d=Object.assign({},n),l=[],y=m[(d.scheme||r.scheme||"").toLowerCase()];y&&y.serialize&&y.serialize(r,d),r.path!==void 0&&(d.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),d.reference!=="suffix"&&r.scheme&&l.push(r.scheme,":");let v=_(r);if(v!==void 0&&(d.reference!=="suffix"&&l.push("//"),l.push(v),r.path&&r.path.charAt(0)!=="/"&&l.push("/")),r.path!==void 0){let k=r.path;!d.absolutePath&&(!y||!y.absolutePath)&&(k=p(k)),v===void 0&&(k=k.replace(/^\/\//u,"/%2F")),l.push(k)}return r.query!==void 0&&l.push("?",r.query),r.fragment!==void 0&&l.push("#",r.fragment),l.join("")}var S=Array.from({length:127},(o,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n)));function j(o){let n=0;for(let r=0,d=o.length;r<d;++r)if(n=o.charCodeAt(r),n>126||S[n])return!0;return!1}var E=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function $(o,n){let r=Object.assign({},n),d={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},l=o.indexOf("%")!==-1,y=!1;r.reference==="suffix"&&(o=(r.scheme?r.scheme+":":"")+"//"+o);let v=o.match(E);if(v){if(d.scheme=v[1],d.userinfo=v[3],d.host=v[4],d.port=parseInt(v[5],10),d.path=v[6]||"",d.query=v[7],d.fragment=v[8],isNaN(d.port)&&(d.port=v[5]),d.host){let C=c(d.host);if(C.isIPV4===!1){let A=h(C.host);d.host=A.host.toLowerCase(),y=A.isIPV6}else d.host=C.host,y=!0}d.scheme===void 0&&d.userinfo===void 0&&d.host===void 0&&d.port===void 0&&d.query===void 0&&!d.path?d.reference="same-document":d.scheme===void 0?d.reference="relative":d.fragment===void 0?d.reference="absolute":d.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==d.reference&&(d.error=d.error||"URI is not a "+r.reference+" reference.");let k=m[(r.scheme||d.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!k||!k.unicodeSupport)&&d.host&&(r.domainHost||k&&k.domainHost)&&y===!1&&j(d.host))try{d.host=URL.domainToASCII(d.host.toLowerCase())}catch(C){d.error=d.error||"Host's domain name can not be converted to ASCII: "+C}(!k||k&&!k.skipNormalize)&&(l&&d.scheme!==void 0&&(d.scheme=unescape(d.scheme)),l&&d.host!==void 0&&(d.host=unescape(d.host)),d.path&&(d.path=escape(unescape(d.path))),d.fragment&&(d.fragment=encodeURI(decodeURIComponent(d.fragment)))),k&&k.parse&&k.parse(d,r)}else d.error=d.error||"URI can not be parsed.";return d}var a={SCHEMES:m,normalize:i,resolve:f,resolveComponents:g,equal:w,serialize:P,parse:$};t.exports=a,t.exports.default=a,t.exports.fastUri=a}),mt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=pt();t.code='require("ajv/dist/runtime/uri").default',e.default=t}),yt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=we();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var h=L();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var c=xe(),p=_e(),_=ze(),s=Ie(),m=L(),i=ve(),f=ge(),g=F(),w=dt(),P=mt(),S=(G,O)=>new RegExp(G,O);S.code="new RegExp";var j=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},a={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},o=200;function n(G){var O,D,I,u,b,R,q,W,B,H,Y,N,x,T,V,Z,K,ee,le,ne,se,te,he,oe,be;let pe=G.strict,Pe=(O=G.code)===null||O===void 0?void 0:O.optimize,Te=Pe===!0||Pe===void 0?1:Pe||0,De=(I=(D=G.code)===null||D===void 0?void 0:D.regExp)!==null&&I!==void 0?I:S,Qe=(u=G.uriResolver)!==null&&u!==void 0?u:P.default;return{strictSchema:(R=(b=G.strictSchema)!==null&&b!==void 0?b:pe)!==null&&R!==void 0?R:!0,strictNumbers:(W=(q=G.strictNumbers)!==null&&q!==void 0?q:pe)!==null&&W!==void 0?W:!0,strictTypes:(H=(B=G.strictTypes)!==null&&B!==void 0?B:pe)!==null&&H!==void 0?H:"log",strictTuples:(N=(Y=G.strictTuples)!==null&&Y!==void 0?Y:pe)!==null&&N!==void 0?N:"log",strictRequired:(T=(x=G.strictRequired)!==null&&x!==void 0?x:pe)!==null&&T!==void 0?T:!1,code:G.code?{...G.code,optimize:Te,regExp:De}:{optimize:Te,regExp:De},loopRequired:(V=G.loopRequired)!==null&&V!==void 0?V:o,loopEnum:(Z=G.loopEnum)!==null&&Z!==void 0?Z:o,meta:(K=G.meta)!==null&&K!==void 0?K:!0,messages:(ee=G.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(le=G.inlineRefs)!==null&&le!==void 0?le:!0,schemaId:(ne=G.schemaId)!==null&&ne!==void 0?ne:"$id",addUsedSchema:(se=G.addUsedSchema)!==null&&se!==void 0?se:!0,validateSchema:(te=G.validateSchema)!==null&&te!==void 0?te:!0,validateFormats:(he=G.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(oe=G.unicodeRegExp)!==null&&oe!==void 0?oe:!0,int32range:(be=G.int32range)!==null&&be!==void 0?be:!0,uriResolver:Qe}}class r{constructor(O={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,O=this.opts={...O,...n(O)};let{es5:D,lines:I}=this.opts.code;this.scope=new m.ValueScope({scope:{},prefixes:E,es5:D,lines:I}),this.logger=M(O.logger);let u=O.validateFormats;O.validateFormats=!1,this.RULES=_.getRules(),d.call(this,$,O,"NOT SUPPORTED"),d.call(this,a,O,"DEPRECATED","warn"),this._metaOpts=C.call(this),O.formats&&v.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),O.keywords&&k.call(this,O.keywords),typeof O.meta=="object"&&this.addMetaSchema(O.meta),y.call(this),O.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:O,meta:D,schemaId:I}=this.opts,u=w;I==="id"&&(u={...w},u.id=u.$id,delete u.$id),D&&O&&this.addMetaSchema(u,u[I],!1)}defaultMeta(){let{meta:O,schemaId:D}=this.opts;return this.opts.defaultMeta=typeof O=="object"?O[D]||O:void 0}validate(O,D){let I;if(typeof O=="string"){if(I=this.getSchema(O),!I)throw new Error(`no schema with key or ref "${O}"`)}else I=this.compile(O);let u=I(D);return"$async"in I||(this.errors=I.errors),u}compile(O,D){let I=this._addSchema(O,D);return I.validate||this._compileSchemaEnv(I)}compileAsync(O,D){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:I}=this.opts;return u.call(this,O,D);async function u(H,Y){await b.call(this,H.$schema);let N=this._addSchema(H,Y);return N.validate||R.call(this,N)}async function b(H){H&&!this.getSchema(H)&&await u.call(this,{$ref:H},!0)}async function R(H){try{return this._compileSchemaEnv(H)}catch(Y){if(!(Y instanceof p.default))throw Y;return q.call(this,Y),await W.call(this,Y.missingSchema),R.call(this,H)}}function q({missingSchema:H,missingRef:Y}){if(this.refs[H])throw new Error(`AnySchema ${H} is loaded but ${Y} cannot be resolved`)}async function W(H){let Y=await B.call(this,H);this.refs[H]||await b.call(this,Y.$schema),this.refs[H]||this.addSchema(Y,H,D)}async function B(H){let Y=this._loading[H];if(Y)return Y;try{return await(this._loading[H]=I(H))}finally{delete this._loading[H]}}}addSchema(O,D,I,u=this.opts.validateSchema){if(Array.isArray(O)){for(let R of O)this.addSchema(R,void 0,I,u);return this}let b;if(typeof O=="object"){let{schemaId:R}=this.opts;if(b=O[R],b!==void 0&&typeof b!="string")throw new Error(`schema ${R} must be string`)}return D=i.normalizeId(D||b),this._checkUnique(D),this.schemas[D]=this._addSchema(O,I,D,u,!0),this}addMetaSchema(O,D,I=this.opts.validateSchema){return this.addSchema(O,D,!0,I),this}validateSchema(O,D){if(typeof O=="boolean")return!0;let I;if(I=O.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let u=this.validate(I,O);if(!u&&D){let b="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(b);else throw new Error(b)}return u}getSchema(O){let D;for(;typeof(D=l.call(this,O))=="string";)O=D;if(D===void 0){let{schemaId:I}=this.opts,u=new s.SchemaEnv({schema:{},schemaId:I});if(D=s.resolveSchema.call(this,u,O),!D)return;this.refs[O]=D}return D.validate||this._compileSchemaEnv(D)}removeSchema(O){if(O instanceof RegExp)return this._removeAllSchemas(this.schemas,O),this._removeAllSchemas(this.refs,O),this;switch(typeof O){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let D=l.call(this,O);return typeof D=="object"&&this._cache.delete(D.schema),delete this.schemas[O],delete this.refs[O],this}case"object":{let D=O;this._cache.delete(D);let I=O[this.opts.schemaId];return I&&(I=i.normalizeId(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(O){for(let D of O)this.addKeyword(D);return this}addKeyword(O,D){let I;if(typeof O=="string")I=O,typeof D=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),D.keyword=I);else if(typeof O=="object"&&D===void 0){if(D=O,I=D.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(z.call(this,I,D),!D)return g.eachItem(I,b=>X.call(this,b)),this;de.call(this,D);let u={...D,type:f.getJSONTypes(D.type),schemaType:f.getJSONTypes(D.schemaType)};return g.eachItem(I,u.type.length===0?b=>X.call(this,b,u):b=>u.type.forEach(R=>X.call(this,b,u,R))),this}getKeyword(O){let D=this.RULES.all[O];return typeof D=="object"?D.definition:!!D}removeKeyword(O){let{RULES:D}=this;delete D.keywords[O],delete D.all[O];for(let I of D.rules){let u=I.rules.findIndex(b=>b.keyword===O);u>=0&&I.rules.splice(u,1)}return this}addFormat(O,D){return typeof D=="string"&&(D=new RegExp(D)),this.formats[O]=D,this}errorsText(O=this.errors,{separator:D=", ",dataVar:I="data"}={}){return!O||O.length===0?"No errors":O.map(u=>`${I}${u.instancePath} ${u.message}`).reduce((u,b)=>u+D+b)}$dataMetaSchema(O,D){let I=this.RULES.all;O=JSON.parse(JSON.stringify(O));for(let u of D){let b=u.split("/").slice(1),R=O;for(let q of b)R=R[q];for(let q in I){let W=I[q];if(typeof W!="object")continue;let{$data:B}=W.definition,H=R[q];B&&H&&(R[q]=Q(H))}}return O}_removeAllSchemas(O,D){for(let I in O){let u=O[I];(!D||D.test(I))&&(typeof u=="string"?delete O[I]:u&&!u.meta&&(this._cache.delete(u.schema),delete O[I]))}}_addSchema(O,D,I,u=this.opts.validateSchema,b=this.opts.addUsedSchema){let R,{schemaId:q}=this.opts;if(typeof O=="object")R=O[q];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof O!="boolean")throw new Error("schema must be object or boolean")}let W=this._cache.get(O);if(W!==void 0)return W;I=i.normalizeId(R||I);let B=i.getSchemaRefs.call(this,O,I);return W=new s.SchemaEnv({schema:O,schemaId:q,meta:D,baseId:I,localRefs:B}),this._cache.set(W.schema,W),b&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=W),u&&this.validateSchema(O,!0),W}_checkUnique(O){if(this.schemas[O]||this.refs[O])throw new Error(`schema with key or id "${O}" already exists`)}_compileSchemaEnv(O){if(O.meta?this._compileMetaSchema(O):s.compileSchema.call(this,O),!O.validate)throw new Error("ajv implementation error");return O.validate}_compileMetaSchema(O){let D=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,O)}finally{this.opts=D}}}r.ValidationError=c.default,r.MissingRefError=p.default,e.default=r;function d(G,O,D,I="error"){for(let u in G){let b=u;b in O&&this.logger[I](`${D}: option ${u}. ${G[b]}`)}}function l(G){return G=i.normalizeId(G),this.schemas[G]||this.refs[G]}function y(){let G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(let O in G)this.addSchema(G[O],O)}function v(){for(let G in this.opts.formats){let O=this.opts.formats[G];O&&this.addFormat(G,O)}}function k(G){if(Array.isArray(G)){this.addVocabulary(G);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let O in G){let D=G[O];D.keyword||(D.keyword=O),this.addKeyword(D)}}function C(){let G={...this.opts};for(let O of j)delete G[O];return G}var A={log(){},warn(){},error(){}};function M(G){if(G===!1)return A;if(G===void 0)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}var U=/^[a-z_$][a-z0-9_$:-]*$/i;function z(G,O){let{RULES:D}=this;if(g.eachItem(G,I=>{if(D.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!U.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!O&&O.$data&&!("code"in O||"validate"in O))throw new Error('$data keyword must have "code" or "validate" function')}function X(G,O,D){var I;let u=O==null?void 0:O.post;if(D&&u)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:b}=this,R=u?b.post:b.rules.find(({type:W})=>W===D);if(R||(R={type:D,rules:[]},b.rules.push(R)),b.keywords[G]=!0,!O)return;let q={keyword:G,definition:{...O,type:f.getJSONTypes(O.type),schemaType:f.getJSONTypes(O.schemaType)}};O.before?ie.call(this,R,q,O.before):R.rules.push(q),b.all[G]=q,(I=O.implements)===null||I===void 0||I.forEach(W=>this.addKeyword(W))}function ie(G,O,D){let I=G.rules.findIndex(u=>u.keyword===D);I>=0?G.rules.splice(I,0,O):(G.rules.push(O),this.logger.warn(`rule ${D} is not defined`))}function de(G){let{metaSchema:O}=G;O!==void 0&&(G.$data&&this.opts.$data&&(O=Q(O)),G.validateSchema=this.compile(O,!0))}var fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Q(G){return{anyOf:[G,fe]}}}),gt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}),$t=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=_e(),h=ue(),c=L(),p=ce(),_=Ie(),s=F(),m={keyword:"$ref",schemaType:"string",code(g){let{gen:w,schema:P,it:S}=g,{baseId:j,schemaEnv:E,validateName:$,opts:a,self:o}=S,{root:n}=E;if((P==="#"||P==="#/")&&j===n.baseId)return d();let r=_.resolveRef.call(o,n,j,P);if(r===void 0)throw new t.default(S.opts.uriResolver,j,P);if(r instanceof _.SchemaEnv)return l(r);return y(r);function d(){if(E===n)return f(g,$,E,E.$async);let v=w.scopeValue("root",{ref:n});return f(g,c._`${v}.validate`,n,n.$async)}function l(v){let k=i(g,v);f(g,k,v,v.$async)}function y(v){let k=w.scopeValue("schema",a.code.source===!0?{ref:v,code:c.stringify(v)}:{ref:v}),C=w.name("valid"),A=g.subschema({schema:v,dataTypes:[],schemaPath:c.nil,topSchemaRef:k,errSchemaPath:P},C);g.mergeEvaluated(A),g.ok(C)}}};function i(g,w){let{gen:P}=g;return w.validate?P.scopeValue("validate",{ref:w.validate}):c._`${P.scopeValue("wrapper",{ref:w})}.validate`}e.getValidate=i;function f(g,w,P,S){let{gen:j,it:E}=g,{allErrors:$,schemaEnv:a,opts:o}=E,n=o.passContext?p.default.this:c.nil;S?r():d();function r(){if(!a.$async)throw new Error("async schema referenced by sync schema");let v=j.let("valid");j.try(()=>{j.code(c._`await ${h.callValidateCode(g,w,n)}`),y(w),!$&&j.assign(v,!0)},k=>{j.if(c._`!(${k} instanceof ${E.ValidationError})`,()=>j.throw(k)),l(k),!$&&j.assign(v,!1)}),g.ok(v)}function d(){g.result(h.callValidateCode(g,w,n),()=>y(w),()=>l(w))}function l(v){let k=c._`${v}.errors`;j.assign(p.default.vErrors,c._`${p.default.vErrors} === null ? ${k} : ${p.default.vErrors}.concat(${k})`),j.assign(p.default.errors,c._`${p.default.vErrors}.length`)}function y(v){var k;if(!E.opts.unevaluated)return;let C=(k=P==null?void 0:P.validate)===null||k===void 0?void 0:k.evaluated;if(E.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(E.props=s.mergeEvaluated.props(j,C.props,E.props));else{let A=j.var("props",c._`${v}.evaluated.props`);E.props=s.mergeEvaluated.props(j,A,E.props,c.Name)}if(E.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(E.items=s.mergeEvaluated.items(j,C.items,E.items));else{let A=j.var("items",c._`${v}.evaluated.items`);E.items=s.mergeEvaluated.items(j,A,E.items,c.Name)}}}e.callRef=f,e.default=m}),vt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=gt(),h=$t(),c=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,h.default];e.default=c}),wt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=t.operators,c={maximum:{okStr:"<=",ok:h.LTE,fail:h.GT},minimum:{okStr:">=",ok:h.GTE,fail:h.LT},exclusiveMaximum:{okStr:"<",ok:h.LT,fail:h.GTE},exclusiveMinimum:{okStr:">",ok:h.GT,fail:h.LTE}},p={message:({keyword:s,schemaCode:m})=>t.str`must be ${c[s].okStr} ${m}`,params:({keyword:s,schemaCode:m})=>t._`{comparison: ${c[s].okStr}, limit: ${m}}`},_={keyword:Object.keys(c),type:"number",schemaType:"number",$data:!0,error:p,code(s){let{keyword:m,data:i,schemaCode:f}=s;s.fail$data(t._`${i} ${c[m].fail} ${f} || isNaN(${i})`)}};e.default=_}),_t=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h={message:({schemaCode:p})=>t.str`must be multiple of ${p}`,params:({schemaCode:p})=>t._`{multipleOf: ${p}}`},c={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:h,code(p){let{gen:_,data:s,schemaCode:m,it:i}=p,f=i.opts.multipleOfPrecision,g=_.let("res"),w=f?t._`Math.abs(Math.round(${g}) - ${g}) > 1e-${f}`:t._`${g} !== parseInt(${g})`;p.fail$data(t._`(${m} === 0 || (${g} = ${s}/${m}, ${w}))`)}};e.default=c}),bt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(h){let c=h.length,p=0,_=0,s;for(;_<c;)p++,s=h.charCodeAt(_++),s>=55296&&s<=56319&&_<c&&(s=h.charCodeAt(_),(s&64512)===56320&&_++);return p}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}),Pt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c=bt(),p={message({keyword:s,schemaCode:m}){let i=s==="maxLength"?"more":"fewer";return t.str`must NOT have ${i} than ${m} characters`},params:({schemaCode:s})=>t._`{limit: ${s}}`},_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:p,code(s){let{keyword:m,data:i,schemaCode:f,it:g}=s,w=m==="maxLength"?t.operators.GT:t.operators.LT,P=g.opts.unicode===!1?t._`${i}.length`:t._`${h.useFunc(s.gen,c.default)}(${i})`;s.fail$data(t._`${P} ${w} ${f}`)}};e.default=_}),Et=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),h=L(),c={message:({schemaCode:_})=>h.str`must match pattern "${_}"`,params:({schemaCode:_})=>h._`{pattern: ${_}}`},p={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:c,code(_){let{data:s,$data:m,schema:i,schemaCode:f,it:g}=_,w=g.opts.unicodeRegExp?"u":"",P=m?h._`(new RegExp(${f}, ${w}))`:t.usePattern(_,i);_.fail$data(h._`!${P}.test(${s})`)}};e.default=p}),St=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h={message({keyword:p,schemaCode:_}){let s=p==="maxProperties"?"more":"fewer";return t.str`must NOT have ${s} than ${_} properties`},params:({schemaCode:p})=>t._`{limit: ${p}}`},c={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:h,code(p){let{keyword:_,data:s,schemaCode:m}=p,i=_==="maxProperties"?t.operators.GT:t.operators.LT;p.fail$data(t._`Object.keys(${s}).length ${i} ${m}`)}};e.default=c}),kt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),h=L(),c=F(),p={message:({params:{missingProperty:s}})=>h.str`must have required property '${s}'`,params:({params:{missingProperty:s}})=>h._`{missingProperty: ${s}}`},_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:p,code(s){let{gen:m,schema:i,schemaCode:f,data:g,$data:w,it:P}=s,{opts:S}=P;if(!w&&i.length===0)return;let j=i.length>=S.loopRequired;if(P.allErrors?E():$(),S.strictRequired){let n=s.parentSchema.properties,{definedProperties:r}=s.it;for(let d of i)if((n==null?void 0:n[d])===void 0&&!r.has(d)){let l=P.schemaEnv.baseId+P.errSchemaPath,y=`required property "${d}" is not defined at "${l}" (strictRequired)`;c.checkStrictMode(P,y,P.opts.strictRequired)}}function E(){if(j||w)s.block$data(h.nil,a);else for(let n of i)t.checkReportMissingProp(s,n)}function $(){let n=m.let("missing");if(j||w){let r=m.let("valid",!0);s.block$data(r,()=>o(n,r)),s.ok(r)}else m.if(t.checkMissingProp(s,i,n)),t.reportMissingProp(s,n),m.else()}function a(){m.forOf("prop",f,n=>{s.setParams({missingProperty:n}),m.if(t.noPropertyInData(m,g,n,S.ownProperties),()=>s.error())})}function o(n,r){s.setParams({missingProperty:n}),m.forOf(n,f,()=>{m.assign(r,t.propertyInData(m,g,n,S.ownProperties)),m.if(h.not(r),()=>{s.error(),m.break()})},h.nil)}}};e.default=_}),jt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h={message({keyword:p,schemaCode:_}){let s=p==="maxItems"?"more":"fewer";return t.str`must NOT have ${s} than ${_} items`},params:({schemaCode:p})=>t._`{limit: ${p}}`},c={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:h,code(p){let{keyword:_,data:s,schemaCode:m}=p,i=_==="maxItems"?t.operators.GT:t.operators.LT;p.fail$data(t._`${s}.length ${i} ${m}`)}};e.default=c}),Ce=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Le();t.code='require("ajv/dist/runtime/equal").default',e.default=t}),Nt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ge(),h=L(),c=F(),p=Ce(),_={message:({params:{i:m,j:i}})=>h.str`must NOT have duplicate items (items ## ${i} and ${m} are identical)`,params:({params:{i:m,j:i}})=>h._`{i: ${m}, j: ${i}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:_,code(m){let{gen:i,data:f,$data:g,schema:w,parentSchema:P,schemaCode:S,it:j}=m;if(!g&&!w)return;let E=i.let("valid"),$=P.items?t.getSchemaTypes(P.items):[];m.block$data(E,a,h._`${S} === false`),m.ok(E);function a(){let d=i.let("i",h._`${f}.length`),l=i.let("j");m.setParams({i:d,j:l}),i.assign(E,!0),i.if(h._`${d} > 1`,()=>(o()?n:r)(d,l))}function o(){return $.length>0&&!$.some(d=>d==="object"||d==="array")}function n(d,l){let y=i.name("item"),v=t.checkDataTypes($,y,j.opts.strictNumbers,t.DataType.Wrong),k=i.const("indices",h._`{}`);i.for(h._`;${d}--;`,()=>{i.let(y,h._`${f}[${d}]`),i.if(v,h._`continue`),$.length>1&&i.if(h._`typeof ${y} == "string"`,h._`${y} += "_"`),i.if(h._`typeof ${k}[${y}] == "number"`,()=>{i.assign(l,h._`${k}[${y}]`),m.error(),i.assign(E,!1).break()}).code(h._`${k}[${y}] = ${d}`)})}function r(d,l){let y=c.useFunc(i,p.default),v=i.name("outer");i.label(v).for(h._`;${d}--;`,()=>i.for(h._`${l} = ${d}; ${l}--;`,()=>i.if(h._`${y}(${f}[${d}], ${f}[${l}])`,()=>{m.error(),i.assign(E,!1).break(v)})))}}};e.default=s}),Ot=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c=Ce(),p={message:"must be equal to constant",params:({schemaCode:s})=>t._`{allowedValue: ${s}}`},_={keyword:"const",$data:!0,error:p,code(s){let{gen:m,data:i,$data:f,schemaCode:g,schema:w}=s;f||w&&typeof w=="object"?s.fail$data(t._`!${h.useFunc(m,c.default)}(${i}, ${g})`):s.fail(t._`${w} !== ${i}`)}};e.default=_}),xt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c=Ce(),p={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>t._`{allowedValues: ${s}}`},_={keyword:"enum",schemaType:"array",$data:!0,error:p,code(s){let{gen:m,data:i,$data:f,schema:g,schemaCode:w,it:P}=s;if(!f&&g.length===0)throw new Error("enum must have non-empty array");let S=g.length>=P.opts.loopEnum,j,E=()=>j??(j=h.useFunc(m,c.default)),$;if(S||f)$=m.let("valid"),s.block$data($,a);else{if(!Array.isArray(g))throw new Error("ajv implementation error");let n=m.const("vSchema",w);$=t.or(...g.map((r,d)=>o(n,d)))}s.pass($);function a(){m.assign($,!1),m.forOf("v",w,n=>m.if(t._`${E()}(${i}, ${n})`,()=>m.assign($,!0).break()))}function o(n,r){let d=g[r];return typeof d=="object"&&d!==null?t._`${E()}(${i}, ${n}[${r}])`:t._`${i} === ${d}`}}};e.default=_}),It=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=wt(),h=_t(),c=Pt(),p=Et(),_=St(),s=kt(),m=jt(),i=Nt(),f=Ot(),g=xt(),w=[t.default,h.default,c.default,p.default,_.default,s.default,m.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,g.default];e.default=w}),He=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=L(),h=F(),c={message:({params:{len:s}})=>t.str`must NOT have more than ${s} items`,params:({params:{len:s}})=>t._`{limit: ${s}}`},p={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:c,code(s){let{parentSchema:m,it:i}=s,{items:f}=m;if(!Array.isArray(f)){h.checkStrictMode(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}_(s,f)}};function _(s,m){let{gen:i,schema:f,data:g,keyword:w,it:P}=s;P.items=!0;let S=i.const("len",t._`${g}.length`);if(f===!1)s.setParams({len:m.length}),s.pass(t._`${S} <= ${m.length}`);else if(typeof f=="object"&&!h.alwaysValidSchema(P,f)){let E=i.var("valid",t._`${S} <= ${m.length}`);i.if(t.not(E),()=>j(E)),s.ok(E)}function j(E){i.forRange("i",m.length,S,$=>{s.subschema({keyword:w,dataProp:$,dataPropType:h.Type.Num},E),!P.allErrors&&i.if(t.not(E),()=>i.break())})}}e.validateAdditionalItems=_,e.default=p}),Fe=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=L(),h=F(),c=ue(),p={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){let{schema:m,it:i}=s;if(Array.isArray(m))return _(s,"additionalItems",m);i.items=!0,!h.alwaysValidSchema(i,m)&&s.ok(c.validateArray(s))}};function _(s,m,i=s.schema){let{gen:f,parentSchema:g,data:w,keyword:P,it:S}=s;$(g),S.opts.unevaluated&&i.length&&S.items!==!0&&(S.items=h.mergeEvaluated.items(f,i.length,S.items));let j=f.name("valid"),E=f.const("len",t._`${w}.length`);i.forEach((a,o)=>{h.alwaysValidSchema(S,a)||(f.if(t._`${E} > ${o}`,()=>s.subschema({keyword:P,schemaProp:o,dataProp:o},j)),s.ok(j))});function $(a){let{opts:o,errSchemaPath:n}=S,r=i.length,d=r===a.minItems&&(r===a.maxItems||a[m]===!1);if(o.strictTuples&&!d){let l=`"${P}" is ${r}-tuple, but minItems or maxItems/${m} are not specified or different at path "${n}"`;h.checkStrictMode(S,l,o.strictTuples)}}}e.validateTuple=_,e.default=p}),Ct=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Fe(),h={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:c=>t.validateTuple(c,"items")};e.default=h}),Rt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c=ue(),p=He(),_={message:({params:{len:m}})=>t.str`must NOT have more than ${m} items`,params:({params:{len:m}})=>t._`{limit: ${m}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:_,code(m){let{schema:i,parentSchema:f,it:g}=m,{prefixItems:w}=f;g.items=!0,!h.alwaysValidSchema(g,i)&&(w?p.validateAdditionalItems(m,w):m.ok(c.validateArray(m)))}};e.default=s}),Tt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c={message:({params:{min:_,max:s}})=>s===void 0?t.str`must contain at least ${_} valid item(s)`:t.str`must contain at least ${_} and no more than ${s} valid item(s)`,params:({params:{min:_,max:s}})=>s===void 0?t._`{minContains: ${_}}`:t._`{minContains: ${_}, maxContains: ${s}}`},p={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:c,code(_){let{gen:s,schema:m,parentSchema:i,data:f,it:g}=_,w,P,{minContains:S,maxContains:j}=i;g.opts.next?(w=S===void 0?1:S,P=j):w=1;let E=s.const("len",t._`${f}.length`);if(_.setParams({min:w,max:P}),P===void 0&&w===0){h.checkStrictMode(g,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&w>P){h.checkStrictMode(g,'"minContains" > "maxContains" is always invalid'),_.fail();return}if(h.alwaysValidSchema(g,m)){let r=t._`${E} >= ${w}`;P!==void 0&&(r=t._`${r} && ${E} <= ${P}`),_.pass(r);return}g.items=!0;let $=s.name("valid");P===void 0&&w===1?o($,()=>s.if($,()=>s.break())):w===0?(s.let($,!0),P!==void 0&&s.if(t._`${f}.length > 0`,a)):(s.let($,!1),a()),_.result($,()=>_.reset());function a(){let r=s.name("_valid"),d=s.let("count",0);o(r,()=>s.if(r,()=>n(d)))}function o(r,d){s.forRange("i",0,E,l=>{_.subschema({keyword:"contains",dataProp:l,dataPropType:h.Type.Num,compositeRule:!0},r),d()})}function n(r){s.code(t._`${r}++`),P===void 0?s.if(t._`${r} >= ${w}`,()=>s.assign($,!0).break()):(s.if(t._`${r} > ${P}`,()=>s.assign($,!1).break()),w===1?s.assign($,!0):s.if(t._`${r} >= ${w}`,()=>s.assign($,!0)))}}};e.default=p}),Dt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=L(),h=F(),c=ue();e.error={message:({params:{property:i,depsCount:f,deps:g}})=>{let w=f===1?"property":"properties";return t.str`must have ${w} ${g} when property ${i} is present`},params:({params:{property:i,depsCount:f,deps:g,missingProperty:w}})=>t._`{property: ${i},
    missingProperty: ${w},
    depsCount: ${f},
    deps: ${g}}`};var p={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){let[f,g]=_(i);s(i,f),m(i,g)}};function _({schema:i}){let f={},g={};for(let w in i){if(w==="__proto__")continue;let P=Array.isArray(i[w])?f:g;P[w]=i[w]}return[f,g]}function s(i,f=i.schema){let{gen:g,data:w,it:P}=i;if(Object.keys(f).length===0)return;let S=g.let("missing");for(let j in f){let E=f[j];if(E.length===0)continue;let $=c.propertyInData(g,w,j,P.opts.ownProperties);i.setParams({property:j,depsCount:E.length,deps:E.join(", ")}),P.allErrors?g.if($,()=>{for(let a of E)c.checkReportMissingProp(i,a)}):(g.if(t._`${$} && (${c.checkMissingProp(i,E,S)})`),c.reportMissingProp(i,S),g.else())}}e.validatePropertyDeps=s;function m(i,f=i.schema){let{gen:g,data:w,keyword:P,it:S}=i,j=g.name("valid");for(let E in f)h.alwaysValidSchema(S,f[E])||(g.if(c.propertyInData(g,w,E,S.opts.ownProperties),()=>{let $=i.subschema({keyword:P,schemaProp:E},j);i.mergeValidEvaluated($,j)},()=>g.var(j,!0)),i.ok(j))}e.validateSchemaDeps=m,e.default=p}),At=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c={message:"property name must be valid",params:({params:_})=>t._`{propertyName: ${_.propertyName}}`},p={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:c,code(_){let{gen:s,schema:m,data:i,it:f}=_;if(h.alwaysValidSchema(f,m))return;let g=s.name("valid");s.forIn("key",i,w=>{_.setParams({propertyName:w}),_.subschema({keyword:"propertyNames",data:w,dataTypes:["string"],propertyName:w,compositeRule:!0},g),s.if(t.not(g),()=>{_.error(!0),!f.allErrors&&s.break()})}),_.ok(g)}};e.default=p}),Be=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),h=L(),c=ce(),p=F(),_={message:"must NOT have additional properties",params:({params:m})=>h._`{additionalProperty: ${m.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:_,code(m){let{gen:i,schema:f,parentSchema:g,data:w,errsCount:P,it:S}=m;if(!P)throw new Error("ajv implementation error");let{allErrors:j,opts:E}=S;if(S.props=!0,E.removeAdditional!=="all"&&p.alwaysValidSchema(S,f))return;let $=t.allSchemaProperties(g.properties),a=t.allSchemaProperties(g.patternProperties);o(),m.ok(h._`${P} === ${c.default.errors}`);function o(){i.forIn("key",w,y=>{!$.length&&!a.length?d(y):i.if(n(y),()=>d(y))})}function n(y){let v;if($.length>8){let k=p.schemaRefOrVal(S,g.properties,"properties");v=t.isOwnProperty(i,k,y)}else $.length?v=h.or(...$.map(k=>h._`${y} === ${k}`)):v=h.nil;return a.length&&(v=h.or(v,...a.map(k=>h._`${t.usePattern(m,k)}.test(${y})`))),h.not(v)}function r(y){i.code(h._`delete ${w}[${y}]`)}function d(y){if(E.removeAdditional==="all"||E.removeAdditional&&f===!1){r(y);return}if(f===!1){m.setParams({additionalProperty:y}),m.error(),!j&&i.break();return}if(typeof f=="object"&&!p.alwaysValidSchema(S,f)){let v=i.name("valid");E.removeAdditional==="failing"?(l(y,v,!1),i.if(h.not(v),()=>{m.reset(),r(y)})):(l(y,v),!j&&i.if(h.not(v),()=>i.break()))}}function l(y,v,k){let C={keyword:"additionalProperties",dataProp:y,dataPropType:p.Type.Str};k===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(C,v)}}};e.default=s}),Mt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=we(),h=ue(),c=F(),p=Be(),_={keyword:"properties",type:"object",schemaType:"object",code(s){let{gen:m,schema:i,parentSchema:f,data:g,it:w}=s;w.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&p.default.code(new t.KeywordCxt(w,p.default,"additionalProperties"));let P=h.allSchemaProperties(i);for(let a of P)w.definedProperties.add(a);w.opts.unevaluated&&P.length&&w.props!==!0&&(w.props=c.mergeEvaluated.props(m,c.toHash(P),w.props));let S=P.filter(a=>!c.alwaysValidSchema(w,i[a]));if(S.length===0)return;let j=m.name("valid");for(let a of S)E(a)?$(a):(m.if(h.propertyInData(m,g,a,w.opts.ownProperties)),$(a),!w.allErrors&&m.else().var(j,!0),m.endIf()),s.it.definedProperties.add(a),s.ok(j);function E(a){return w.opts.useDefaults&&!w.compositeRule&&i[a].default!==void 0}function $(a){s.subschema({keyword:"properties",schemaProp:a,dataProp:a},j)}}};e.default=_}),Vt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),h=L(),c=F(),p=F(),_={keyword:"patternProperties",type:"object",schemaType:"object",code(s){let{gen:m,schema:i,data:f,parentSchema:g,it:w}=s,{opts:P}=w,S=t.allSchemaProperties(i),j=S.filter(d=>c.alwaysValidSchema(w,i[d]));if(S.length===0||j.length===S.length&&(!w.opts.unevaluated||w.props===!0))return;let E=P.strictSchema&&!P.allowMatchingProperties&&g.properties,$=m.name("valid");w.props!==!0&&!(w.props instanceof h.Name)&&(w.props=p.evaluatedPropsToName(m,w.props));let{props:a}=w;o();function o(){for(let d of S)E&&n(d),w.allErrors?r(d):(m.var($,!0),r(d),m.if($))}function n(d){for(let l in E)new RegExp(d).test(l)&&c.checkStrictMode(w,`property ${l} matches pattern ${d} (use allowMatchingProperties)`)}function r(d){m.forIn("key",f,l=>{m.if(h._`${t.usePattern(s,d)}.test(${l})`,()=>{let y=j.includes(d);y||s.subschema({keyword:"patternProperties",schemaProp:d,dataProp:l,dataPropType:p.Type.Str},$),w.opts.unevaluated&&a!==!0?m.assign(h._`${a}[${l}]`,!0):!y&&!w.allErrors&&m.if(h.not($),()=>m.break())})})}}};e.default=_}),Gt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=F(),h={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(c){let{gen:p,schema:_,it:s}=c;if(t.alwaysValidSchema(s,_)){c.fail();return}let m=p.name("valid");c.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),c.failResult(m,()=>c.reset(),()=>c.error())},error:{message:"must NOT be valid"}};e.default=h}),Jt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),h={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=h}),Ut=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c={message:"must match exactly one schema in oneOf",params:({params:_})=>t._`{passingSchemas: ${_.passing}}`},p={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:c,code(_){let{gen:s,schema:m,parentSchema:i,it:f}=_;if(!Array.isArray(m))throw new Error("ajv implementation error");if(f.opts.discriminator&&i.discriminator)return;let g=m,w=s.let("valid",!1),P=s.let("passing",null),S=s.name("_valid");_.setParams({passing:P}),s.block(j),_.result(w,()=>_.reset(),()=>_.error(!0));function j(){g.forEach((E,$)=>{let a;h.alwaysValidSchema(f,E)?s.var(S,!0):a=_.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},S),$>0&&s.if(t._`${S} && ${w}`).assign(w,!1).assign(P,t._`[${P}, ${$}]`).else(),s.if(S,()=>{s.assign(w,!0),s.assign(P,$),a&&_.mergeEvaluated(a,t.Name)})})}}};e.default=p}),qt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=F(),h={keyword:"allOf",schemaType:"array",code(c){let{gen:p,schema:_,it:s}=c;if(!Array.isArray(_))throw new Error("ajv implementation error");let m=p.name("valid");_.forEach((i,f)=>{if(t.alwaysValidSchema(s,i))return;let g=c.subschema({keyword:"allOf",schemaProp:f},m);c.ok(m),c.mergeEvaluated(g)})}};e.default=h}),Wt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=F(),c={message:({params:s})=>t.str`must match "${s.ifClause}" schema`,params:({params:s})=>t._`{failingKeyword: ${s.ifClause}}`},p={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:c,code(s){let{gen:m,parentSchema:i,it:f}=s;i.then===void 0&&i.else===void 0&&h.checkStrictMode(f,'"if" without "then" and "else" is ignored');let g=_(f,"then"),w=_(f,"else");if(!g&&!w)return;let P=m.let("valid",!0),S=m.name("_valid");if(j(),s.reset(),g&&w){let $=m.let("ifClause");s.setParams({ifClause:$}),m.if(S,E("then",$),E("else",$))}else g?m.if(S,E("then")):m.if(t.not(S),E("else"));s.pass(P,()=>s.error(!0));function j(){let $=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},S);s.mergeEvaluated($)}function E($,a){return()=>{let o=s.subschema({keyword:$},S);m.assign(P,S),s.mergeValidEvaluated(o,P),a?m.assign(a,t._`${$}`):s.setParams({ifClause:$})}}}};function _(s,m){let i=s.schema[m];return i!==void 0&&!h.alwaysValidSchema(s,i)}e.default=p}),Zt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=F(),h={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:c,parentSchema:p,it:_}){p.if===void 0&&t.checkStrictMode(_,`"${c}" without "if" is ignored`)}};e.default=h}),zt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=He(),h=Ct(),c=Fe(),p=Rt(),_=Tt(),s=Dt(),m=At(),i=Be(),f=Mt(),g=Vt(),w=Gt(),P=Jt(),S=Ut(),j=qt(),E=Wt(),$=Zt();function a(o=!1){let n=[w.default,P.default,S.default,j.default,E.default,$.default,m.default,i.default,s.default,f.default,g.default];return o?n.push(h.default,p.default):n.push(t.default,c.default),n.push(_.default),n}e.default=a}),Kt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h={message:({schemaCode:p})=>t.str`must match format "${p}"`,params:({schemaCode:p})=>t._`{format: ${p}}`},c={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:h,code(p,_){let{gen:s,data:m,$data:i,schema:f,schemaCode:g,it:w}=p,{opts:P,errSchemaPath:S,schemaEnv:j,self:E}=w;if(!P.validateFormats)return;i?$():a();function $(){let o=s.scopeValue("formats",{ref:E.formats,code:P.code.formats}),n=s.const("fDef",t._`${o}[${g}]`),r=s.let("fType"),d=s.let("format");s.if(t._`typeof ${n} == "object" && !(${n} instanceof RegExp)`,()=>s.assign(r,t._`${n}.type || "string"`).assign(d,t._`${n}.validate`),()=>s.assign(r,t._`"string"`).assign(d,n)),p.fail$data(t.or(l(),y()));function l(){return P.strictSchema===!1?t.nil:t._`${g} && !${d}`}function y(){let v=j.$async?t._`(${n}.async ? await ${d}(${m}) : ${d}(${m}))`:t._`${d}(${m})`,k=t._`(typeof ${d} == "function" ? ${v} : ${d}.test(${m}))`;return t._`${d} && ${d} !== true && ${r} === ${_} && !${k}`}}function a(){let o=E.formats[f];if(!o){l();return}if(o===!0)return;let[n,r,d]=y(o);n===_&&p.pass(v());function l(){if(P.strictSchema===!1){E.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${f}" ignored in schema at path "${S}"`}}function y(k){let C=k instanceof RegExp?t.regexpCode(k):P.code.formats?t._`${P.code.formats}${t.getProperty(f)}`:void 0,A=s.scopeValue("formats",{key:f,ref:k,code:C});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,t._`${A}.validate`]:["string",k,A]}function v(){if(typeof o=="object"&&!(o instanceof RegExp)&&o.async){if(!j.$async)throw new Error("async format in sync schema");return t._`await ${d}(${m})`}return typeof r=="function"?t._`${d}(${m})`:t._`${d}.test(${m})`}}}};e.default=c}),Lt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Kt(),h=[t.default];e.default=h}),Ht=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),Ft=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=vt(),h=It(),c=zt(),p=Lt(),_=Ht(),s=[t.default,h.default,c.default(),p.default,_.metadataVocabulary,_.contentVocabulary];e.default=s}),Bt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(h){h.Tag="tag",h.Mapping="mapping"})(t||(e.DiscrError=t={}))}),Xt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=L(),h=Bt(),c=Ie(),p=_e(),_=F(),s={message:({params:{discrError:i,tagName:f}})=>i===h.DiscrError.Tag?`tag "${f}" must be string`:`value of tag "${f}" must be in oneOf`,params:({params:{discrError:i,tag:f,tagName:g}})=>t._`{error: ${i}, tag: ${g}, tagValue: ${f}}`},m={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(i){let{gen:f,data:g,schema:w,parentSchema:P,it:S}=i,{oneOf:j}=P;if(!S.opts.discriminator)throw new Error("discriminator: requires discriminator option");let E=w.propertyName;if(typeof E!="string")throw new Error("discriminator: requires propertyName");if(w.mapping)throw new Error("discriminator: mapping is not supported");if(!j)throw new Error("discriminator: requires oneOf keyword");let $=f.let("valid",!1),a=f.const("tag",t._`${g}${t.getProperty(E)}`);f.if(t._`typeof ${a} == "string"`,()=>o(),()=>i.error(!1,{discrError:h.DiscrError.Tag,tag:a,tagName:E})),i.ok($);function o(){let d=r();f.if(!1);for(let l in d)f.elseIf(t._`${a} === ${l}`),f.assign($,n(d[l]));f.else(),i.error(!1,{discrError:h.DiscrError.Mapping,tag:a,tagName:E}),f.endIf()}function n(d){let l=f.name("valid"),y=i.subschema({keyword:"oneOf",schemaProp:d},l);return i.mergeEvaluated(y,t.Name),l}function r(){var d;let l={},y=k(P),v=!0;for(let M=0;M<j.length;M++){let U=j[M];if(U!=null&&U.$ref&&!_.schemaHasRulesButRef(U,S.self.RULES)){let X=U.$ref;if(U=c.resolveRef.call(S.self,S.schemaEnv.root,S.baseId,X),U instanceof c.SchemaEnv&&(U=U.schema),U===void 0)throw new p.default(S.opts.uriResolver,S.baseId,X)}let z=(d=U==null?void 0:U.properties)===null||d===void 0?void 0:d[E];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${E}"`);v=v&&(y||k(U)),C(z,M)}if(!v)throw new Error(`discriminator: "${E}" must be required`);return l;function k({required:M}){return Array.isArray(M)&&M.includes(E)}function C(M,U){if(M.const)A(M.const,U);else if(M.enum)for(let z of M.enum)A(z,U);else throw new Error(`discriminator: "properties/${E}" must have "const" or "enum"`)}function A(M,U){if(typeof M!="string"||M in l)throw new Error(`discriminator: "${E}" values must be unique strings`);l[M]=U}}}};e.default=m}),Qt=J((e,t)=>{t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),Yt=J((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var h=yt(),c=Ft(),p=Xt(),_=Qt(),s=["/properties"],m="http://json-schema.org/draft-07/schema";class i extends h.default{_addVocabularies(){super._addVocabularies(),c.default.forEach(j=>this.addVocabulary(j)),this.opts.discriminator&&this.addKeyword(p.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let j=this.opts.$data?this.$dataMetaSchema(_,s):_;this.addMetaSchema(j,m,!1),this.refs["http://json-schema.org/schema"]=m}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(m)?m:void 0)}}e.Ajv=i,t.exports=e=i,t.exports.Ajv=i,Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var f=we();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var g=L();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});var w=xe();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return w.default}});var P=_e();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return P.default}})}),er=J((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var h={},c={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:g=>{var w;let P=(w=g==null?void 0:g.max)!==null&&w!==void 0?w:2;return()=>Math.floor(Math.random()*P)},seq:g=>{var w;let P=(w=g==null?void 0:g.name)!==null&&w!==void 0?w:"";return h[P]||(h[P]=0),()=>h[P]++}},p=Object.assign(_,{DEFAULTS:c});function _(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(g,w,P){if(!P.opts.useDefaults||P.compositeRule)return()=>!0;let S={};for(let E in g)S[E]=s(g[E]);let j=P.opts.useDefaults==="empty";return E=>{for(let $ in g)(E[$]===void 0||j&&(E[$]===null||E[$]===""))&&(E[$]=S[$]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function s(g){return typeof g=="object"?m(g):i(g)}function m({func:g,args:w}){let P=c[g];return f(g,P),P(w)}function i(g=""){let w=c[g];return f(g,w),w()}function f(g,w){if(!w)throw new Error(`invalid "dynamicDefaults" keyword property value: ${g}`)}e.default=p,t.exports=p});function Ge(e){if(!Ee(e))return me(e);let t=new Proxy({},{get(h,c,p){return et(Reflect.get(e.value,c,p))},set(h,c,p){return Ee(e.value[c])&&!Ee(p)?e.value[c].value=p:e.value[c]=p,!0},deleteProperty(h,c){return Reflect.deleteProperty(e.value,c)},has(h,c){return Reflect.has(e.value,c)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return me(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;var re=[];for(let e=0;e<256;++e)re.push((e+256).toString(16).slice(1));function tr(e,t=0){return(re[e[t+0]]+re[e[t+1]]+re[e[t+2]]+re[e[t+3]]+"-"+re[e[t+4]]+re[e[t+5]]+"-"+re[e[t+6]]+re[e[t+7]]+"-"+re[e[t+8]]+re[e[t+9]]+"-"+re[e[t+10]]+re[e[t+11]]+re[e[t+12]]+re[e[t+13]]+re[e[t+14]]+re[e[t+15]]).toLowerCase()}var Se,rr=new Uint8Array(16);function ar(){if(!Se){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Se=crypto.getRandomValues.bind(crypto)}return Se(rr)}var nr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Je={randomUUID:nr};function sr(e,t,h){var p;if(Je.randomUUID&&!t&&!e)return Je.randomUUID();e=e||{};let c=e.random??((p=e.rng)==null?void 0:p.call(e))??ar();if(c.length<16)throw new Error("Random bytes length must be >= 16");if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){if(h=h||0,h<0||h+16>t.length)throw new RangeError(`UUID byte range ${h}:${h+15} is out of buffer bounds`);for(let _=0;_<16;++_)t[h+_]=c[_];return t}return tr(c)}var ir=sr;function or(e,{branch:t="branch",children:h="children",id:c="id",index:p="index",next:_="next",parent:s="parent",prev:m="prev",siblings:i="siblings"}={}){let f={[t]:{get(){var k;let v=[this];for(;(k=v[0])!=null&&k[s];)v.unshift(v[0][s]);return v}},[p]:{get(){return this[i].findIndex(v=>this[c]===v[c])}},[_]:{get(){return this[i][this[p]+1]}},[m]:{get(){return this[i][this[p]-1]}}},g=Ye(e)?e:me(e),w=Ae(j),P=Ge(w),S=Ge(Ae($));function j(){return E({value:g})}function E(v,k={}){function C(A){return Object.defineProperties(A,{...f,[s]:k,[i]:v}),[A,...E({configurable:!0,value:A[h]??[]},{configurable:!0,value:A})]}return v.value.flatMap(C)}function $(){return Object.fromEntries(w.value.map(a))}function a(v){return[v[c],v]}function o(v){let k=S[v];if(k){let C=k[h],A=k[p],M=k[i],U=ir();switch(!0){case!!k[s]:M.splice(A+1,0,{[c]:U});break;case!!C:C.unshift({[c]:U});break;default:M.splice(A+1,0,{[c]:U});break}return U}}function n(v){let k=S[v];if(k){let C=k[p],A=C+1,M=k[i];C<M.length-1&&M[C]&&M[A]&&([M[C],M[A]]=[M[A],M[C]])}}function r(v){let k=S[v];if(k){let C=k[s];if(C!=null&&C[s]){let A=C[h]??[];return C[i].splice(C[p]+1,0,...A.splice(k[p],1)),C[c]}}}function d(v){let k=S[v];if(k){let C=k[s];if(C){let[A]=w.value,M=k[_],U=k[m],z=(M==null?void 0:M[c])??(U==null?void 0:U[c])??C[c]??(A==null?void 0:A[c]);return k[i].splice(k[p],1),z}}}function l(v){let k=S[v];if(k){let C=k[m];if(C){let A=C[h]??[],M=C[c],U=k[i];return C[h]=[...A,...U.splice(k[p],1)],M}}}function y(v){let k=S[v];if(k){let C=k[p],A=C-1,M=k[i];C&&M[C]&&M[A]&&([M[A],M[C]]=[M[C],M[A]])}}return{add:o,arrLeaves:P,down:n,leaves:w,left:r,objLeaves:S,remove:d,right:l,up:y}}var lr=Ze(Yt()),Xe=Ze(er()),ae=[];for(let e=0;e<256;++e)ae.push((e+256).toString(16).slice(1));function ur(e,t=0){return(ae[e[t+0]]+ae[e[t+1]]+ae[e[t+2]]+ae[e[t+3]]+"-"+ae[e[t+4]]+ae[e[t+5]]+"-"+ae[e[t+6]]+ae[e[t+7]]+"-"+ae[e[t+8]]+ae[e[t+9]]+"-"+ae[e[t+10]]+ae[e[t+11]]+ae[e[t+12]]+ae[e[t+13]]+ae[e[t+14]]+ae[e[t+15]]).toLowerCase()}var ke,dr=new Uint8Array(16);function fr(){if(!ke){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ke=crypto.getRandomValues.bind(crypto)}return ke(dr)}var cr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ue={randomUUID:cr};function hr(e,t,h){var p;if(Ue.randomUUID&&!t&&!e)return Ue.randomUUID();e=e||{};let c=e.random??((p=e.rng)==null?void 0:p.call(e))??fr();if(c.length<16)throw new Error("Random bytes length must be >= 16");if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){if(h=h||0,h<0||h+16>t.length)throw new RangeError(`UUID byte range ${h}:${h+15} is out of buffer bounds`);for(let _=0;_<16;++_)t[h+_]=c[_];return t}return ur(c)}var pr=hr,mr={properties:{accessKeyId:{default:null,nullable:!0,type:"string"},Bucket:{default:null,nullable:!0,type:"string"},endpoint:{default:null,nullable:!0,type:"string"},region:{default:null,nullable:!0,type:"string"},secretAccessKey:{default:null,nullable:!0,type:"string"}},type:"object"},yr={$id:"urn:jsonschema:credentials",additionalProperties:mr,type:"object"},gr={$ref:"urn:jsonschema:page"},$r={$id:"urn:jsonschema:data",items:gr,type:"array"},vr={imports:{additionalProperties:{type:"string"},default:{},type:"object"}},wr={$id:"urn:jsonschema:importmap",additionalProperties:!1,properties:vr,type:"object"},_r={id:"uuid"},br={alt:{default:[],items:{type:"string"},type:"array"},changefreq:{default:null,enum:["always","hourly","daily","weekly","monthly","yearly","never",null],nullable:!0,type:"string"},children:{default:[],items:{type:"object"},type:"array"},class:{default:["prose","max-w-none"],description:"Классы",items:{type:"string"},type:"array"},description:{default:null,nullable:!0,type:"string"},enabled:{default:!0,type:"boolean"},flat:{default:!0,type:"boolean"},header:{type:"string"},icon:{type:"string"},id:{type:"string"},images:{default:[],items:{properties:{alt:{type:"string"},url:{default:"",type:"string"}},type:"object"},type:"array"},keywords:{default:[],items:{type:"string"},type:"array"},lastmod:{default:null,nullable:!0,type:"string"},loc:{default:null,nullable:!0,type:"string"},name:{default:null,nullable:!0,type:"string"},priority:{default:null,maximum:1,minimum:0,nullable:!0,type:"number"},type:{default:null,enum:["article","book","profile","website","music.song","music.album","music.playlist","music.radio_station","video.movie","video.episode","video.tv_show","video.other",null],nullable:!0,type:"string"}},Pr={$id:"urn:jsonschema:page",additionalProperties:!1,dynamicDefaults:_r,properties:br,type:"object"};Xe.default.DEFAULTS.uuid=()=>()=>pr();var Er={get(){return this.children.filter(({enabled:e})=>e)}},Sr={get(){return this.$siblings.findIndex(({id:e})=>this.id===e)}},kr={get(){return this.$siblings[this.$index+1]}},jr={get(){return this.$siblings[this.$index-1]}},Nr={get(){return this.siblings.filter(({enabled:e})=>e)}},Or=!0,xr={esm:Or},Ir=!0,Cr=[Xe.default()],Rr=!0,Tr=[yr,$r,Pr,wr],Dr=!0,Re=new lr.default({code:xr,coerceTypes:Ir,keywords:Cr,removeAdditional:Rr,schemas:Tr,useDefaults:Dr}),qr=!0,Ar={get(){return this.icon&&`i-${this.icon}`}},qe=me({}),Oe=me([]),Mr={get(){let e=this.branch.slice(1);return e.some(({name:t})=>!t)?void 0:e.map(({name:t})=>t).join("/").replaceAll(" ","_")}},Vr={get(){return["",void 0].includes(this.header)?this.name:this.header}},Gr={get(){var e,t;return(t=((e=this.loc)==null?void 0:e.replaceAll(" ","_"))??this.path)==null?void 0:t.replace(/^\/?/,"/").replace(/\/?$/,"/")}};Re.getSchema("urn:jsonschema:credentials");var je=Re.getSchema("urn:jsonschema:data"),Ne=Re.getSchema("urn:jsonschema:importmap"),{add:Wr,down:Zr,leaves:Jr,left:zr,objLeaves:Kr,remove:Lr,right:Hr,up:Fr}=or(Oe),Br=e=>{window.console.error(e)},Xr=async e=>(await fetch(e)).text(),Qr=e=>Object.fromEntries(e.map(t=>[t.toLowerCase().replaceAll(" ","_"),t]));We(qe,async e=>{await(Ne==null?void 0:Ne(e))||(qe.imports={})});We(Jr,async e=>{await(je==null?void 0:je(e))?e.forEach(t=>{Object.defineProperties(t,{$children:Er,$index:Sr,$next:kr,$prev:jr,$siblings:Nr,i:Ar,path:Mr,title:Vr,to:Gr})}):(Oe.length=0,Oe.push({}))});export{Jr as H,Br as Q,Qr as W,Xr as X,Oe as _,qe as b,qr as n,Kr as s};
