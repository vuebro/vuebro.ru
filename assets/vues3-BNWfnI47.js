import{reactive as me,watch as Ge,isReactive as Be,computed as Me,isRef as Ee,unref as Xe}from"vue";var Ye=Object.create,{getPrototypeOf:Qe,defineProperty:Ae,getOwnPropertyNames:et}=Object,tt=Object.prototype.hasOwnProperty,We=(e,t,p)=>{p=e!=null?Ye(Qe(e)):{};let h=Ae(p,"default",{value:e,enumerable:!0});for(let m of et(e))tt.call(h,m)||Ae(h,m,{get:()=>e[m],enumerable:!0});return h},J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ye=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class p extends t{constructor(s){if(super(),!e.IDENTIFIER.test(s))throw new Error("CodeGen: name must be a valid identifier");this.str=s}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=p;class h extends t{constructor(s){super(),this._items=typeof s=="string"?[s]:s}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let s=this._items[0];return s===""||s==='""'}get str(){var s;return(s=this._str)!==null&&s!==void 0?s:this._str=this._items.reduce((n,r)=>`${n}${r}`,"")}get names(){var s;return(s=this._names)!==null&&s!==void 0?s:this._names=this._items.reduce((n,r)=>(r instanceof p&&(n[r.str]=(n[r.str]||0)+1),n),{})}}e._Code=h,e.nil=new h("");function m(a,...s){let n=[a[0]],r=0;for(;r<s.length;)y(n,s[r]),n.push(a[++r]);return new h(n)}e._=m;var w=new h("+");function i(a,...s){let n=[k(a[0])],r=0;for(;r<s.length;)n.push(w),y(n,s[r]),n.push(w,k(a[++r]));return o(n),new h(n)}e.str=i;function y(a,s){s instanceof h?a.push(...s._items):s instanceof p?a.push(s):a.push(v(s))}e.addCodeArg=y;function o(a){let s=1;for(;s<a.length-1;){if(a[s]===w){let n=f(a[s-1],a[s+1]);if(n!==void 0){a.splice(s-1,3,n);continue}a[s++]="+"}s++}}function f(a,s){if(s==='""')return a;if(a==='""')return s;if(typeof a=="string")return s instanceof p||a[a.length-1]!=='"'?void 0:typeof s!="string"?`${a.slice(0,-1)}${s}"`:s[0]==='"'?a.slice(0,-1)+s.slice(1):void 0;if(typeof s=="string"&&s[0]==='"'&&!(a instanceof p))return`"${a}${s.slice(1)}`}function g(a,s){return s.emptyStr()?a:a.emptyStr()?s:i`${a}${s}`}e.strConcat=g;function v(a){return typeof a=="number"||typeof a=="boolean"||a===null?a:k(Array.isArray(a)?a.join(","):a)}function E(a){return new h(k(a))}e.stringify=E;function k(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=k;function S(a){return typeof a=="string"&&e.IDENTIFIER.test(a)?new h(`.${a}`):m`[${a}]`}e.getProperty=S;function _(a){if(typeof a=="string"&&e.IDENTIFIER.test(a))return new h(`${a}`);throw new Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}e.getEsmExportName=_;function c(a){return new h(a.toString())}e.regexpCode=c}),Ve=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=ye();class p extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var h;(function(o){o[o.Started=0]="Started",o[o.Completed=1]="Completed"})(h||(e.UsedValueState=h={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class m{constructor({prefixes:f,parent:g}={}){this._names={},this._prefixes=f,this._parent=g}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){let g=this._names[f]||this._nameGroup(f);return`${f}${g.index++}`}_nameGroup(f){var g,v;if(!((v=(g=this._parent)===null||g===void 0?void 0:g._prefixes)===null||v===void 0)&&v.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=m;class w extends t.Name{constructor(f,g){super(g),this.prefix=f}setValue(f,{property:g,itemIndex:v}){this.value=f,this.scopePath=t._`.${new t.Name(g)}[${v}]`}}e.ValueScopeName=w;var i=t._`\n`;class y extends m{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?i:t.nil}}get(){return this._scope}name(f){return new w(f,this._newName(f))}value(f,g){var v;if(g.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let E=this.toName(f),{prefix:k}=E,S=(v=g.key)!==null&&v!==void 0?v:g.ref,_=this._values[k];if(_){let s=_.get(S);if(s)return s}else _=this._values[k]=new Map;_.set(S,E);let c=this._scope[k]||(this._scope[k]=[]),a=c.length;return c[a]=g.ref,E.setValue(g,{property:k,itemIndex:a}),E}getValue(f,g){let v=this._values[f];if(v)return v.get(g)}scopeRefs(f,g=this._values){return this._reduceValues(g,v=>{if(v.scopePath===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return t._`${f}${v.scopePath}`})}scopeCode(f=this._values,g,v){return this._reduceValues(f,E=>{if(E.value===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return E.value.code},g,v)}_reduceValues(f,g,v={},E){let k=t.nil;for(let S in f){let _=f[S];if(!_)continue;let c=v[S]=v[S]||new Map;_.forEach(a=>{if(c.has(a))return;c.set(a,h.Started);let s=g(a);if(s){let n=this.opts.es5?e.varKinds.var:e.varKinds.const;k=t._`${k}${n} ${a} = ${s};${this.opts._n}`}else if(s=E==null?void 0:E(a))k=t._`${k}${s}${this.opts._n}`;else throw new p(a);c.set(a,h.Completed)})}return k}}e.ValueScope=y}),Z=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=ye(),p=Ve(),h=ye();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return h.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return h.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return h.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}});var m=Ve();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return m.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return m.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return m.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return m.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class w{optimizeNodes(){return this}optimizeNames(u,P){return this}}class i extends w{constructor(u,P,T){super(),this.varKind=u,this.name=P,this.rhs=T}render({es5:u,_n:P}){let T=u?p.varKinds.var:this.varKind,W=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${W};`+P}optimizeNames(u,P){if(u[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,u,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class y extends w{constructor(u,P,T){super(),this.lhs=u,this.rhs=P,this.sideEffects=T}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,P){if(!(this.lhs instanceof t.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,u,P),this}get names(){let u=this.lhs instanceof t.Name?{}:{...this.lhs.names};return U(u,this.rhs)}}class o extends y{constructor(u,P,T,W){super(u,T,W),this.op=P}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class f extends w{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class g extends w{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class v extends w{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class E extends w{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,P){return this.code=L(this.code,u,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class k extends w{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((P,T)=>P+T.render(u),"")}optimizeNodes(){let{nodes:u}=this,P=u.length;for(;P--;){let T=u[P].optimizeNodes();Array.isArray(T)?u.splice(P,1,...T):T?u[P]=T:u.splice(P,1)}return u.length>0?this:void 0}optimizeNames(u,P){let{nodes:T}=this,W=T.length;for(;W--;){let z=T[W];z.optimizeNames(u,P)||(X(u,z.names),T.splice(W,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((u,P)=>G(u,P.names),{})}}class S extends k{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class _ extends k{}class c extends S{}c.kind="else";class a extends S{constructor(u,P){super(P),this.condition=u}render(u){let P=`if(${this.condition})`+super.render(u);return this.else&&(P+="else "+this.else.render(u)),P}optimizeNodes(){super.optimizeNodes();let u=this.condition;if(u===!0)return this.nodes;let P=this.else;if(P){let T=P.optimizeNodes();P=this.else=Array.isArray(T)?new c(T):T}if(P)return u===!1?P instanceof a?P:P.nodes:this.nodes.length?this:new a(ie(u),P instanceof a?[P]:P.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,P){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(u,P),!!(super.optimizeNames(u,P)||this.else))return this.condition=L(this.condition,u,P),this}get names(){let u=super.names;return U(u,this.condition),this.else&&G(u,this.else.names),u}}a.kind="if";class s extends S{}s.kind="for";class n extends s{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,P){if(super.optimizeNames(u,P))return this.iteration=L(this.iteration,u,P),this}get names(){return G(super.names,this.iteration.names)}}class r extends s{constructor(u,P,T,W){super(),this.varKind=u,this.name=P,this.from=T,this.to=W}render(u){let P=u.es5?p.varKinds.var:this.varKind,{name:T,from:W,to:z}=this;return`for(${P} ${T}=${W}; ${T}<${z}; ${T}++)`+super.render(u)}get names(){let u=U(super.names,this.from);return U(u,this.to)}}class d extends s{constructor(u,P,T,W){super(),this.loop=u,this.varKind=P,this.name=T,this.iterable=W}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,P){if(super.optimizeNames(u,P))return this.iterable=L(this.iterable,u,P),this}get names(){return G(super.names,this.iterable.names)}}class l extends S{constructor(u,P,T){super(),this.name=u,this.args=P,this.async=T}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}l.kind="func";class $ extends k{render(u){return"return "+super.render(u)}}$.kind="return";class b extends S{render(u){let P="try"+super.render(u);return this.catch&&(P+=this.catch.render(u)),this.finally&&(P+=this.finally.render(u)),P}optimizeNodes(){var u,P;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(u,P){var T,W;return super.optimizeNames(u,P),(T=this.catch)===null||T===void 0||T.optimizeNames(u,P),(W=this.finally)===null||W===void 0||W.optimizeNames(u,P),this}get names(){let u=super.names;return this.catch&&G(u,this.catch.names),this.finally&&G(u,this.finally.names),u}}class C extends S{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}C.kind="catch";class M extends S{render(u){return"finally"+super.render(u)}}M.kind="finally";class D{constructor(u,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=u,this._scope=new p.Scope({parent:u}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,P){let T=this._extScope.value(u,P);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(u,P){return this._extScope.getValue(u,P)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,P,T,W){let z=this._scope.toName(P);return T!==void 0&&W&&(this._constants[z.str]=T),this._leafNode(new i(u,z,T)),z}const(u,P,T){return this._def(p.varKinds.const,u,P,T)}let(u,P,T){return this._def(p.varKinds.let,u,P,T)}var(u,P,T){return this._def(p.varKinds.var,u,P,T)}assign(u,P,T){return this._leafNode(new y(u,P,T))}add(u,P){return this._leafNode(new o(u,e.operators.ADD,P))}code(u){return typeof u=="function"?u():u!==t.nil&&this._leafNode(new E(u)),this}object(...u){let P=["{"];for(let[T,W]of u)P.length>1&&P.push(","),P.push(T),(T!==W||this.opts.es5)&&(P.push(":"),t.addCodeArg(P,W));return P.push("}"),new t._Code(P)}if(u,P,T){if(this._blockNode(new a(u)),P&&T)this.code(P).else().code(T).endIf();else if(P)this.code(P).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new a(u))}else(){return this._elseNode(new c)}endIf(){return this._endBlockNode(a,c)}_for(u,P){return this._blockNode(u),P&&this.code(P).endFor(),this}for(u,P){return this._for(new n(u),P)}forRange(u,P,T,W,z=this.opts.es5?p.varKinds.var:p.varKinds.let){let B=this._scope.toName(u);return this._for(new r(z,B,P,T),()=>W(B))}forOf(u,P,T,W=p.varKinds.const){let z=this._scope.toName(u);if(this.opts.es5){let B=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,t._`${B}.length`,H=>{this.var(z,t._`${B}[${H}]`),T(z)})}return this._for(new d("of",W,z,P),()=>T(z))}forIn(u,P,T,W=this.opts.es5?p.varKinds.var:p.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,t._`Object.keys(${P})`,T);let z=this._scope.toName(u);return this._for(new d("in",W,z,P),()=>T(z))}endFor(){return this._endBlockNode(s)}label(u){return this._leafNode(new f(u))}break(u){return this._leafNode(new g(u))}return(u){let P=new $;if(this._blockNode(P),this.code(u),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(u,P,T){if(!P&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');let W=new b;if(this._blockNode(W),this.code(u),P){let z=this.name("e");this._currNode=W.catch=new C(z),P(z)}return T&&(this._currNode=W.finally=new M,this.code(T)),this._endBlockNode(C,M)}throw(u){return this._leafNode(new v(u))}block(u,P){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(P),this}endBlock(u){let P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");let T=this._nodes.length-P;if(T<0||u!==void 0&&T!==u)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${u} expected`);return this._nodes.length=P,this}func(u,P=t.nil,T,W){return this._blockNode(new l(u,P,T)),W&&this.code(W).endFunc(),this}endFunc(){return this._endBlockNode(l)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,P){let T=this._currNode;if(T instanceof u||P&&T instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${u.kind}/${P.kind}`:u.kind}"`)}_elseNode(u){let P=this._currNode;if(!(P instanceof a))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=u,this}get _root(){return this._nodes[0]}get _currNode(){let u=this._nodes;return u[u.length-1]}set _currNode(u){let P=this._nodes;P[P.length-1]=u}}e.CodeGen=D;function G(x,u){for(let P in u)x[P]=(x[P]||0)+(u[P]||0);return x}function U(x,u){return u instanceof t._CodeOrName?G(x,u.names):x}function L(x,u,P){if(x instanceof t.Name)return T(x);if(!W(x))return x;return new t._Code(x._items.reduce((z,B)=>(B instanceof t.Name&&(B=T(B)),B instanceof t._Code?z.push(...B._items):z.push(B),z),[]));function T(z){let B=P[z.str];return B===void 0||u[z.str]!==1?z:(delete u[z.str],B)}function W(z){return z instanceof t._Code&&z._items.some(B=>B instanceof t.Name&&u[B.str]===1&&P[B.str]!==void 0)}}function X(x,u){for(let P in u)x[P]=(x[P]||0)-(u[P]||0)}function ie(x){return typeof x=="boolean"||typeof x=="number"||x===null?!x:t._`!${I(x)}`}e.not=ie;var de=N(e.operators.AND);function fe(...x){return x.reduce(de)}e.and=fe;var Y=N(e.operators.OR);function V(...x){return x.reduce(Y)}e.or=V;function N(x){return(u,P)=>u===t.nil?P:P===t.nil?u:t._`${I(u)} ${x} ${I(P)}`}function I(x){return x instanceof t.Name?x:t._`(${x})`}}),K=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Z(),p=ye();function h(l){let $={};for(let b of l)$[b]=!0;return $}e.toHash=h;function m(l,$){return typeof $=="boolean"?$:Object.keys($).length===0?!0:(w(l,$),!i($,l.self.RULES.all))}e.alwaysValidSchema=m;function w(l,$=l.schema){let{opts:b,self:C}=l;if(!b.strictSchema||typeof $=="boolean")return;let M=C.RULES.keywords;for(let D in $)M[D]||d(l,`unknown keyword: "${D}"`)}e.checkUnknownRules=w;function i(l,$){if(typeof l=="boolean")return!l;for(let b in l)if($[b])return!0;return!1}e.schemaHasRules=i;function y(l,$){if(typeof l=="boolean")return!l;for(let b in l)if(b!=="$ref"&&$.all[b])return!0;return!1}e.schemaHasRulesButRef=y;function o({topSchemaRef:l,schemaPath:$},b,C,M){if(!M){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return t._`${b}`}return t._`${l}${$}${t.getProperty(C)}`}e.schemaRefOrVal=o;function f(l){return E(decodeURIComponent(l))}e.unescapeFragment=f;function g(l){return encodeURIComponent(v(l))}e.escapeFragment=g;function v(l){return typeof l=="number"?`${l}`:l.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=v;function E(l){return l.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=E;function k(l,$){if(Array.isArray(l))for(let b of l)$(b);else $(l)}e.eachItem=k;function S({mergeNames:l,mergeToName:$,mergeValues:b,resultToName:C}){return(M,D,G,U)=>{let L=G===void 0?D:G instanceof t.Name?(D instanceof t.Name?l(M,D,G):$(M,D,G),G):D instanceof t.Name?($(M,G,D),D):b(D,G);return U===t.Name&&!(L instanceof t.Name)?C(M,L):L}}e.mergeEvaluated={props:S({mergeNames:(l,$,b)=>l.if(t._`${b} !== true && ${$} !== undefined`,()=>{l.if(t._`${$} === true`,()=>l.assign(b,!0),()=>l.assign(b,t._`${b} || {}`).code(t._`Object.assign(${b}, ${$})`))}),mergeToName:(l,$,b)=>l.if(t._`${b} !== true`,()=>{$===!0?l.assign(b,!0):(l.assign(b,t._`${b} || {}`),c(l,b,$))}),mergeValues:(l,$)=>l===!0?!0:{...l,...$},resultToName:_}),items:S({mergeNames:(l,$,b)=>l.if(t._`${b} !== true && ${$} !== undefined`,()=>l.assign(b,t._`${$} === true ? true : ${b} > ${$} ? ${b} : ${$}`)),mergeToName:(l,$,b)=>l.if(t._`${b} !== true`,()=>l.assign(b,$===!0?!0:t._`${b} > ${$} ? ${b} : ${$}`)),mergeValues:(l,$)=>l===!0?!0:Math.max(l,$),resultToName:(l,$)=>l.var("items",$)})};function _(l,$){if($===!0)return l.var("props",!0);let b=l.var("props",t._`{}`);return $!==void 0&&c(l,b,$),b}e.evaluatedPropsToName=_;function c(l,$,b){Object.keys(b).forEach(C=>l.assign(t._`${$}${t.getProperty(C)}`,!0))}e.setEvaluated=c;var a={};function s(l,$){return l.scopeValue("func",{ref:$,code:a[$.code]||(a[$.code]=new p._Code($.code))})}e.useFunc=s;var n;(function(l){l[l.Num=0]="Num",l[l.Str=1]="Str"})(n||(e.Type=n={}));function r(l,$,b){if(l instanceof t.Name){let C=$===n.Num;return b?C?t._`"[" + ${l} + "]"`:t._`"['" + ${l} + "']"`:C?t._`"/" + ${l}`:t._`"/" + ${l}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?t.getProperty(l).toString():"/"+v(l)}e.getErrorPath=r;function d(l,$,b=l.opts.strictSchema){if(b){if($=`strict mode: ${$}`,b===!0)throw new Error($);l.self.logger.warn($)}}e.checkStrictMode=d}),ce=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=p}),ge=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Z(),p=K(),h=ce();e.keywordError={message:({keyword:c})=>t.str`must pass "${c}" keyword validation`},e.keyword$DataError={message:({keyword:c,schemaType:a})=>a?t.str`"${c}" keyword must be ${a} ($data)`:t.str`"${c}" keyword is invalid ($data)`};function m(c,a=e.keywordError,s,n){let{it:r}=c,{gen:d,compositeRule:l,allErrors:$}=r,b=v(c,a,s);n??(l||$)?o(d,b):f(r,t._`[${b}]`)}e.reportError=m;function w(c,a=e.keywordError,s){let{it:n}=c,{gen:r,compositeRule:d,allErrors:l}=n,$=v(c,a,s);o(r,$),!(d||l)&&f(n,h.default.vErrors)}e.reportExtraError=w;function i(c,a){c.assign(h.default.errors,a),c.if(t._`${h.default.vErrors} !== null`,()=>c.if(a,()=>c.assign(t._`${h.default.vErrors}.length`,a),()=>c.assign(h.default.vErrors,null)))}e.resetErrorsCount=i;function y({gen:c,keyword:a,schemaValue:s,data:n,errsCount:r,it:d}){if(r===void 0)throw new Error("ajv implementation error");let l=c.name("err");c.forRange("i",r,h.default.errors,$=>{c.const(l,t._`${h.default.vErrors}[${$}]`),c.if(t._`${l}.instancePath === undefined`,()=>c.assign(t._`${l}.instancePath`,t.strConcat(h.default.instancePath,d.errorPath))),c.assign(t._`${l}.schemaPath`,t.str`${d.errSchemaPath}/${a}`),d.opts.verbose&&(c.assign(t._`${l}.schema`,s),c.assign(t._`${l}.data`,n))})}e.extendErrors=y;function o(c,a){let s=c.const("err",a);c.if(t._`${h.default.vErrors} === null`,()=>c.assign(h.default.vErrors,t._`[${s}]`),t._`${h.default.vErrors}.push(${s})`),c.code(t._`${h.default.errors}++`)}function f(c,a){let{gen:s,validateName:n,schemaEnv:r}=c;r.$async?s.throw(t._`new ${c.ValidationError}(${a})`):(s.assign(t._`${n}.errors`,a),s.return(!1))}var g={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function v(c,a,s){let{createErrors:n}=c.it;return n===!1?t._`{}`:E(c,a,s)}function E(c,a,s={}){let{gen:n,it:r}=c,d=[k(r,s),S(c,s)];return _(c,a,d),n.object(...d)}function k({errorPath:c},{instancePath:a}){let s=a?t.str`${c}${p.getErrorPath(a,p.Type.Str)}`:c;return[h.default.instancePath,t.strConcat(h.default.instancePath,s)]}function S({keyword:c,it:{errSchemaPath:a}},{schemaPath:s,parentSchema:n}){let r=n?a:t.str`${a}/${c}`;return s&&(r=t.str`${r}${p.getErrorPath(s,p.Type.Str)}`),[g.schemaPath,r]}function _(c,{params:a,message:s},n){let{keyword:r,data:d,schemaValue:l,it:$}=c,{opts:b,propertyName:C,topSchemaRef:M,schemaPath:D}=$;n.push([g.keyword,r],[g.params,typeof a=="function"?a(c):a||t._`{}`]),b.messages&&n.push([g.message,typeof s=="function"?s(c):s]),b.verbose&&n.push([g.schema,l],[g.parentSchema,t._`${M}${D}`],[h.default.data,d]),C&&n.push([g.propertyName,C])}}),rt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=ge(),p=Z(),h=ce(),m={message:"boolean schema is false"};function w(o){let{gen:f,schema:g,validateName:v}=o;g===!1?y(o,!1):typeof g=="object"&&g.$async===!0?f.return(h.default.data):(f.assign(p._`${v}.errors`,null),f.return(!0))}e.topBoolOrEmptySchema=w;function i(o,f){let{gen:g,schema:v}=o;v===!1?(g.var(f,!1),y(o)):g.var(f,!0)}e.boolOrEmptySchema=i;function y(o,f){let{gen:g,data:v}=o,E={gen:g,keyword:"false schema",data:v,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};t.reportError(E,m,void 0,f)}}),ze=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],p=new Set(t);function h(w){return typeof w=="string"&&p.has(w)}e.isJSONType=h;function m(){let w={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...w,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},w.number,w.string,w.array,w.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=m}),qe=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:m,self:w},i){let y=w.RULES.types[i];return y&&y!==!0&&p(m,y)}e.schemaHasRulesForType=t;function p(m,w){return w.rules.some(i=>h(m,i))}e.shouldUseGroup=p;function h(m,w){var i;return m[w.keyword]!==void 0||((i=w.definition.implements)===null||i===void 0?void 0:i.some(y=>m[y]!==void 0))}e.shouldUseRule=h}),$e=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=ze(),p=qe(),h=ge(),m=Z(),w=K(),i;(function(n){n[n.Correct=0]="Correct",n[n.Wrong=1]="Wrong"})(i||(e.DataType=i={}));function y(n){let r=o(n.type);if(r.includes("null")){if(n.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!r.length&&n.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');n.nullable===!0&&r.push("null")}return r}e.getSchemaTypes=y;function o(n){let r=Array.isArray(n)?n:n?[n]:[];if(r.every(t.isJSONType))return r;throw new Error("type must be JSONType or JSONType[]: "+r.join(","))}e.getJSONTypes=o;function f(n,r){let{gen:d,data:l,opts:$}=n,b=v(r,$.coerceTypes),C=r.length>0&&!(b.length===0&&r.length===1&&p.schemaHasRulesForType(n,r[0]));if(C){let M=_(r,l,$.strictNumbers,i.Wrong);d.if(M,()=>{b.length?E(n,r,b):a(n)})}return C}e.coerceAndCheckDataType=f;var g=new Set(["string","number","integer","boolean","null"]);function v(n,r){return r?n.filter(d=>g.has(d)||r==="array"&&d==="array"):[]}function E(n,r,d){let{gen:l,data:$,opts:b}=n,C=l.let("dataType",m._`typeof ${$}`),M=l.let("coerced",m._`undefined`);b.coerceTypes==="array"&&l.if(m._`${C} == 'object' && Array.isArray(${$}) && ${$}.length == 1`,()=>l.assign($,m._`${$}[0]`).assign(C,m._`typeof ${$}`).if(_(r,$,b.strictNumbers),()=>l.assign(M,$))),l.if(m._`${M} !== undefined`);for(let G of d)(g.has(G)||G==="array"&&b.coerceTypes==="array")&&D(G);l.else(),a(n),l.endIf(),l.if(m._`${M} !== undefined`,()=>{l.assign($,M),k(n,M)});function D(G){switch(G){case"string":l.elseIf(m._`${C} == "number" || ${C} == "boolean"`).assign(M,m._`"" + ${$}`).elseIf(m._`${$} === null`).assign(M,m._`""`);return;case"number":l.elseIf(m._`${C} == "boolean" || ${$} === null
              || (${C} == "string" && ${$} && ${$} == +${$})`).assign(M,m._`+${$}`);return;case"integer":l.elseIf(m._`${C} === "boolean" || ${$} === null
              || (${C} === "string" && ${$} && ${$} == +${$} && !(${$} % 1))`).assign(M,m._`+${$}`);return;case"boolean":l.elseIf(m._`${$} === "false" || ${$} === 0 || ${$} === null`).assign(M,!1).elseIf(m._`${$} === "true" || ${$} === 1`).assign(M,!0);return;case"null":l.elseIf(m._`${$} === "" || ${$} === 0 || ${$} === false`),l.assign(M,null);return;case"array":l.elseIf(m._`${C} === "string" || ${C} === "number"
              || ${C} === "boolean" || ${$} === null`).assign(M,m._`[${$}]`)}}}function k({gen:n,parentData:r,parentDataProperty:d},l){n.if(m._`${r} !== undefined`,()=>n.assign(m._`${r}[${d}]`,l))}function S(n,r,d,l=i.Correct){let $=l===i.Correct?m.operators.EQ:m.operators.NEQ,b;switch(n){case"null":return m._`${r} ${$} null`;case"array":b=m._`Array.isArray(${r})`;break;case"object":b=m._`${r} && typeof ${r} == "object" && !Array.isArray(${r})`;break;case"integer":b=C(m._`!(${r} % 1) && !isNaN(${r})`);break;case"number":b=C();break;default:return m._`typeof ${r} ${$} ${n}`}return l===i.Correct?b:m.not(b);function C(M=m.nil){return m.and(m._`typeof ${r} == "number"`,M,d?m._`isFinite(${r})`:m.nil)}}e.checkDataType=S;function _(n,r,d,l){if(n.length===1)return S(n[0],r,d,l);let $,b=w.toHash(n);if(b.array&&b.object){let C=m._`typeof ${r} != "object"`;$=b.null?C:m._`!${r} || ${C}`,delete b.null,delete b.array,delete b.object}else $=m.nil;b.number&&delete b.integer;for(let C in b)$=m.and($,S(C,r,d,l));return $}e.checkDataTypes=_;var c={message:({schema:n})=>`must be ${n}`,params:({schema:n,schemaValue:r})=>typeof n=="string"?m._`{type: ${n}}`:m._`{type: ${r}}`};function a(n){let r=s(n);h.reportError(r,c)}e.reportTypeError=a;function s(n){let{gen:r,data:d,schema:l}=n,$=w.schemaRefOrVal(n,l,"type");return{gen:r,keyword:"type",data:d,schema:l.type,schemaCode:$,schemaValue:$,parentSchema:l,params:{},it:n}}}),at=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Z(),p=K();function h(w,i){let{properties:y,items:o}=w.schema;if(i==="object"&&y)for(let f in y)m(w,f,y[f].default);else i==="array"&&Array.isArray(o)&&o.forEach((f,g)=>m(w,g,f.default))}e.assignDefaults=h;function m(w,i,y){let{gen:o,compositeRule:f,data:g,opts:v}=w;if(y===void 0)return;let E=t._`${g}${t.getProperty(i)}`;if(f){p.checkStrictMode(w,`default is ignored for: ${E}`);return}let k=t._`${E} === undefined`;v.useDefaults==="empty"&&(k=t._`${k} || ${E} === null || ${E} === ""`),o.if(k,t._`${E} = ${t.stringify(y)}`)}}),ue=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Z(),p=K(),h=ce(),m=K();function w(n,r){let{gen:d,data:l,it:$}=n;d.if(v(d,l,r,$.opts.ownProperties),()=>{n.setParams({missingProperty:t._`${r}`},!0),n.error()})}e.checkReportMissingProp=w;function i({gen:n,data:r,it:{opts:d}},l,$){return t.or(...l.map(b=>t.and(v(n,r,b,d.ownProperties),t._`${$} = ${b}`)))}e.checkMissingProp=i;function y(n,r){n.setParams({missingProperty:r},!0),n.error()}e.reportMissingProp=y;function o(n){return n.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:t._`Object.prototype.hasOwnProperty`})}e.hasPropFunc=o;function f(n,r,d){return t._`${o(n)}.call(${r}, ${d})`}e.isOwnProperty=f;function g(n,r,d,l){let $=t._`${r}${t.getProperty(d)} !== undefined`;return l?t._`${$} && ${f(n,r,d)}`:$}e.propertyInData=g;function v(n,r,d,l){let $=t._`${r}${t.getProperty(d)} === undefined`;return l?t.or($,t.not(f(n,r,d))):$}e.noPropertyInData=v;function E(n){return n?Object.keys(n).filter(r=>r!=="__proto__"):[]}e.allSchemaProperties=E;function k(n,r){return E(r).filter(d=>!p.alwaysValidSchema(n,r[d]))}e.schemaProperties=k;function S({schemaCode:n,data:r,it:{gen:d,topSchemaRef:l,schemaPath:$,errorPath:b},it:C},M,D,G){let U=G?t._`${n}, ${r}, ${l}${$}`:r,L=[[h.default.instancePath,t.strConcat(h.default.instancePath,b)],[h.default.parentData,C.parentData],[h.default.parentDataProperty,C.parentDataProperty],[h.default.rootData,h.default.rootData]];C.opts.dynamicRef&&L.push([h.default.dynamicAnchors,h.default.dynamicAnchors]);let X=t._`${U}, ${d.object(...L)}`;return D!==t.nil?t._`${M}.call(${D}, ${X})`:t._`${M}(${X})`}e.callValidateCode=S;var _=t._`new RegExp`;function c({gen:n,it:{opts:r}},d){let l=r.unicodeRegExp?"u":"",{regExp:$}=r.code,b=$(d,l);return n.scopeValue("pattern",{key:b.toString(),ref:b,code:t._`${$.code==="new RegExp"?_:m.useFunc(n,$)}(${d}, ${l})`})}e.usePattern=c;function a(n){let{gen:r,data:d,keyword:l,it:$}=n,b=r.name("valid");if($.allErrors){let M=r.let("valid",!0);return C(()=>r.assign(M,!1)),M}return r.var(b,!0),C(()=>r.break()),b;function C(M){let D=r.const("len",t._`${d}.length`);r.forRange("i",0,D,G=>{n.subschema({keyword:l,dataProp:G,dataPropType:p.Type.Num},b),r.if(t.not(b),M)})}}e.validateArray=a;function s(n){let{gen:r,schema:d,keyword:l,it:$}=n;if(!Array.isArray(d))throw new Error("ajv implementation error");if(d.some(M=>p.alwaysValidSchema($,M))&&!$.opts.unevaluated)return;let b=r.let("valid",!1),C=r.name("_valid");r.block(()=>d.forEach((M,D)=>{let G=n.subschema({keyword:l,schemaProp:D,compositeRule:!0},C);r.assign(b,t._`${b} || ${C}`),!n.mergeValidEvaluated(G,C)&&r.if(t.not(b))})),n.result(b,()=>n.reset(),()=>n.error(!0))}e.validateUnion=s}),nt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Z(),p=ce(),h=ue(),m=ge();function w(k,S){let{gen:_,keyword:c,schema:a,parentSchema:s,it:n}=k,r=S.macro.call(n.self,a,s,n),d=g(_,c,r);n.opts.validateSchema!==!1&&n.self.validateSchema(r,!0);let l=_.name("valid");k.subschema({schema:r,schemaPath:t.nil,errSchemaPath:`${n.errSchemaPath}/${c}`,topSchemaRef:d,compositeRule:!0},l),k.pass(l,()=>k.error(!0))}e.macroKeywordCode=w;function i(k,S){var _;let{gen:c,keyword:a,schema:s,parentSchema:n,$data:r,it:d}=k;f(d,S);let l=!r&&S.compile?S.compile.call(d.self,s,n,d):S.validate,$=g(c,a,l),b=c.let("valid");k.block$data(b,C),k.ok((_=S.valid)!==null&&_!==void 0?_:b);function C(){if(S.errors===!1)G(),S.modifying&&y(k),U(()=>k.error());else{let L=S.async?M():D();S.modifying&&y(k),U(()=>o(k,L))}}function M(){let L=c.let("ruleErrs",null);return c.try(()=>G(t._`await `),X=>c.assign(b,!1).if(t._`${X} instanceof ${d.ValidationError}`,()=>c.assign(L,t._`${X}.errors`),()=>c.throw(X))),L}function D(){let L=t._`${$}.errors`;return c.assign(L,null),G(t.nil),L}function G(L=S.async?t._`await `:t.nil){let X=d.opts.passContext?p.default.this:p.default.self,ie=!("compile"in S&&!r||S.schema===!1);c.assign(b,t._`${L}${h.callValidateCode(k,$,X,ie)}`,S.modifying)}function U(L){var X;c.if(t.not((X=S.valid)!==null&&X!==void 0?X:b),L)}}e.funcKeywordCode=i;function y(k){let{gen:S,data:_,it:c}=k;S.if(c.parentData,()=>S.assign(_,t._`${c.parentData}[${c.parentDataProperty}]`))}function o(k,S){let{gen:_}=k;_.if(t._`Array.isArray(${S})`,()=>{_.assign(p.default.vErrors,t._`${p.default.vErrors} === null ? ${S} : ${p.default.vErrors}.concat(${S})`).assign(p.default.errors,t._`${p.default.vErrors}.length`),m.extendErrors(k)},()=>k.error())}function f({schemaEnv:k},S){if(S.async&&!k.$async)throw new Error("async keyword in sync schema")}function g(k,S,_){if(_===void 0)throw new Error(`keyword "${S}" failed to compile`);return k.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:t.stringify(_)})}function v(k,S,_=!1){return!S.length||S.some(c=>c==="array"?Array.isArray(k):c==="object"?k&&typeof k=="object"&&!Array.isArray(k):typeof k==c||_&&typeof k>"u")}e.validSchemaType=v;function E({schema:k,opts:S,self:_,errSchemaPath:c},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");let n=a.dependencies;if(n!=null&&n.some(r=>!Object.prototype.hasOwnProperty.call(k,r)))throw new Error(`parent schema must have dependencies of ${s}: ${n.join(",")}`);if(a.validateSchema&&!a.validateSchema(k[s])){let r=`keyword "${s}" value is invalid at path "${c}": `+_.errorsText(a.validateSchema.errors);if(S.validateSchema==="log")_.logger.error(r);else throw new Error(r)}}e.validateKeywordUsage=E}),st=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Z(),p=K();function h(i,{keyword:y,schemaProp:o,schema:f,schemaPath:g,errSchemaPath:v,topSchemaRef:E}){if(y!==void 0&&f!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(y!==void 0){let k=i.schema[y];return o===void 0?{schema:k,schemaPath:t._`${i.schemaPath}${t.getProperty(y)}`,errSchemaPath:`${i.errSchemaPath}/${y}`}:{schema:k[o],schemaPath:t._`${i.schemaPath}${t.getProperty(y)}${t.getProperty(o)}`,errSchemaPath:`${i.errSchemaPath}/${y}/${p.escapeFragment(o)}`}}if(f!==void 0){if(g===void 0||v===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:E,errSchemaPath:v}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=h;function m(i,y,{dataProp:o,dataPropType:f,data:g,dataTypes:v,propertyName:E}){if(g!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:k}=y;if(o!==void 0){let{errorPath:_,dataPathArr:c,opts:a}=y,s=k.let("data",t._`${y.data}${t.getProperty(o)}`,!0);S(s),i.errorPath=t.str`${_}${p.getErrorPath(o,f,a.jsPropertySyntax)}`,i.parentDataProperty=t._`${o}`,i.dataPathArr=[...c,i.parentDataProperty]}if(g!==void 0){let _=g instanceof t.Name?g:k.let("data",g,!0);S(_),E!==void 0&&(i.propertyName=E)}v&&(i.dataTypes=v);function S(_){i.data=_,i.dataLevel=y.dataLevel+1,i.dataTypes=[],y.definedProperties=new Set,i.parentData=y.data,i.dataNames=[...y.dataNames,_]}}e.extendSubschemaData=m;function w(i,{jtdDiscriminator:y,jtdMetadata:o,compositeRule:f,createErrors:g,allErrors:v}){f!==void 0&&(i.compositeRule=f),g!==void 0&&(i.createErrors=g),v!==void 0&&(i.allErrors=v),i.jtdDiscriminator=y,i.jtdMetadata=o}e.extendSubschemaMode=w}),Ue=J((e,t)=>{t.exports=function p(h,m){if(h===m)return!0;if(h&&m&&typeof h=="object"&&typeof m=="object"){if(h.constructor!==m.constructor)return!1;var w,i,y;if(Array.isArray(h)){if(w=h.length,w!=m.length)return!1;for(i=w;i--!==0;)if(!p(h[i],m[i]))return!1;return!0}if(h.constructor===RegExp)return h.source===m.source&&h.flags===m.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===m.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===m.toString();if(y=Object.keys(h),w=y.length,w!==Object.keys(m).length)return!1;for(i=w;i--!==0;)if(!Object.prototype.hasOwnProperty.call(m,y[i]))return!1;for(i=w;i--!==0;){var o=y[i];if(!p(h[o],m[o]))return!1}return!0}return h!==h&&m!==m}}),it=J((e,t)=>{var p=t.exports=function(w,i,y){typeof i=="function"&&(y=i,i={}),y=i.cb||y;var o=typeof y=="function"?y:y.pre||function(){},f=y.post||function(){};h(i,o,f,w,"",w)};p.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},p.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},p.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},p.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function h(w,i,y,o,f,g,v,E,k,S){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,f,g,v,E,k,S);for(var _ in o){var c=o[_];if(Array.isArray(c)){if(_ in p.arrayKeywords)for(var a=0;a<c.length;a++)h(w,i,y,c[a],f+"/"+_+"/"+a,g,f,_,o,a)}else if(_ in p.propsKeywords){if(c&&typeof c=="object")for(var s in c)h(w,i,y,c[s],f+"/"+_+"/"+m(s),g,f,_,o,s)}else(_ in p.keywords||w.allKeys&&!(_ in p.skipKeywords))&&h(w,i,y,c,f+"/"+_,g,f,_,o)}y(o,f,g,v,E,k,S)}}function m(w){return w.replace(/~/g,"~0").replace(/\//g,"~1")}}),ve=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=K(),p=Ue(),h=it(),m=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function w(c,a=!0){return typeof c=="boolean"?!0:a===!0?!y(c):a?o(c)<=a:!1}e.inlineRef=w;var i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function y(c){for(let a in c){if(i.has(a))return!0;let s=c[a];if(Array.isArray(s)&&s.some(y)||typeof s=="object"&&y(s))return!0}return!1}function o(c){let a=0;for(let s in c){if(s==="$ref")return 1/0;if(a++,!m.has(s)&&(typeof c[s]=="object"&&t.eachItem(c[s],n=>a+=o(n)),a===1/0))return 1/0}return a}function f(c,a="",s){s!==!1&&(a=E(a));let n=c.parse(a);return g(c,n)}e.getFullPath=f;function g(c,a){return c.serialize(a).split("#")[0]+"#"}e._getFullPath=g;var v=/#\/?$/;function E(c){return c?c.replace(v,""):""}e.normalizeId=E;function k(c,a,s){return s=E(s),c.resolve(a,s)}e.resolveUrl=k;var S=/^[a-z_][-a-z0-9._]*$/i;function _(c,a){if(typeof c=="boolean")return{};let{schemaId:s,uriResolver:n}=this.opts,r=E(c[s]||a),d={"":r},l=f(n,r,!1),$={},b=new Set;return h(c,{allKeys:!0},(D,G,U,L)=>{if(L===void 0)return;let X=l+G,ie=d[L];typeof D[s]=="string"&&(ie=de.call(this,D[s])),fe.call(this,D.$anchor),fe.call(this,D.$dynamicAnchor),d[G]=ie;function de(Y){let V=this.opts.uriResolver.resolve;if(Y=E(ie?V(ie,Y):Y),b.has(Y))throw M(Y);b.add(Y);let N=this.refs[Y];return typeof N=="string"&&(N=this.refs[N]),typeof N=="object"?C(D,N.schema,Y):Y!==E(X)&&(Y[0]==="#"?(C(D,$[Y],Y),$[Y]=D):this.refs[Y]=X),Y}function fe(Y){if(typeof Y=="string"){if(!S.test(Y))throw new Error(`invalid anchor "${Y}"`);de.call(this,`#${Y}`)}}}),$;function C(D,G,U){if(G!==void 0&&!p(D,G))throw M(U)}function M(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=_}),we=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=rt(),p=$e(),h=qe(),m=$e(),w=at(),i=nt(),y=st(),o=Z(),f=ce(),g=ve(),v=K(),E=ge();function k(j){if(l(j)&&(b(j),d(j))){a(j);return}S(j,()=>t.topBoolOrEmptySchema(j))}e.validateFunctionCode=k;function S({gen:j,validateName:O,schema:R,schemaEnv:A,opts:q},F){q.code.es5?j.func(O,o._`${f.default.data}, ${f.default.valCxt}`,A.$async,()=>{j.code(o._`"use strict"; ${n(R,q)}`),c(j,q),j.code(F)}):j.func(O,o._`${f.default.data}, ${_(q)}`,A.$async,()=>j.code(n(R,q)).code(F))}function _(j){return o._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${j.dynamicRef?o._`, ${f.default.dynamicAnchors}={}`:o.nil}}={}`}function c(j,O){j.if(f.default.valCxt,()=>{j.var(f.default.instancePath,o._`${f.default.valCxt}.${f.default.instancePath}`),j.var(f.default.parentData,o._`${f.default.valCxt}.${f.default.parentData}`),j.var(f.default.parentDataProperty,o._`${f.default.valCxt}.${f.default.parentDataProperty}`),j.var(f.default.rootData,o._`${f.default.valCxt}.${f.default.rootData}`),O.dynamicRef&&j.var(f.default.dynamicAnchors,o._`${f.default.valCxt}.${f.default.dynamicAnchors}`)},()=>{j.var(f.default.instancePath,o._`""`),j.var(f.default.parentData,o._`undefined`),j.var(f.default.parentDataProperty,o._`undefined`),j.var(f.default.rootData,f.default.data),O.dynamicRef&&j.var(f.default.dynamicAnchors,o._`{}`)})}function a(j){let{schema:O,opts:R,gen:A}=j;S(j,()=>{R.$comment&&O.$comment&&L(j),D(j),A.let(f.default.vErrors,null),A.let(f.default.errors,0),R.unevaluated&&s(j),C(j),X(j)})}function s(j){let{gen:O,validateName:R}=j;j.evaluated=O.const("evaluated",o._`${R}.evaluated`),O.if(o._`${j.evaluated}.dynamicProps`,()=>O.assign(o._`${j.evaluated}.props`,o._`undefined`)),O.if(o._`${j.evaluated}.dynamicItems`,()=>O.assign(o._`${j.evaluated}.items`,o._`undefined`))}function n(j,O){let R=typeof j=="object"&&j[O.schemaId];return R&&(O.code.source||O.code.process)?o._`/*# sourceURL=${R} */`:o.nil}function r(j,O){if(l(j)&&(b(j),d(j))){$(j,O);return}t.boolOrEmptySchema(j,O)}function d({schema:j,self:O}){if(typeof j=="boolean")return!j;for(let R in j)if(O.RULES.all[R])return!0;return!1}function l(j){return typeof j.schema!="boolean"}function $(j,O){let{schema:R,gen:A,opts:q}=j;q.$comment&&R.$comment&&L(j),G(j),U(j);let F=A.const("_errs",f.default.errors);C(j,F),A.var(O,o._`${F} === ${f.default.errors}`)}function b(j){v.checkUnknownRules(j),M(j)}function C(j,O){if(j.opts.jtd)return de(j,[],!1,O);let R=p.getSchemaTypes(j.schema),A=p.coerceAndCheckDataType(j,R);de(j,R,!A,O)}function M(j){let{schema:O,errSchemaPath:R,opts:A,self:q}=j;O.$ref&&A.ignoreKeywordsWithRef&&v.schemaHasRulesButRef(O,q.RULES)&&q.logger.warn(`$ref: keywords ignored in schema at path "${R}"`)}function D(j){let{schema:O,opts:R}=j;O.default!==void 0&&R.useDefaults&&R.strictSchema&&v.checkStrictMode(j,"default is ignored in the schema root")}function G(j){let O=j.schema[j.opts.schemaId];O&&(j.baseId=g.resolveUrl(j.opts.uriResolver,j.baseId,O))}function U(j){if(j.schema.$async&&!j.schemaEnv.$async)throw new Error("async schema in sync schema")}function L({gen:j,schemaEnv:O,schema:R,errSchemaPath:A,opts:q}){let F=R.$comment;if(q.$comment===!0)j.code(o._`${f.default.self}.logger.log(${F})`);else if(typeof q.$comment=="function"){let ee=o.str`${A}/$comment`,le=j.scopeValue("root",{ref:O.root});j.code(o._`${f.default.self}.opts.$comment(${F}, ${ee}, ${le}.schema)`)}}function X(j){let{gen:O,schemaEnv:R,validateName:A,ValidationError:q,opts:F}=j;R.$async?O.if(o._`${f.default.errors} === 0`,()=>O.return(f.default.data),()=>O.throw(o._`new ${q}(${f.default.vErrors})`)):(O.assign(o._`${A}.errors`,f.default.vErrors),F.unevaluated&&ie(j),O.return(o._`${f.default.errors} === 0`))}function ie({gen:j,evaluated:O,props:R,items:A}){R instanceof o.Name&&j.assign(o._`${O}.props`,R),A instanceof o.Name&&j.assign(o._`${O}.items`,A)}function de(j,O,R,A){let{gen:q,schema:F,data:ee,allErrors:le,opts:ne,self:se}=j,{RULES:te}=se;if(F.$ref&&(ne.ignoreKeywordsWithRef||!v.schemaHasRulesButRef(F,te))){q.block(()=>z(j,"$ref",te.all.$ref.definition));return}ne.jtd||Y(j,O),q.block(()=>{for(let oe of te.rules)he(oe);he(te.post)});function he(oe){h.shouldUseGroup(F,oe)&&(oe.type?(q.if(m.checkDataType(oe.type,ee,ne.strictNumbers)),fe(j,oe),O.length===1&&O[0]===oe.type&&R&&(q.else(),m.reportTypeError(j)),q.endIf()):fe(j,oe),le||q.if(o._`${f.default.errors} === ${A||0}`))}}function fe(j,O){let{gen:R,schema:A,opts:{useDefaults:q}}=j;q&&w.assignDefaults(j,O.type),R.block(()=>{for(let F of O.rules)h.shouldUseRule(A,F)&&z(j,F.keyword,F.definition,O.type)})}function Y(j,O){j.schemaEnv.meta||!j.opts.strictTypes||(V(j,O),!j.opts.allowUnionTypes&&N(j,O),I(j,j.dataTypes))}function V(j,O){if(O.length){if(!j.dataTypes.length){j.dataTypes=O;return}O.forEach(R=>{u(j.dataTypes,R)||T(j,`type "${R}" not allowed by context "${j.dataTypes.join(",")}"`)}),P(j,O)}}function N(j,O){O.length>1&&!(O.length===2&&O.includes("null"))&&T(j,"use allowUnionTypes to allow union type keyword")}function I(j,O){let R=j.self.RULES.all;for(let A in R){let q=R[A];if(typeof q=="object"&&h.shouldUseRule(j.schema,q)){let{type:F}=q.definition;F.length&&!F.some(ee=>x(O,ee))&&T(j,`missing type "${F.join(",")}" for keyword "${A}"`)}}}function x(j,O){return j.includes(O)||O==="number"&&j.includes("integer")}function u(j,O){return j.includes(O)||O==="integer"&&j.includes("number")}function P(j,O){let R=[];for(let A of j.dataTypes)u(O,A)?R.push(A):O.includes("integer")&&A==="number"&&R.push("integer");j.dataTypes=R}function T(j,O){let R=j.schemaEnv.baseId+j.errSchemaPath;O+=` at "${R}" (strictTypes)`,v.checkStrictMode(j,O,j.opts.strictTypes)}class W{constructor(O,R,A){if(i.validateKeywordUsage(O,R,A),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=A,this.data=O.data,this.schema=O.schema[A],this.$data=R.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=v.schemaRefOrVal(O,this.schema,A,this.$data),this.schemaType=R.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=R,this.$data)this.schemaCode=O.gen.const("vSchema",Q(this.$data,O));else if(this.schemaCode=this.schemaValue,!i.validSchemaType(this.schema,R.schemaType,R.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify(R.schemaType)}`);("code"in R?R.trackErrors:R.errors!==!1)&&(this.errsCount=O.gen.const("_errs",f.default.errors))}result(O,R,A){this.failResult(o.not(O),R,A)}failResult(O,R,A){this.gen.if(O),A?A():this.error(),R?(this.gen.else(),R(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,R){this.failResult(o.not(O),void 0,R)}fail(O){if(O===void 0){this.error(),!this.allErrors&&this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);let{schemaCode:R}=this;this.fail(o._`${R} !== undefined && (${o.or(this.invalid$data(),O)})`)}error(O,R,A){if(R){this.setParams(R),this._error(O,A),this.setParams({});return}this._error(O,A)}_error(O,R){(O?E.reportExtraError:E.reportError)(this,this.def.error,R)}$dataError(){E.reportError(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');E.resetErrorsCount(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,R){R?Object.assign(this.params,O):this.params=O}block$data(O,R,A=o.nil){this.gen.block(()=>{this.check$data(O,A),R()})}check$data(O=o.nil,R=o.nil){if(!this.$data)return;let{gen:A,schemaCode:q,schemaType:F,def:ee}=this;A.if(o.or(o._`${q} === undefined`,R)),O!==o.nil&&A.assign(O,!0),(F.length||ee.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),O!==o.nil&&A.assign(O,!1)),A.else()}invalid$data(){let{gen:O,schemaCode:R,schemaType:A,def:q,it:F}=this;return o.or(ee(),le());function ee(){if(A.length){if(!(R instanceof o.Name))throw new Error("ajv implementation error");let ne=Array.isArray(A)?A:[A];return o._`${m.checkDataTypes(ne,R,F.opts.strictNumbers,m.DataType.Wrong)}`}return o.nil}function le(){if(q.validateSchema){let ne=O.scopeValue("validate$data",{ref:q.validateSchema});return o._`!${ne}(${R})`}return o.nil}}subschema(O,R){let A=y.getSubschema(this.it,O);y.extendSubschemaData(A,this.it,O),y.extendSubschemaMode(A,O);let q={...this.it,...A,items:void 0,props:void 0};return r(q,R),q}mergeEvaluated(O,R){let{it:A,gen:q}=this;A.opts.unevaluated&&(A.props!==!0&&O.props!==void 0&&(A.props=v.mergeEvaluated.props(q,O.props,A.props,R)),A.items!==!0&&O.items!==void 0&&(A.items=v.mergeEvaluated.items(q,O.items,A.items,R)))}mergeValidEvaluated(O,R){let{it:A,gen:q}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return q.if(R,()=>this.mergeEvaluated(O,o.Name)),!0}}e.KeywordCxt=W;function z(j,O,R,A){let q=new W(j,R,O);"code"in R?R.code(q,A):q.$data&&R.validate?i.funcKeywordCode(q,R):"macro"in R?i.macroKeywordCode(q,R):(R.compile||R.validate)&&i.funcKeywordCode(q,R)}var B=/^\/(?:[^~]|~0|~1)*$/,H=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Q(j,{dataLevel:O,dataNames:R,dataPathArr:A}){let q,F;if(j==="")return f.default.rootData;if(j[0]==="/"){if(!B.test(j))throw new Error(`Invalid JSON-pointer: ${j}`);q=j,F=f.default.rootData}else{let se=H.exec(j);if(!se)throw new Error(`Invalid JSON-pointer: ${j}`);let te=+se[1];if(q=se[2],q==="#"){if(te>=O)throw new Error(ne("property/index",te));return A[O-te]}if(te>O)throw new Error(ne("data",te));if(F=R[O-te],!q)return F}let ee=F,le=q.split("/");for(let se of le)se&&(F=o._`${F}${o.getProperty(v.unescapeJsonPointer(se))}`,ee=o._`${ee} && ${F}`);return ee;function ne(se,te){return`Cannot access ${se} ${te} levels up, current level is ${O}`}}e.getData=Q}),Oe=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});class t extends Error{constructor(h){super("validation failed"),this.errors=h,this.ajv=this.validation=!0}}e.default=t}),_e=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ve();class p extends Error{constructor(m,w,i,y){super(y||`can't resolve reference ${i} from id ${w}`),this.missingRef=t.resolveUrl(m,w,i),this.missingSchema=t.normalizeId(t.getFullPath(m,this.missingRef))}}e.default=p}),Ce=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Z(),p=Oe(),h=ce(),m=ve(),w=K(),i=we();class y{constructor(s){var n;this.refs={},this.dynamicAnchors={};let r;typeof s.schema=="object"&&(r=s.schema),this.schema=s.schema,this.schemaId=s.schemaId,this.root=s.root||this,this.baseId=(n=s.baseId)!==null&&n!==void 0?n:m.normalizeId(r==null?void 0:r[s.schemaId||"$id"]),this.schemaPath=s.schemaPath,this.localRefs=s.localRefs,this.meta=s.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}e.SchemaEnv=y;function o(a){let s=v.call(this,a);if(s)return s;let n=m.getFullPath(this.opts.uriResolver,a.root.baseId),{es5:r,lines:d}=this.opts.code,{ownProperties:l}=this.opts,$=new t.CodeGen(this.scope,{es5:r,lines:d,ownProperties:l}),b;a.$async&&(b=$.scopeValue("Error",{ref:p.default,code:t._`require("ajv/dist/runtime/validation_error").default`}));let C=$.scopeName("validate");a.validateName=C;let M={gen:$,allErrors:this.opts.allErrors,data:h.default.data,parentData:h.default.parentData,parentDataProperty:h.default.parentDataProperty,dataNames:[h.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:$.scopeValue("schema",this.opts.code.source===!0?{ref:a.schema,code:t.stringify(a.schema)}:{ref:a.schema}),validateName:C,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:n,baseId:a.baseId||n,schemaPath:t.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:t._`""`,opts:this.opts,self:this},D;try{this._compilations.add(a),i.validateFunctionCode(M),$.optimize(this.opts.code.optimize);let G=$.toString();D=`${$.scopeRefs(h.default.scope)}return ${G}`,this.opts.code.process&&(D=this.opts.code.process(D,a));let U=new Function(`${h.default.self}`,`${h.default.scope}`,D)(this,this.scope.get());if(this.scope.value(C,{ref:U}),U.errors=null,U.schema=a.schema,U.schemaEnv=a,a.$async&&(U.$async=!0),this.opts.code.source===!0&&(U.source={validateName:C,validateCode:G,scopeValues:$._values}),this.opts.unevaluated){let{props:L,items:X}=M;U.evaluated={props:L instanceof t.Name?void 0:L,items:X instanceof t.Name?void 0:X,dynamicProps:L instanceof t.Name,dynamicItems:X instanceof t.Name},U.source&&(U.source.evaluated=t.stringify(U.evaluated))}return a.validate=U,a}catch(G){throw delete a.validate,delete a.validateName,D&&this.logger.error("Error compiling schema, function code:",D),G}finally{this._compilations.delete(a)}}e.compileSchema=o;function f(a,s,n){var r;n=m.resolveUrl(this.opts.uriResolver,s,n);let d=a.refs[n];if(d)return d;let l=k.call(this,a,n);if(l===void 0){let $=(r=a.localRefs)===null||r===void 0?void 0:r[n],{schemaId:b}=this.opts;$&&(l=new y({schema:$,schemaId:b,root:a,baseId:s}))}if(l!==void 0)return a.refs[n]=g.call(this,l)}e.resolveRef=f;function g(a){return m.inlineRef(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:o.call(this,a)}function v(a){for(let s of this._compilations)if(E(s,a))return s}e.getCompilingSchema=v;function E(a,s){return a.schema===s.schema&&a.root===s.root&&a.baseId===s.baseId}function k(a,s){let n;for(;typeof(n=this.refs[s])=="string";)s=n;return n||this.schemas[s]||S.call(this,a,s)}function S(a,s){let n=this.opts.uriResolver.parse(s),r=m._getFullPath(this.opts.uriResolver,n),d=m.getFullPath(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&r===d)return c.call(this,n,a);let l=m.normalizeId(r),$=this.refs[l]||this.schemas[l];if(typeof $=="string"){let b=S.call(this,a,$);return typeof(b==null?void 0:b.schema)!="object"?void 0:c.call(this,n,b)}if(typeof($==null?void 0:$.schema)=="object"){if($.validate||o.call(this,$),l===m.normalizeId(s)){let{schema:b}=$,{schemaId:C}=this.opts,M=b[C];return M&&(d=m.resolveUrl(this.opts.uriResolver,d,M)),new y({schema:b,schemaId:C,root:a,baseId:d})}return c.call(this,n,$)}}e.resolveSchema=S;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function c(a,{baseId:s,schema:n,root:r}){var d;if(((d=a.fragment)===null||d===void 0?void 0:d[0])!=="/")return;for(let b of a.fragment.slice(1).split("/")){if(typeof n=="boolean")return;let C=n[w.unescapeFragment(b)];if(C===void 0)return;n=C;let M=typeof n=="object"&&n[this.opts.schemaId];!_.has(b)&&M&&(s=m.resolveUrl(this.opts.uriResolver,s,M))}let l;if(typeof n!="boolean"&&n.$ref&&!w.schemaHasRulesButRef(n,this.RULES)){let b=m.resolveUrl(this.opts.uriResolver,s,n.$ref);l=S.call(this,r,b)}let{schemaId:$}=this.opts;if(l=l||new y({schema:n,schemaId:$,root:r,baseId:s}),l.schema!==l.root.schema)return l}}),ot=J((e,t)=>{t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),lt=J((e,t)=>{var p={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:p}}),ut=J((e,t)=>{var{HEX:p}=lt(),h=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function m(a){if(f(a,".")<3)return{host:a,isIPV4:!1};let s=a.match(h)||[],[n]=s;return n?{host:o(n,"."),isIPV4:!0}:{host:a,isIPV4:!1}}function w(a,s=!1){let n="",r=!0;for(let d of a){if(p[d]===void 0)return;d!=="0"&&r===!0&&(r=!1),r||(n+=d)}return s&&n.length===0&&(n="0"),n}function i(a){let s=0,n={error:!1,address:"",zone:""},r=[],d=[],l=!1,$=!1,b=!1;function C(){if(d.length){if(l===!1){let M=w(d);if(M!==void 0)r.push(M);else return n.error=!0,!1}d.length=0}return!0}for(let M=0;M<a.length;M++){let D=a[M];if(!(D==="["||D==="]"))if(D===":"){if($===!0&&(b=!0),!C())break;if(s++,r.push(":"),s>7){n.error=!0;break}M-1>=0&&a[M-1]===":"&&($=!0);continue}else if(D==="%"){if(!C())break;l=!0}else{d.push(D);continue}}return d.length&&(l?n.zone=d.join(""):b?r.push(d.join("")):r.push(w(d))),n.address=r.join(""),n}function y(a){if(f(a,":")<2)return{host:a,isIPV6:!1};let s=i(a);if(s.error)return{host:a,isIPV6:!1};{let{address:n,address:r}=s;return s.zone&&(n+="%"+s.zone,r+="%25"+s.zone),{host:n,escapedHost:r,isIPV6:!0}}}function o(a,s){let n="",r=!0,d=a.length;for(let l=0;l<d;l++){let $=a[l];$==="0"&&r?(l+1<=d&&a[l+1]===s||l+1===d)&&(n+=$,r=!1):($===s?r=!0:r=!1,n+=$)}return n}function f(a,s){let n=0;for(let r=0;r<a.length;r++)a[r]===s&&n++;return n}var g=/^\.\.?\//u,v=/^\/\.(?:\/|$)/u,E=/^\/\.\.(?:\/|$)/u,k=/^\/?(?:.|\n)*?(?=\/|$)/u;function S(a){let s=[];for(;a.length;)if(a.match(g))a=a.replace(g,"");else if(a.match(v))a=a.replace(v,"/");else if(a.match(E))a=a.replace(E,"/"),s.pop();else if(a==="."||a==="..")a="";else{let n=a.match(k);if(n){let r=n[0];a=a.slice(r.length),s.push(r)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function _(a,s){let n=s!==!0?escape:unescape;return a.scheme!==void 0&&(a.scheme=n(a.scheme)),a.userinfo!==void 0&&(a.userinfo=n(a.userinfo)),a.host!==void 0&&(a.host=n(a.host)),a.path!==void 0&&(a.path=n(a.path)),a.query!==void 0&&(a.query=n(a.query)),a.fragment!==void 0&&(a.fragment=n(a.fragment)),a}function c(a){let s=[];if(a.userinfo!==void 0&&(s.push(a.userinfo),s.push("@")),a.host!==void 0){let n=unescape(a.host),r=m(n);if(r.isIPV4)n=r.host;else{let d=y(r.host);d.isIPV6===!0?n=`[${d.escapedHost}]`:n=a.host}s.push(n)}return(typeof a.port=="number"||typeof a.port=="string")&&(s.push(":"),s.push(String(a.port))),s.length?s.join(""):void 0}t.exports={recomposeAuthority:c,normalizeComponentEncoding:_,removeDotSegments:S,normalizeIPv4:m,normalizeIPv6:y,stringArrayToHexStripped:w}}),dt=J((e,t)=>{var p=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,h=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function m(r){return typeof r.secure=="boolean"?r.secure:String(r.scheme).toLowerCase()==="wss"}function w(r){return r.host||(r.error=r.error||"HTTP URIs must have a host."),r}function i(r){let d=String(r.scheme).toLowerCase()==="https";return(r.port===(d?443:80)||r.port==="")&&(r.port=void 0),r.path||(r.path="/"),r}function y(r){return r.secure=m(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r}function o(r){if((r.port===(m(r)?443:80)||r.port==="")&&(r.port=void 0),typeof r.secure=="boolean"&&(r.scheme=r.secure?"wss":"ws",r.secure=void 0),r.resourceName){let[d,l]=r.resourceName.split("?");r.path=d&&d!=="/"?d:void 0,r.query=l,r.resourceName=void 0}return r.fragment=void 0,r}function f(r,d){if(!r.path)return r.error="URN can not be parsed",r;let l=r.path.match(h);if(l){let $=d.scheme||r.scheme||"urn";r.nid=l[1].toLowerCase(),r.nss=l[2];let b=`${$}:${d.nid||r.nid}`,C=n[b];r.path=void 0,C&&(r=C.parse(r,d))}else r.error=r.error||"URN can not be parsed.";return r}function g(r,d){let l=d.scheme||r.scheme||"urn",$=r.nid.toLowerCase(),b=`${l}:${d.nid||$}`,C=n[b];C&&(r=C.serialize(r,d));let M=r,D=r.nss;return M.path=`${$||d.nid}:${D}`,d.skipEscape=!0,M}function v(r,d){let l=r;return l.uuid=l.nss,l.nss=void 0,!d.tolerant&&(!l.uuid||!p.test(l.uuid))&&(l.error=l.error||"UUID is not valid."),l}function E(r){let d=r;return d.nss=(r.uuid||"").toLowerCase(),d}var k={scheme:"http",domainHost:!0,parse:w,serialize:i},S={scheme:"https",domainHost:k.domainHost,parse:w,serialize:i},_={scheme:"ws",domainHost:!0,parse:y,serialize:o},c={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},a={scheme:"urn",parse:f,serialize:g,skipNormalize:!0},s={scheme:"urn:uuid",parse:v,serialize:E,skipNormalize:!0},n={http:k,https:S,ws:_,wss:c,urn:a,"urn:uuid":s};t.exports=n}),ft=J((e,t)=>{var{normalizeIPv6:p,normalizeIPv4:h,removeDotSegments:m,recomposeAuthority:w,normalizeComponentEncoding:i}=ut(),y=dt();function o(s,n){return typeof s=="string"?s=E(c(s,n),n):typeof s=="object"&&(s=c(E(s,n),n)),s}function f(s,n,r){let d=Object.assign({scheme:"null"},r),l=g(c(s,d),c(n,d),d,!0);return E(l,{...d,skipEscape:!0})}function g(s,n,r,d){let l={};return d||(s=c(E(s,r),r),n=c(E(n,r),r)),r=r||{},!r.tolerant&&n.scheme?(l.scheme=n.scheme,l.userinfo=n.userinfo,l.host=n.host,l.port=n.port,l.path=m(n.path||""),l.query=n.query):(n.userinfo!==void 0||n.host!==void 0||n.port!==void 0?(l.userinfo=n.userinfo,l.host=n.host,l.port=n.port,l.path=m(n.path||""),l.query=n.query):(n.path?(n.path.charAt(0)==="/"?l.path=m(n.path):((s.userinfo!==void 0||s.host!==void 0||s.port!==void 0)&&!s.path?l.path="/"+n.path:s.path?l.path=s.path.slice(0,s.path.lastIndexOf("/")+1)+n.path:l.path=n.path,l.path=m(l.path)),l.query=n.query):(l.path=s.path,n.query!==void 0?l.query=n.query:l.query=s.query),l.userinfo=s.userinfo,l.host=s.host,l.port=s.port),l.scheme=s.scheme),l.fragment=n.fragment,l}function v(s,n,r){return typeof s=="string"?(s=unescape(s),s=E(i(c(s,r),!0),{...r,skipEscape:!0})):typeof s=="object"&&(s=E(i(s,!0),{...r,skipEscape:!0})),typeof n=="string"?(n=unescape(n),n=E(i(c(n,r),!0),{...r,skipEscape:!0})):typeof n=="object"&&(n=E(i(n,!0),{...r,skipEscape:!0})),s.toLowerCase()===n.toLowerCase()}function E(s,n){let r={host:s.host,scheme:s.scheme,userinfo:s.userinfo,port:s.port,path:s.path,query:s.query,nid:s.nid,nss:s.nss,uuid:s.uuid,fragment:s.fragment,reference:s.reference,resourceName:s.resourceName,secure:s.secure,error:""},d=Object.assign({},n),l=[],$=y[(d.scheme||r.scheme||"").toLowerCase()];$&&$.serialize&&$.serialize(r,d),r.path!==void 0&&(d.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),d.reference!=="suffix"&&r.scheme&&l.push(r.scheme,":");let b=w(r);if(b!==void 0&&(d.reference!=="suffix"&&l.push("//"),l.push(b),r.path&&r.path.charAt(0)!=="/"&&l.push("/")),r.path!==void 0){let C=r.path;!d.absolutePath&&(!$||!$.absolutePath)&&(C=m(C)),b===void 0&&(C=C.replace(/^\/\//u,"/%2F")),l.push(C)}return r.query!==void 0&&l.push("?",r.query),r.fragment!==void 0&&l.push("#",r.fragment),l.join("")}var k=Array.from({length:127},(s,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n)));function S(s){let n=0;for(let r=0,d=s.length;r<d;++r)if(n=s.charCodeAt(r),n>126||k[n])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function c(s,n){let r=Object.assign({},n),d={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},l=s.indexOf("%")!==-1,$=!1;r.reference==="suffix"&&(s=(r.scheme?r.scheme+":":"")+"//"+s);let b=s.match(_);if(b){if(d.scheme=b[1],d.userinfo=b[3],d.host=b[4],d.port=parseInt(b[5],10),d.path=b[6]||"",d.query=b[7],d.fragment=b[8],isNaN(d.port)&&(d.port=b[5]),d.host){let M=h(d.host);if(M.isIPV4===!1){let D=p(M.host);d.host=D.host.toLowerCase(),$=D.isIPV6}else d.host=M.host,$=!0}d.scheme===void 0&&d.userinfo===void 0&&d.host===void 0&&d.port===void 0&&d.query===void 0&&!d.path?d.reference="same-document":d.scheme===void 0?d.reference="relative":d.fragment===void 0?d.reference="absolute":d.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==d.reference&&(d.error=d.error||"URI is not a "+r.reference+" reference.");let C=y[(r.scheme||d.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!C||!C.unicodeSupport)&&d.host&&(r.domainHost||C&&C.domainHost)&&$===!1&&S(d.host))try{d.host=URL.domainToASCII(d.host.toLowerCase())}catch(M){d.error=d.error||"Host's domain name can not be converted to ASCII: "+M}(!C||C&&!C.skipNormalize)&&(l&&d.scheme!==void 0&&(d.scheme=unescape(d.scheme)),l&&d.host!==void 0&&(d.host=unescape(d.host)),d.path&&(d.path=escape(unescape(d.path))),d.fragment&&(d.fragment=encodeURI(decodeURIComponent(d.fragment)))),C&&C.parse&&C.parse(d,r)}else d.error=d.error||"URI can not be parsed.";return d}var a={SCHEMES:y,normalize:o,resolve:f,resolveComponents:g,equal:v,serialize:E,parse:c};t.exports=a,t.exports.default=a,t.exports.fastUri=a}),ct=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ft();t.code='require("ajv/dist/runtime/uri").default',e.default=t}),ht=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=we();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var p=Z();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var h=Oe(),m=_e(),w=ze(),i=Ce(),y=Z(),o=ve(),f=$e(),g=K(),v=ot(),E=ct(),k=(V,N)=>new RegExp(V,N);k.code="new RegExp";var S=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),c={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},a={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},s=200;function n(V){var N,I,x,u,P,T,W,z,B,H,Q,j,O,R,A,q,F,ee,le,ne,se,te,he,oe,be;let pe=V.strict,Pe=(N=V.code)===null||N===void 0?void 0:N.optimize,Re=Pe===!0||Pe===void 0?1:Pe||0,Ie=(x=(I=V.code)===null||I===void 0?void 0:I.regExp)!==null&&x!==void 0?x:k,Ke=(u=V.uriResolver)!==null&&u!==void 0?u:E.default;return{strictSchema:(T=(P=V.strictSchema)!==null&&P!==void 0?P:pe)!==null&&T!==void 0?T:!0,strictNumbers:(z=(W=V.strictNumbers)!==null&&W!==void 0?W:pe)!==null&&z!==void 0?z:!0,strictTypes:(H=(B=V.strictTypes)!==null&&B!==void 0?B:pe)!==null&&H!==void 0?H:"log",strictTuples:(j=(Q=V.strictTuples)!==null&&Q!==void 0?Q:pe)!==null&&j!==void 0?j:"log",strictRequired:(R=(O=V.strictRequired)!==null&&O!==void 0?O:pe)!==null&&R!==void 0?R:!1,code:V.code?{...V.code,optimize:Re,regExp:Ie}:{optimize:Re,regExp:Ie},loopRequired:(A=V.loopRequired)!==null&&A!==void 0?A:s,loopEnum:(q=V.loopEnum)!==null&&q!==void 0?q:s,meta:(F=V.meta)!==null&&F!==void 0?F:!0,messages:(ee=V.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(le=V.inlineRefs)!==null&&le!==void 0?le:!0,schemaId:(ne=V.schemaId)!==null&&ne!==void 0?ne:"$id",addUsedSchema:(se=V.addUsedSchema)!==null&&se!==void 0?se:!0,validateSchema:(te=V.validateSchema)!==null&&te!==void 0?te:!0,validateFormats:(he=V.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(oe=V.unicodeRegExp)!==null&&oe!==void 0?oe:!0,int32range:(be=V.int32range)!==null&&be!==void 0?be:!0,uriResolver:Ke}}class r{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...n(N)};let{es5:I,lines:x}=this.opts.code;this.scope=new y.ValueScope({scope:{},prefixes:_,es5:I,lines:x}),this.logger=G(N.logger);let u=N.validateFormats;N.validateFormats=!1,this.RULES=w.getRules(),d.call(this,c,N,"NOT SUPPORTED"),d.call(this,a,N,"DEPRECATED","warn"),this._metaOpts=M.call(this),N.formats&&b.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&C.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),$.call(this),N.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:N,meta:I,schemaId:x}=this.opts,u=v;x==="id"&&(u={...v},u.id=u.$id,delete u.$id),I&&N&&this.addMetaSchema(u,u[x],!1)}defaultMeta(){let{meta:N,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[I]||N:void 0}validate(N,I){let x;if(typeof N=="string"){if(x=this.getSchema(N),!x)throw new Error(`no schema with key or ref "${N}"`)}else x=this.compile(N);let u=x(I);return"$async"in x||(this.errors=x.errors),u}compile(N,I){let x=this._addSchema(N,I);return x.validate||this._compileSchemaEnv(x)}compileAsync(N,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:x}=this.opts;return u.call(this,N,I);async function u(H,Q){await P.call(this,H.$schema);let j=this._addSchema(H,Q);return j.validate||T.call(this,j)}async function P(H){H&&!this.getSchema(H)&&await u.call(this,{$ref:H},!0)}async function T(H){try{return this._compileSchemaEnv(H)}catch(Q){if(!(Q instanceof m.default))throw Q;return W.call(this,Q),await z.call(this,Q.missingSchema),T.call(this,H)}}function W({missingSchema:H,missingRef:Q}){if(this.refs[H])throw new Error(`AnySchema ${H} is loaded but ${Q} cannot be resolved`)}async function z(H){let Q=await B.call(this,H);this.refs[H]||await P.call(this,Q.$schema),this.refs[H]||this.addSchema(Q,H,I)}async function B(H){let Q=this._loading[H];if(Q)return Q;try{return await(this._loading[H]=x(H))}finally{delete this._loading[H]}}}addSchema(N,I,x,u=this.opts.validateSchema){if(Array.isArray(N)){for(let T of N)this.addSchema(T,void 0,x,u);return this}let P;if(typeof N=="object"){let{schemaId:T}=this.opts;if(P=N[T],P!==void 0&&typeof P!="string")throw new Error(`schema ${T} must be string`)}return I=o.normalizeId(I||P),this._checkUnique(I),this.schemas[I]=this._addSchema(N,x,I,u,!0),this}addMetaSchema(N,I,x=this.opts.validateSchema){return this.addSchema(N,I,!0,x),this}validateSchema(N,I){if(typeof N=="boolean")return!0;let x;if(x=N.$schema,x!==void 0&&typeof x!="string")throw new Error("$schema must be a string");if(x=x||this.opts.defaultMeta||this.defaultMeta(),!x)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let u=this.validate(x,N);if(!u&&I){let P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return u}getSchema(N){let I;for(;typeof(I=l.call(this,N))=="string";)N=I;if(I===void 0){let{schemaId:x}=this.opts,u=new i.SchemaEnv({schema:{},schemaId:x});if(I=i.resolveSchema.call(this,u,N),!I)return;this.refs[N]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let I=l.call(this,N);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{let I=N;this._cache.delete(I);let x=N[this.opts.schemaId];return x&&(x=o.normalizeId(x),delete this.schemas[x],delete this.refs[x]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(let I of N)this.addKeyword(I);return this}addKeyword(N,I){let x;if(typeof N=="string")x=N,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=x);else if(typeof N=="object"&&I===void 0){if(I=N,x=I.keyword,Array.isArray(x)&&!x.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,x,I),!I)return g.eachItem(x,P=>X.call(this,P)),this;de.call(this,I);let u={...I,type:f.getJSONTypes(I.type),schemaType:f.getJSONTypes(I.schemaType)};return g.eachItem(x,u.type.length===0?P=>X.call(this,P,u):P=>u.type.forEach(T=>X.call(this,P,u,T))),this}getKeyword(N){let I=this.RULES.all[N];return typeof I=="object"?I.definition:!!I}removeKeyword(N){let{RULES:I}=this;delete I.keywords[N],delete I.all[N];for(let x of I.rules){let u=x.rules.findIndex(P=>P.keyword===N);u>=0&&x.rules.splice(u,1)}return this}addFormat(N,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[N]=I,this}errorsText(N=this.errors,{separator:I=", ",dataVar:x="data"}={}){return!N||N.length===0?"No errors":N.map(u=>`${x}${u.instancePath} ${u.message}`).reduce((u,P)=>u+I+P)}$dataMetaSchema(N,I){let x=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(let u of I){let P=u.split("/").slice(1),T=N;for(let W of P)T=T[W];for(let W in x){let z=x[W];if(typeof z!="object")continue;let{$data:B}=z.definition,H=T[W];B&&H&&(T[W]=Y(H))}}return N}_removeAllSchemas(N,I){for(let x in N){let u=N[x];(!I||I.test(x))&&(typeof u=="string"?delete N[x]:u&&!u.meta&&(this._cache.delete(u.schema),delete N[x]))}}_addSchema(N,I,x,u=this.opts.validateSchema,P=this.opts.addUsedSchema){let T,{schemaId:W}=this.opts;if(typeof N=="object")T=N[W];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get(N);if(z!==void 0)return z;x=o.normalizeId(T||x);let B=o.getSchemaRefs.call(this,N,x);return z=new i.SchemaEnv({schema:N,schemaId:W,meta:I,baseId:x,localRefs:B}),this._cache.set(z.schema,z),P&&!x.startsWith("#")&&(x&&this._checkUnique(x),this.refs[x]=z),u&&this.validateSchema(N,!0),z}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):i.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){let I=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,N)}finally{this.opts=I}}}r.ValidationError=h.default,r.MissingRefError=m.default,e.default=r;function d(V,N,I,x="error"){for(let u in V){let P=u;P in N&&this.logger[x](`${I}: option ${u}. ${V[P]}`)}}function l(V){return V=o.normalizeId(V),this.schemas[V]||this.refs[V]}function $(){let V=this.opts.schemas;if(V)if(Array.isArray(V))this.addSchema(V);else for(let N in V)this.addSchema(V[N],N)}function b(){for(let V in this.opts.formats){let N=this.opts.formats[V];N&&this.addFormat(V,N)}}function C(V){if(Array.isArray(V)){this.addVocabulary(V);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let N in V){let I=V[N];I.keyword||(I.keyword=N),this.addKeyword(I)}}function M(){let V={...this.opts};for(let N of S)delete V[N];return V}var D={log(){},warn(){},error(){}};function G(V){if(V===!1)return D;if(V===void 0)return console;if(V.log&&V.warn&&V.error)return V;throw new Error("logger must implement log, warn and error methods")}var U=/^[a-z_$][a-z0-9_$:-]*$/i;function L(V,N){let{RULES:I}=this;if(g.eachItem(V,x=>{if(I.keywords[x])throw new Error(`Keyword ${x} is already defined`);if(!U.test(x))throw new Error(`Keyword ${x} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function X(V,N,I){var x;let u=N==null?void 0:N.post;if(I&&u)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:P}=this,T=u?P.post:P.rules.find(({type:z})=>z===I);if(T||(T={type:I,rules:[]},P.rules.push(T)),P.keywords[V]=!0,!N)return;let W={keyword:V,definition:{...N,type:f.getJSONTypes(N.type),schemaType:f.getJSONTypes(N.schemaType)}};N.before?ie.call(this,T,W,N.before):T.rules.push(W),P.all[V]=W,(x=N.implements)===null||x===void 0||x.forEach(z=>this.addKeyword(z))}function ie(V,N,I){let x=V.rules.findIndex(u=>u.keyword===I);x>=0?V.rules.splice(x,0,N):(V.rules.push(N),this.logger.warn(`rule ${I} is not defined`))}function de(V){let{metaSchema:N}=V;N!==void 0&&(V.$data&&this.opts.$data&&(N=Y(N)),V.validateSchema=this.compile(N,!0))}var fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(V){return{anyOf:[V,fe]}}}),pt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}),mt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=_e(),p=ue(),h=Z(),m=ce(),w=Ce(),i=K(),y={keyword:"$ref",schemaType:"string",code(g){let{gen:v,schema:E,it:k}=g,{baseId:S,schemaEnv:_,validateName:c,opts:a,self:s}=k,{root:n}=_;if((E==="#"||E==="#/")&&S===n.baseId)return d();let r=w.resolveRef.call(s,n,S,E);if(r===void 0)throw new t.default(k.opts.uriResolver,S,E);if(r instanceof w.SchemaEnv)return l(r);return $(r);function d(){if(_===n)return f(g,c,_,_.$async);let b=v.scopeValue("root",{ref:n});return f(g,h._`${b}.validate`,n,n.$async)}function l(b){let C=o(g,b);f(g,C,b,b.$async)}function $(b){let C=v.scopeValue("schema",a.code.source===!0?{ref:b,code:h.stringify(b)}:{ref:b}),M=v.name("valid"),D=g.subschema({schema:b,dataTypes:[],schemaPath:h.nil,topSchemaRef:C,errSchemaPath:E},M);g.mergeEvaluated(D),g.ok(M)}}};function o(g,v){let{gen:E}=g;return v.validate?E.scopeValue("validate",{ref:v.validate}):h._`${E.scopeValue("wrapper",{ref:v})}.validate`}e.getValidate=o;function f(g,v,E,k){let{gen:S,it:_}=g,{allErrors:c,schemaEnv:a,opts:s}=_,n=s.passContext?m.default.this:h.nil;k?r():d();function r(){if(!a.$async)throw new Error("async schema referenced by sync schema");let b=S.let("valid");S.try(()=>{S.code(h._`await ${p.callValidateCode(g,v,n)}`),$(v),!c&&S.assign(b,!0)},C=>{S.if(h._`!(${C} instanceof ${_.ValidationError})`,()=>S.throw(C)),l(C),!c&&S.assign(b,!1)}),g.ok(b)}function d(){g.result(p.callValidateCode(g,v,n),()=>$(v),()=>l(v))}function l(b){let C=h._`${b}.errors`;S.assign(m.default.vErrors,h._`${m.default.vErrors} === null ? ${C} : ${m.default.vErrors}.concat(${C})`),S.assign(m.default.errors,h._`${m.default.vErrors}.length`)}function $(b){var C;if(!_.opts.unevaluated)return;let M=(C=E==null?void 0:E.validate)===null||C===void 0?void 0:C.evaluated;if(_.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(_.props=i.mergeEvaluated.props(S,M.props,_.props));else{let D=S.var("props",h._`${b}.evaluated.props`);_.props=i.mergeEvaluated.props(S,D,_.props,h.Name)}if(_.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(_.items=i.mergeEvaluated.items(S,M.items,_.items));else{let D=S.var("items",h._`${b}.evaluated.items`);_.items=i.mergeEvaluated.items(S,D,_.items,h.Name)}}}e.callRef=f,e.default=y}),yt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=pt(),p=mt(),h=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,p.default];e.default=h}),$t=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=t.operators,h={maximum:{okStr:"<=",ok:p.LTE,fail:p.GT},minimum:{okStr:">=",ok:p.GTE,fail:p.LT},exclusiveMaximum:{okStr:"<",ok:p.LT,fail:p.GTE},exclusiveMinimum:{okStr:">",ok:p.GT,fail:p.LTE}},m={message:({keyword:i,schemaCode:y})=>t.str`must be ${h[i].okStr} ${y}`,params:({keyword:i,schemaCode:y})=>t._`{comparison: ${h[i].okStr}, limit: ${y}}`},w={keyword:Object.keys(h),type:"number",schemaType:"number",$data:!0,error:m,code(i){let{keyword:y,data:o,schemaCode:f}=i;i.fail$data(t._`${o} ${h[y].fail} ${f} || isNaN(${o})`)}};e.default=w}),gt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p={message:({schemaCode:m})=>t.str`must be multiple of ${m}`,params:({schemaCode:m})=>t._`{multipleOf: ${m}}`},h={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:p,code(m){let{gen:w,data:i,schemaCode:y,it:o}=m,f=o.opts.multipleOfPrecision,g=w.let("res"),v=f?t._`Math.abs(Math.round(${g}) - ${g}) > 1e-${f}`:t._`${g} !== parseInt(${g})`;m.fail$data(t._`(${y} === 0 || (${g} = ${i}/${y}, ${v}))`)}};e.default=h}),vt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(p){let h=p.length,m=0,w=0,i;for(;w<h;)m++,i=p.charCodeAt(w++),i>=55296&&i<=56319&&w<h&&(i=p.charCodeAt(w),(i&64512)===56320&&w++);return m}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}),wt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h=vt(),m={message({keyword:i,schemaCode:y}){let o=i==="maxLength"?"more":"fewer";return t.str`must NOT have ${o} than ${y} characters`},params:({schemaCode:i})=>t._`{limit: ${i}}`},w={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:m,code(i){let{keyword:y,data:o,schemaCode:f,it:g}=i,v=y==="maxLength"?t.operators.GT:t.operators.LT,E=g.opts.unicode===!1?t._`${o}.length`:t._`${p.useFunc(i.gen,h.default)}(${o})`;i.fail$data(t._`${E} ${v} ${f}`)}};e.default=w}),_t=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),p=Z(),h={message:({schemaCode:w})=>p.str`must match pattern "${w}"`,params:({schemaCode:w})=>p._`{pattern: ${w}}`},m={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:h,code(w){let{data:i,$data:y,schema:o,schemaCode:f,it:g}=w,v=g.opts.unicodeRegExp?"u":"",E=y?p._`(new RegExp(${f}, ${v}))`:t.usePattern(w,o);w.fail$data(p._`!${E}.test(${i})`)}};e.default=m}),bt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p={message({keyword:m,schemaCode:w}){let i=m==="maxProperties"?"more":"fewer";return t.str`must NOT have ${i} than ${w} properties`},params:({schemaCode:m})=>t._`{limit: ${m}}`},h={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:p,code(m){let{keyword:w,data:i,schemaCode:y}=m,o=w==="maxProperties"?t.operators.GT:t.operators.LT;m.fail$data(t._`Object.keys(${i}).length ${o} ${y}`)}};e.default=h}),Pt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),p=Z(),h=K(),m={message:({params:{missingProperty:i}})=>p.str`must have required property '${i}'`,params:({params:{missingProperty:i}})=>p._`{missingProperty: ${i}}`},w={keyword:"required",type:"object",schemaType:"array",$data:!0,error:m,code(i){let{gen:y,schema:o,schemaCode:f,data:g,$data:v,it:E}=i,{opts:k}=E;if(!v&&o.length===0)return;let S=o.length>=k.loopRequired;if(E.allErrors?_():c(),k.strictRequired){let n=i.parentSchema.properties,{definedProperties:r}=i.it;for(let d of o)if((n==null?void 0:n[d])===void 0&&!r.has(d)){let l=E.schemaEnv.baseId+E.errSchemaPath,$=`required property "${d}" is not defined at "${l}" (strictRequired)`;h.checkStrictMode(E,$,E.opts.strictRequired)}}function _(){if(S||v)i.block$data(p.nil,a);else for(let n of o)t.checkReportMissingProp(i,n)}function c(){let n=y.let("missing");if(S||v){let r=y.let("valid",!0);i.block$data(r,()=>s(n,r)),i.ok(r)}else y.if(t.checkMissingProp(i,o,n)),t.reportMissingProp(i,n),y.else()}function a(){y.forOf("prop",f,n=>{i.setParams({missingProperty:n}),y.if(t.noPropertyInData(y,g,n,k.ownProperties),()=>i.error())})}function s(n,r){i.setParams({missingProperty:n}),y.forOf(n,f,()=>{y.assign(r,t.propertyInData(y,g,n,k.ownProperties)),y.if(p.not(r),()=>{i.error(),y.break()})},p.nil)}}};e.default=w}),Et=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p={message({keyword:m,schemaCode:w}){let i=m==="maxItems"?"more":"fewer";return t.str`must NOT have ${i} than ${w} items`},params:({schemaCode:m})=>t._`{limit: ${m}}`},h={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:p,code(m){let{keyword:w,data:i,schemaCode:y}=m,o=w==="maxItems"?t.operators.GT:t.operators.LT;m.fail$data(t._`${i}.length ${o} ${y}`)}};e.default=h}),xe=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Ue();t.code='require("ajv/dist/runtime/equal").default',e.default=t}),St=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=$e(),p=Z(),h=K(),m=xe(),w={message:({params:{i:y,j:o}})=>p.str`must NOT have duplicate items (items ## ${o} and ${y} are identical)`,params:({params:{i:y,j:o}})=>p._`{i: ${y}, j: ${o}}`},i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:w,code(y){let{gen:o,data:f,$data:g,schema:v,parentSchema:E,schemaCode:k,it:S}=y;if(!g&&!v)return;let _=o.let("valid"),c=E.items?t.getSchemaTypes(E.items):[];y.block$data(_,a,p._`${k} === false`),y.ok(_);function a(){let d=o.let("i",p._`${f}.length`),l=o.let("j");y.setParams({i:d,j:l}),o.assign(_,!0),o.if(p._`${d} > 1`,()=>(s()?n:r)(d,l))}function s(){return c.length>0&&!c.some(d=>d==="object"||d==="array")}function n(d,l){let $=o.name("item"),b=t.checkDataTypes(c,$,S.opts.strictNumbers,t.DataType.Wrong),C=o.const("indices",p._`{}`);o.for(p._`;${d}--;`,()=>{o.let($,p._`${f}[${d}]`),o.if(b,p._`continue`),c.length>1&&o.if(p._`typeof ${$} == "string"`,p._`${$} += "_"`),o.if(p._`typeof ${C}[${$}] == "number"`,()=>{o.assign(l,p._`${C}[${$}]`),y.error(),o.assign(_,!1).break()}).code(p._`${C}[${$}] = ${d}`)})}function r(d,l){let $=h.useFunc(o,m.default),b=o.name("outer");o.label(b).for(p._`;${d}--;`,()=>o.for(p._`${l} = ${d}; ${l}--;`,()=>o.if(p._`${$}(${f}[${d}], ${f}[${l}])`,()=>{y.error(),o.assign(_,!1).break(b)})))}}};e.default=i}),kt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h=xe(),m={message:"must be equal to constant",params:({schemaCode:i})=>t._`{allowedValue: ${i}}`},w={keyword:"const",$data:!0,error:m,code(i){let{gen:y,data:o,$data:f,schemaCode:g,schema:v}=i;f||v&&typeof v=="object"?i.fail$data(t._`!${p.useFunc(y,h.default)}(${o}, ${g})`):i.fail(t._`${v} !== ${o}`)}};e.default=w}),jt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h=xe(),m={message:"must be equal to one of the allowed values",params:({schemaCode:i})=>t._`{allowedValues: ${i}}`},w={keyword:"enum",schemaType:"array",$data:!0,error:m,code(i){let{gen:y,data:o,$data:f,schema:g,schemaCode:v,it:E}=i;if(!f&&g.length===0)throw new Error("enum must have non-empty array");let k=g.length>=E.opts.loopEnum,S,_=()=>S??(S=p.useFunc(y,h.default)),c;if(k||f)c=y.let("valid"),i.block$data(c,a);else{if(!Array.isArray(g))throw new Error("ajv implementation error");let n=y.const("vSchema",v);c=t.or(...g.map((r,d)=>s(n,d)))}i.pass(c);function a(){y.assign(c,!1),y.forOf("v",v,n=>y.if(t._`${_()}(${o}, ${n})`,()=>y.assign(c,!0).break()))}function s(n,r){let d=g[r];return typeof d=="object"&&d!==null?t._`${_()}(${o}, ${n}[${r}])`:t._`${o} === ${d}`}}};e.default=w}),Nt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=$t(),p=gt(),h=wt(),m=_t(),w=bt(),i=Pt(),y=Et(),o=St(),f=kt(),g=jt(),v=[t.default,p.default,h.default,m.default,w.default,i.default,y.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,g.default];e.default=v}),Le=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Z(),p=K(),h={message:({params:{len:i}})=>t.str`must NOT have more than ${i} items`,params:({params:{len:i}})=>t._`{limit: ${i}}`},m={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:h,code(i){let{parentSchema:y,it:o}=i,{items:f}=y;if(!Array.isArray(f)){p.checkStrictMode(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}w(i,f)}};function w(i,y){let{gen:o,schema:f,data:g,keyword:v,it:E}=i;E.items=!0;let k=o.const("len",t._`${g}.length`);if(f===!1)i.setParams({len:y.length}),i.pass(t._`${k} <= ${y.length}`);else if(typeof f=="object"&&!p.alwaysValidSchema(E,f)){let _=o.var("valid",t._`${k} <= ${y.length}`);o.if(t.not(_),()=>S(_)),i.ok(_)}function S(_){o.forRange("i",y.length,k,c=>{i.subschema({keyword:v,dataProp:c,dataPropType:p.Type.Num},_),!E.allErrors&&o.if(t.not(_),()=>o.break())})}}e.validateAdditionalItems=w,e.default=m}),Fe=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Z(),p=K(),h=ue(),m={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){let{schema:y,it:o}=i;if(Array.isArray(y))return w(i,"additionalItems",y);o.items=!0,!p.alwaysValidSchema(o,y)&&i.ok(h.validateArray(i))}};function w(i,y,o=i.schema){let{gen:f,parentSchema:g,data:v,keyword:E,it:k}=i;c(g),k.opts.unevaluated&&o.length&&k.items!==!0&&(k.items=p.mergeEvaluated.items(f,o.length,k.items));let S=f.name("valid"),_=f.const("len",t._`${v}.length`);o.forEach((a,s)=>{p.alwaysValidSchema(k,a)||(f.if(t._`${_} > ${s}`,()=>i.subschema({keyword:E,schemaProp:s,dataProp:s},S)),i.ok(S))});function c(a){let{opts:s,errSchemaPath:n}=k,r=o.length,d=r===a.minItems&&(r===a.maxItems||a[y]===!1);if(s.strictTuples&&!d){let l=`"${E}" is ${r}-tuple, but minItems or maxItems/${y} are not specified or different at path "${n}"`;p.checkStrictMode(k,l,s.strictTuples)}}}e.validateTuple=w,e.default=m}),Ot=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Fe(),p={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:h=>t.validateTuple(h,"items")};e.default=p}),Ct=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h=ue(),m=Le(),w={message:({params:{len:y}})=>t.str`must NOT have more than ${y} items`,params:({params:{len:y}})=>t._`{limit: ${y}}`},i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:w,code(y){let{schema:o,parentSchema:f,it:g}=y,{prefixItems:v}=f;g.items=!0,!p.alwaysValidSchema(g,o)&&(v?m.validateAdditionalItems(y,v):y.ok(h.validateArray(y)))}};e.default=i}),xt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h={message:({params:{min:w,max:i}})=>i===void 0?t.str`must contain at least ${w} valid item(s)`:t.str`must contain at least ${w} and no more than ${i} valid item(s)`,params:({params:{min:w,max:i}})=>i===void 0?t._`{minContains: ${w}}`:t._`{minContains: ${w}, maxContains: ${i}}`},m={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:h,code(w){let{gen:i,schema:y,parentSchema:o,data:f,it:g}=w,v,E,{minContains:k,maxContains:S}=o;g.opts.next?(v=k===void 0?1:k,E=S):v=1;let _=i.const("len",t._`${f}.length`);if(w.setParams({min:v,max:E}),E===void 0&&v===0){p.checkStrictMode(g,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(E!==void 0&&v>E){p.checkStrictMode(g,'"minContains" > "maxContains" is always invalid'),w.fail();return}if(p.alwaysValidSchema(g,y)){let r=t._`${_} >= ${v}`;E!==void 0&&(r=t._`${r} && ${_} <= ${E}`),w.pass(r);return}g.items=!0;let c=i.name("valid");E===void 0&&v===1?s(c,()=>i.if(c,()=>i.break())):v===0?(i.let(c,!0),E!==void 0&&i.if(t._`${f}.length > 0`,a)):(i.let(c,!1),a()),w.result(c,()=>w.reset());function a(){let r=i.name("_valid"),d=i.let("count",0);s(r,()=>i.if(r,()=>n(d)))}function s(r,d){i.forRange("i",0,_,l=>{w.subschema({keyword:"contains",dataProp:l,dataPropType:p.Type.Num,compositeRule:!0},r),d()})}function n(r){i.code(t._`${r}++`),E===void 0?i.if(t._`${r} >= ${v}`,()=>i.assign(c,!0).break()):(i.if(t._`${r} > ${E}`,()=>i.assign(c,!1).break()),v===1?i.assign(c,!0):i.if(t._`${r} >= ${v}`,()=>i.assign(c,!0)))}}};e.default=m}),Tt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Z(),p=K(),h=ue();e.error={message:({params:{property:o,depsCount:f,deps:g}})=>{let v=f===1?"property":"properties";return t.str`must have ${v} ${g} when property ${o} is present`},params:({params:{property:o,depsCount:f,deps:g,missingProperty:v}})=>t._`{property: ${o},
    missingProperty: ${v},
    depsCount: ${f},
    deps: ${g}}`};var m={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(o){let[f,g]=w(o);i(o,f),y(o,g)}};function w({schema:o}){let f={},g={};for(let v in o){if(v==="__proto__")continue;let E=Array.isArray(o[v])?f:g;E[v]=o[v]}return[f,g]}function i(o,f=o.schema){let{gen:g,data:v,it:E}=o;if(Object.keys(f).length===0)return;let k=g.let("missing");for(let S in f){let _=f[S];if(_.length===0)continue;let c=h.propertyInData(g,v,S,E.opts.ownProperties);o.setParams({property:S,depsCount:_.length,deps:_.join(", ")}),E.allErrors?g.if(c,()=>{for(let a of _)h.checkReportMissingProp(o,a)}):(g.if(t._`${c} && (${h.checkMissingProp(o,_,k)})`),h.reportMissingProp(o,k),g.else())}}e.validatePropertyDeps=i;function y(o,f=o.schema){let{gen:g,data:v,keyword:E,it:k}=o,S=g.name("valid");for(let _ in f)p.alwaysValidSchema(k,f[_])||(g.if(h.propertyInData(g,v,_,k.opts.ownProperties),()=>{let c=o.subschema({keyword:E,schemaProp:_},S);o.mergeValidEvaluated(c,S)},()=>g.var(S,!0)),o.ok(S))}e.validateSchemaDeps=y,e.default=m}),Rt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h={message:"property name must be valid",params:({params:w})=>t._`{propertyName: ${w.propertyName}}`},m={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:h,code(w){let{gen:i,schema:y,data:o,it:f}=w;if(p.alwaysValidSchema(f,y))return;let g=i.name("valid");i.forIn("key",o,v=>{w.setParams({propertyName:v}),w.subschema({keyword:"propertyNames",data:v,dataTypes:["string"],propertyName:v,compositeRule:!0},g),i.if(t.not(g),()=>{w.error(!0),!f.allErrors&&i.break()})}),w.ok(g)}};e.default=m}),Ze=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),p=Z(),h=ce(),m=K(),w={message:"must NOT have additional properties",params:({params:y})=>p._`{additionalProperty: ${y.additionalProperty}}`},i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:w,code(y){let{gen:o,schema:f,parentSchema:g,data:v,errsCount:E,it:k}=y;if(!E)throw new Error("ajv implementation error");let{allErrors:S,opts:_}=k;if(k.props=!0,_.removeAdditional!=="all"&&m.alwaysValidSchema(k,f))return;let c=t.allSchemaProperties(g.properties),a=t.allSchemaProperties(g.patternProperties);s(),y.ok(p._`${E} === ${h.default.errors}`);function s(){o.forIn("key",v,$=>{!c.length&&!a.length?d($):o.if(n($),()=>d($))})}function n($){let b;if(c.length>8){let C=m.schemaRefOrVal(k,g.properties,"properties");b=t.isOwnProperty(o,C,$)}else c.length?b=p.or(...c.map(C=>p._`${$} === ${C}`)):b=p.nil;return a.length&&(b=p.or(b,...a.map(C=>p._`${t.usePattern(y,C)}.test(${$})`))),p.not(b)}function r($){o.code(p._`delete ${v}[${$}]`)}function d($){if(_.removeAdditional==="all"||_.removeAdditional&&f===!1){r($);return}if(f===!1){y.setParams({additionalProperty:$}),y.error(),!S&&o.break();return}if(typeof f=="object"&&!m.alwaysValidSchema(k,f)){let b=o.name("valid");_.removeAdditional==="failing"?(l($,b,!1),o.if(p.not(b),()=>{y.reset(),r($)})):(l($,b),!S&&o.if(p.not(b),()=>o.break()))}}function l($,b,C){let M={keyword:"additionalProperties",dataProp:$,dataPropType:m.Type.Str};C===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),y.subschema(M,b)}}};e.default=i}),It=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=we(),p=ue(),h=K(),m=Ze(),w={keyword:"properties",type:"object",schemaType:"object",code(i){let{gen:y,schema:o,parentSchema:f,data:g,it:v}=i;v.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&m.default.code(new t.KeywordCxt(v,m.default,"additionalProperties"));let E=p.allSchemaProperties(o);for(let a of E)v.definedProperties.add(a);v.opts.unevaluated&&E.length&&v.props!==!0&&(v.props=h.mergeEvaluated.props(y,h.toHash(E),v.props));let k=E.filter(a=>!h.alwaysValidSchema(v,o[a]));if(k.length===0)return;let S=y.name("valid");for(let a of k)_(a)?c(a):(y.if(p.propertyInData(y,g,a,v.opts.ownProperties)),c(a),!v.allErrors&&y.else().var(S,!0),y.endIf()),i.it.definedProperties.add(a),i.ok(S);function _(a){return v.opts.useDefaults&&!v.compositeRule&&o[a].default!==void 0}function c(a){i.subschema({keyword:"properties",schemaProp:a,dataProp:a},S)}}};e.default=w}),Mt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),p=Z(),h=K(),m=K(),w={keyword:"patternProperties",type:"object",schemaType:"object",code(i){let{gen:y,schema:o,data:f,parentSchema:g,it:v}=i,{opts:E}=v,k=t.allSchemaProperties(o),S=k.filter(d=>h.alwaysValidSchema(v,o[d]));if(k.length===0||S.length===k.length&&(!v.opts.unevaluated||v.props===!0))return;let _=E.strictSchema&&!E.allowMatchingProperties&&g.properties,c=y.name("valid");v.props!==!0&&!(v.props instanceof p.Name)&&(v.props=m.evaluatedPropsToName(y,v.props));let{props:a}=v;s();function s(){for(let d of k)_&&n(d),v.allErrors?r(d):(y.var(c,!0),r(d),y.if(c))}function n(d){for(let l in _)new RegExp(d).test(l)&&h.checkStrictMode(v,`property ${l} matches pattern ${d} (use allowMatchingProperties)`)}function r(d){y.forIn("key",f,l=>{y.if(p._`${t.usePattern(i,d)}.test(${l})`,()=>{let $=S.includes(d);$||i.subschema({keyword:"patternProperties",schemaProp:d,dataProp:l,dataPropType:m.Type.Str},c),v.opts.unevaluated&&a!==!0?y.assign(p._`${a}[${l}]`,!0):!$&&!v.allErrors&&y.if(p.not(c),()=>y.break())})})}}};e.default=w}),At=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=K(),p={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(h){let{gen:m,schema:w,it:i}=h;if(t.alwaysValidSchema(i,w)){h.fail();return}let y=m.name("valid");h.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},y),h.failResult(y,()=>h.reset(),()=>h.error())},error:{message:"must NOT be valid"}};e.default=p}),Vt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ue(),p={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=p}),Dt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h={message:"must match exactly one schema in oneOf",params:({params:w})=>t._`{passingSchemas: ${w.passing}}`},m={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:h,code(w){let{gen:i,schema:y,parentSchema:o,it:f}=w;if(!Array.isArray(y))throw new Error("ajv implementation error");if(f.opts.discriminator&&o.discriminator)return;let g=y,v=i.let("valid",!1),E=i.let("passing",null),k=i.name("_valid");w.setParams({passing:E}),i.block(S),w.result(v,()=>w.reset(),()=>w.error(!0));function S(){g.forEach((_,c)=>{let a;p.alwaysValidSchema(f,_)?i.var(k,!0):a=w.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},k),c>0&&i.if(t._`${k} && ${v}`).assign(v,!1).assign(E,t._`[${E}, ${c}]`).else(),i.if(k,()=>{i.assign(v,!0),i.assign(E,c),a&&w.mergeEvaluated(a,t.Name)})})}}};e.default=m}),Jt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=K(),p={keyword:"allOf",schemaType:"array",code(h){let{gen:m,schema:w,it:i}=h;if(!Array.isArray(w))throw new Error("ajv implementation error");let y=m.name("valid");w.forEach((o,f)=>{if(t.alwaysValidSchema(i,o))return;let g=h.subschema({keyword:"allOf",schemaProp:f},y);h.ok(y),h.mergeEvaluated(g)})}};e.default=p}),Gt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=K(),h={message:({params:i})=>t.str`must match "${i.ifClause}" schema`,params:({params:i})=>t._`{failingKeyword: ${i.ifClause}}`},m={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:h,code(i){let{gen:y,parentSchema:o,it:f}=i;o.then===void 0&&o.else===void 0&&p.checkStrictMode(f,'"if" without "then" and "else" is ignored');let g=w(f,"then"),v=w(f,"else");if(!g&&!v)return;let E=y.let("valid",!0),k=y.name("_valid");if(S(),i.reset(),g&&v){let c=y.let("ifClause");i.setParams({ifClause:c}),y.if(k,_("then",c),_("else",c))}else g?y.if(k,_("then")):y.if(t.not(k),_("else"));i.pass(E,()=>i.error(!0));function S(){let c=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);i.mergeEvaluated(c)}function _(c,a){return()=>{let s=i.subschema({keyword:c},k);y.assign(E,k),i.mergeValidEvaluated(s,E),a?y.assign(a,t._`${c}`):i.setParams({ifClause:c})}}}};function w(i,y){let o=i.schema[y];return o!==void 0&&!p.alwaysValidSchema(i,o)}e.default=m}),Wt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=K(),p={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:h,parentSchema:m,it:w}){m.if===void 0&&t.checkStrictMode(w,`"${h}" without "if" is ignored`)}};e.default=p}),zt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Le(),p=Ot(),h=Fe(),m=Ct(),w=xt(),i=Tt(),y=Rt(),o=Ze(),f=It(),g=Mt(),v=At(),E=Vt(),k=Dt(),S=Jt(),_=Gt(),c=Wt();function a(s=!1){let n=[v.default,E.default,k.default,S.default,_.default,c.default,y.default,o.default,i.default,f.default,g.default];return s?n.push(p.default,m.default):n.push(t.default,h.default),n.push(w.default),n}e.default=a}),qt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p={message:({schemaCode:m})=>t.str`must match format "${m}"`,params:({schemaCode:m})=>t._`{format: ${m}}`},h={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:p,code(m,w){let{gen:i,data:y,$data:o,schema:f,schemaCode:g,it:v}=m,{opts:E,errSchemaPath:k,schemaEnv:S,self:_}=v;if(!E.validateFormats)return;o?c():a();function c(){let s=i.scopeValue("formats",{ref:_.formats,code:E.code.formats}),n=i.const("fDef",t._`${s}[${g}]`),r=i.let("fType"),d=i.let("format");i.if(t._`typeof ${n} == "object" && !(${n} instanceof RegExp)`,()=>i.assign(r,t._`${n}.type || "string"`).assign(d,t._`${n}.validate`),()=>i.assign(r,t._`"string"`).assign(d,n)),m.fail$data(t.or(l(),$()));function l(){return E.strictSchema===!1?t.nil:t._`${g} && !${d}`}function $(){let b=S.$async?t._`(${n}.async ? await ${d}(${y}) : ${d}(${y}))`:t._`${d}(${y})`,C=t._`(typeof ${d} == "function" ? ${b} : ${d}.test(${y}))`;return t._`${d} && ${d} !== true && ${r} === ${w} && !${C}`}}function a(){let s=_.formats[f];if(!s){l();return}if(s===!0)return;let[n,r,d]=$(s);n===w&&m.pass(b());function l(){if(E.strictSchema===!1){_.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${f}" ignored in schema at path "${k}"`}}function $(C){let M=C instanceof RegExp?t.regexpCode(C):E.code.formats?t._`${E.code.formats}${t.getProperty(f)}`:void 0,D=i.scopeValue("formats",{key:f,ref:C,code:M});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,t._`${D}.validate`]:["string",C,D]}function b(){if(typeof s=="object"&&!(s instanceof RegExp)&&s.async){if(!S.$async)throw new Error("async format in sync schema");return t._`await ${d}(${y})`}return typeof r=="function"?t._`${d}(${y})`:t._`${d}.test(${y})`}}}};e.default=h}),Ut=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=qt(),p=[t.default];e.default=p}),Lt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),Ft=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=yt(),p=Nt(),h=zt(),m=Ut(),w=Lt(),i=[t.default,p.default,h.default(),m.default,w.metadataVocabulary,w.contentVocabulary];e.default=i}),Zt=J(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(p){p.Tag="tag",p.Mapping="mapping"})(t||(e.DiscrError=t={}))}),Ht=J(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Z(),p=Zt(),h=Ce(),m=_e(),w=K(),i={message:({params:{discrError:o,tagName:f}})=>o===p.DiscrError.Tag?`tag "${f}" must be string`:`value of tag "${f}" must be in oneOf`,params:({params:{discrError:o,tag:f,tagName:g}})=>t._`{error: ${o}, tag: ${g}, tagValue: ${f}}`},y={keyword:"discriminator",type:"object",schemaType:"object",error:i,code(o){let{gen:f,data:g,schema:v,parentSchema:E,it:k}=o,{oneOf:S}=E;if(!k.opts.discriminator)throw new Error("discriminator: requires discriminator option");let _=v.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(v.mapping)throw new Error("discriminator: mapping is not supported");if(!S)throw new Error("discriminator: requires oneOf keyword");let c=f.let("valid",!1),a=f.const("tag",t._`${g}${t.getProperty(_)}`);f.if(t._`typeof ${a} == "string"`,()=>s(),()=>o.error(!1,{discrError:p.DiscrError.Tag,tag:a,tagName:_})),o.ok(c);function s(){let d=r();f.if(!1);for(let l in d)f.elseIf(t._`${a} === ${l}`),f.assign(c,n(d[l]));f.else(),o.error(!1,{discrError:p.DiscrError.Mapping,tag:a,tagName:_}),f.endIf()}function n(d){let l=f.name("valid"),$=o.subschema({keyword:"oneOf",schemaProp:d},l);return o.mergeEvaluated($,t.Name),l}function r(){var d;let l={},$=C(E),b=!0;for(let G=0;G<S.length;G++){let U=S[G];if(U!=null&&U.$ref&&!w.schemaHasRulesButRef(U,k.self.RULES)){let X=U.$ref;if(U=h.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,X),U instanceof h.SchemaEnv&&(U=U.schema),U===void 0)throw new m.default(k.opts.uriResolver,k.baseId,X)}let L=(d=U==null?void 0:U.properties)===null||d===void 0?void 0:d[_];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);b=b&&($||C(U)),M(L,G)}if(!b)throw new Error(`discriminator: "${_}" must be required`);return l;function C({required:G}){return Array.isArray(G)&&G.includes(_)}function M(G,U){if(G.const)D(G.const,U);else if(G.enum)for(let L of G.enum)D(L,U);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function D(G,U){if(typeof G!="string"||G in l)throw new Error(`discriminator: "${_}" values must be unique strings`);l[G]=U}}}};e.default=y}),Kt=J((e,t)=>{t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),Bt=J((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var p=ht(),h=Ft(),m=Ht(),w=Kt(),i=["/properties"],y="http://json-schema.org/draft-07/schema";class o extends p.default{_addVocabularies(){super._addVocabularies(),h.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(m.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let S=this.opts.$data?this.$dataMetaSchema(w,i):w;this.addMetaSchema(S,y,!1),this.refs["http://json-schema.org/schema"]=y}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(y)?y:void 0)}}e.Ajv=o,t.exports=e=o,t.exports.Ajv=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var f=we();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var g=Z();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});var v=Oe();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return v.default}});var E=_e();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return E.default}})}),Xt=J((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var p={},h={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:g=>{var v;let E=(v=g==null?void 0:g.max)!==null&&v!==void 0?v:2;return()=>Math.floor(Math.random()*E)},seq:g=>{var v;let E=(v=g==null?void 0:g.name)!==null&&v!==void 0?v:"";return p[E]||(p[E]=0),()=>p[E]++}},m=Object.assign(w,{DEFAULTS:h});function w(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(g,v,E){if(!E.opts.useDefaults||E.compositeRule)return()=>!0;let k={};for(let _ in g)k[_]=i(g[_]);let S=E.opts.useDefaults==="empty";return _=>{for(let c in g)(_[c]===void 0||S&&(_[c]===null||_[c]===""))&&(_[c]=k[c]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function i(g){return typeof g=="object"?y(g):o(g)}function y({func:g,args:v}){let E=h[g];return f(g,E),E(v)}function o(g=""){let v=h[g];return f(g,v),v()}function f(g,v){if(!v)throw new Error(`invalid "dynamicDefaults" keyword property value: ${g}`)}e.default=m,t.exports=m});function Yt(e){if(!Ee(e))return me(e);let t=new Proxy({},{get(p,h,m){return Xe(Reflect.get(e.value,h,m))},set(p,h,m){return Ee(e.value[h])&&!Ee(m)?e.value[h].value=m:e.value[h]=m,!0},deleteProperty(p,h){return Reflect.deleteProperty(e.value,h)},has(p,h){return Reflect.has(e.value,h)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return me(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;var re=[];for(let e=0;e<256;++e)re.push((e+256).toString(16).slice(1));function Qt(e,t=0){return(re[e[t+0]]+re[e[t+1]]+re[e[t+2]]+re[e[t+3]]+"-"+re[e[t+4]]+re[e[t+5]]+"-"+re[e[t+6]]+re[e[t+7]]+"-"+re[e[t+8]]+re[e[t+9]]+"-"+re[e[t+10]]+re[e[t+11]]+re[e[t+12]]+re[e[t+13]]+re[e[t+14]]+re[e[t+15]]).toLowerCase()}var Se,er=new Uint8Array(16);function tr(){if(!Se){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Se=crypto.getRandomValues.bind(crypto)}return Se(er)}var rr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),De={randomUUID:rr};function ar(e,t,p){var m;if(De.randomUUID&&!t&&!e)return De.randomUUID();e=e||{};let h=e.random??((m=e.rng)==null?void 0:m.call(e))??tr();if(h.length<16)throw new Error("Random bytes length must be >= 16");if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,t){if(p=p||0,p<0||p+16>t.length)throw new RangeError(`UUID byte range ${p}:${p+15} is out of buffer bounds`);for(let w=0;w<16;++w)t[p+w]=h[w];return t}return Qt(h)}var nr=ar,sr=(e,{branch:t="branch",children:p="children",id:h="id",index:m="index",next:w="next",parent:i="parent",prev:y="prev",siblings:o="siblings"}={})=>{let f={[t]:{get(){var _;let S=[this];for(;(_=S[0])!=null&&_[i];)S.unshift(S[0][i]);return S}},[m]:{get(){return this[o].findIndex(({id:S})=>this[h]===S)}},[w]:{get(){return this[o][this[m]+1]}},[y]:{get(){return this[o][this[m]-1]}}},g=(S,_={})=>S.value.flatMap(c=>(Object.defineProperties(c,{...f,[i]:_,[o]:S}),[c,...g({configurable:!0,value:c[p]??[]},{configurable:!0,value:c})])),v=Be(e)?e:me(e),E=Me(()=>g({value:v})),k=Yt(Me(()=>Object.fromEntries(E.value.map(S=>[S[h],S]))));return{add:S=>{let _=k[S];if(_){let c=_[p],a=_[m],s=_[o],n=nr();switch(!0){case!!_[i]:s.splice(a+1,0,{id:n});break;case!!c:c.unshift({id:n});break;default:s.splice(a+1,0,{id:n});break}return n}},atlas:k,down:S=>{let _=k[S];if(_){let c=_[m],a=c+1,s=_[o];c<s.length-1&&s[c]&&s[a]&&([s[c],s[a]]=[s[a],s[c]])}},leaves:E,left:S=>{let _=k[S];if(_){let c=_[i];if(c!=null&&c[i]){let a=c[p]??[];return c[o].splice(c[m]+1,0,...a.splice(_[m],1)),c[h]}}},remove:S=>{let _=k[S];if(_){let c=_[i];if(c){let[a]=E.value,s=_[w],n=_[y],r=(s==null?void 0:s[h])??(n==null?void 0:n[h])??c[h]??(a==null?void 0:a[h]);return _[o].splice(_[m],1),r}}},right:S=>{let _=k[S];if(_){let c=_[y];if(c){let a=c[p]??[],s=c[h],n=_[o];return c[p]=[...a,...n.splice(_[m],1)],s}}},up:S=>{let _=k[S];if(_){let c=_[m],a=c-1,s=_[o];c&&s[c]&&s[a]&&([s[a],s[c]]=[s[c],s[a]])}}}},ir=We(Bt()),He=We(Xt()),ae=[];for(let e=0;e<256;++e)ae.push((e+256).toString(16).slice(1));function or(e,t=0){return(ae[e[t+0]]+ae[e[t+1]]+ae[e[t+2]]+ae[e[t+3]]+"-"+ae[e[t+4]]+ae[e[t+5]]+"-"+ae[e[t+6]]+ae[e[t+7]]+"-"+ae[e[t+8]]+ae[e[t+9]]+"-"+ae[e[t+10]]+ae[e[t+11]]+ae[e[t+12]]+ae[e[t+13]]+ae[e[t+14]]+ae[e[t+15]]).toLowerCase()}var ke,lr=new Uint8Array(16);function ur(){if(!ke){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ke=crypto.getRandomValues.bind(crypto)}return ke(lr)}var dr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Je={randomUUID:dr};function fr(e,t,p){var m;if(Je.randomUUID&&!t&&!e)return Je.randomUUID();e=e||{};let h=e.random??((m=e.rng)==null?void 0:m.call(e))??ur();if(h.length<16)throw new Error("Random bytes length must be >= 16");if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,t){if(p=p||0,p<0||p+16>t.length)throw new RangeError(`UUID byte range ${p}:${p+15} is out of buffer bounds`);for(let w=0;w<16;++w)t[p+w]=h[w];return t}return or(h)}var cr=fr,hr={properties:{accessKeyId:{default:null,nullable:!0,type:"string"},Bucket:{default:null,nullable:!0,type:"string"},endpoint:{default:null,nullable:!0,type:"string"},region:{default:null,nullable:!0,type:"string"},secretAccessKey:{default:null,nullable:!0,type:"string"}},type:"object"},pr={$id:"urn:jsonschema:credentials",additionalProperties:hr,type:"object"},mr={$ref:"urn:jsonschema:page"},yr={$id:"urn:jsonschema:data",items:mr,type:"array"},$r={imports:{additionalProperties:{type:"string"},default:{},type:"object"}},gr={$id:"urn:jsonschema:importmap",additionalProperties:!1,properties:$r,type:"object"},vr={id:"uuid"},wr={alt:{default:[],items:{type:"string"},type:"array"},changefreq:{default:null,enum:["always","hourly","daily","weekly","monthly","yearly","never",null],nullable:!0,type:"string"},children:{default:[],items:{type:"object"},type:"array"},class:{default:["prose","max-w-none"],description:"",items:{type:"string"},type:"array"},description:{default:null,nullable:!0,type:"string"},enabled:{default:!0,type:"boolean"},flat:{default:!0,type:"boolean"},header:{type:"string"},icon:{type:"string"},id:{type:"string"},images:{default:[],items:{properties:{alt:{type:"string"},url:{default:"",type:"string"}},type:"object"},type:"array"},keywords:{default:[],items:{type:"string"},type:"array"},lastmod:{default:null,nullable:!0,type:"string"},loc:{default:null,nullable:!0,type:"string"},name:{default:null,nullable:!0,type:"string"},priority:{default:null,maximum:1,minimum:0,nullable:!0,type:"number"},type:{default:null,enum:["article","book","profile","website","music.song","music.album","music.playlist","music.radio_station","video.movie","video.episode","video.tv_show","video.other",null],nullable:!0,type:"string"}},_r={$id:"urn:jsonschema:page",additionalProperties:!1,dynamicDefaults:vr,properties:wr,type:"object"};He.default.DEFAULTS.uuid=()=>()=>cr();var br={get(){return this.children.filter(({enabled:e})=>e)}},Pr={get(){return this.$siblings.findIndex(({id:e})=>this.id===e)}},Er={get(){return this.$siblings[this.$index+1]}},Sr={get(){return this.$siblings[this.$index-1]}},kr={get(){return this.siblings.filter(({enabled:e})=>e)}},jr=!0,Nr={esm:jr},Or=!0,Cr=[He.default()],xr=!0,Tr=[pr,yr,_r,gr],Rr=!0,Te=new ir.default({code:Nr,coerceTypes:Or,keywords:Cr,removeAdditional:xr,schemas:Tr,useDefaults:Rr}),zr=!0,Ir={get(){return this.icon&&`i-${this.icon}`}},Mr=me({}),Ar=me([]),Vr={get(){let e=this.branch.slice(1);return e.some(({name:t})=>!t)?void 0:e.map(({name:t})=>t).join("/").replaceAll(" ","_")}},Dr={get(){return this.header??this.name}},Jr={get(){var e,t;return(t=((e=this.loc)==null?void 0:e.replaceAll(" ","_"))??this.path)==null?void 0:t.replace(/^\/?/,"/").replace(/\/?$/,"/")}};Te.getSchema("urn:jsonschema:credentials");var je=Te.getSchema("urn:jsonschema:data"),Ne=Te.getSchema("urn:jsonschema:importmap"),{add:qr,atlas:Ur,down:Lr,leaves:Gr,left:Fr,remove:Zr,right:Hr,up:Kr}=sr(Ar),Br=e=>{window.console.error(e)},Xr=async e=>(await fetch(e)).text(),Yr=e=>Object.fromEntries(e.map(t=>[t.toLowerCase().replaceAll(" ","_"),t]));Ge(Mr,async e=>{await(Ne==null?void 0:Ne(e))});Ge(Gr,async e=>{await(je==null?void 0:je(e)),e.forEach(t=>{Object.defineProperties(t,{$children:br,$index:Pr,$next:Er,$prev:Sr,$siblings:kr,i:Ir,path:Vr,title:Dr,to:Jr})})});export{Gr as H,Ar as W,Mr as X,Br as Y,Ur as a,Yr as b,Xr as c,zr as n};
