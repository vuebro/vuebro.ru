import{r as Kr}from"./fast-deep-equal-C148XJoK.js";import{r as Br}from"./json-schema-traverse-B8kO9W2y.js";import{r as Wr}from"./fast-uri-IWLU8Qy7.js";function Qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ns(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var w=function c(){return this instanceof c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};w.prototype=r.prototype}else w={};return Object.defineProperty(w,"__esModule",{value:!0}),Object.keys(e).forEach(function(c){var $=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(w,c,$.get?$:{enumerable:!0,get:function(){return e[c]}})}),w}var ke={exports:{}},wt={},he={},$e={},bt={},Et={},Pt={},Ct;function ft(){return Ct||(Ct=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class w extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=w;class c extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((d,_)=>`${d}${_}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((d,_)=>(_ instanceof w&&(d[_.str]=(d[_.str]||0)+1),d),{})}}e._Code=c,e.nil=new c("");function $(o,...t){const d=[o[0]];let _=0;for(;_<t.length;)a(d,t[_]),d.push(o[++_]);return new c(d)}e._=$;const s=new c("+");function h(o,...t){const d=[k(o[0])];let _=0;for(;_<t.length;)d.push(s),a(d,t[_]),d.push(s,k(o[++_]));return u(d),new c(d)}e.str=h;function a(o,t){t instanceof c?o.push(...t._items):t instanceof w?o.push(t):o.push(b(t))}e.addCodeArg=a;function u(o){let t=1;for(;t<o.length-1;){if(o[t]===s){const d=y(o[t-1],o[t+1]);if(d!==void 0){o.splice(t-1,3,d);continue}o[t++]="+"}t++}}function y(o,t){if(t==='""')return o;if(o==='""')return t;if(typeof o=="string")return t instanceof w||o[o.length-1]!=='"'?void 0:typeof t!="string"?`${o.slice(0,-1)}${t}"`:t[0]==='"'?o.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(o instanceof w))return`"${o}${t.slice(1)}`}function m(o,t){return t.emptyStr()?o:o.emptyStr()?t:h`${o}${t}`}e.strConcat=m;function b(o){return typeof o=="number"||typeof o=="boolean"||o===null?o:k(Array.isArray(o)?o.join(","):o)}function N(o){return new c(k(o))}e.stringify=N;function k(o){return JSON.stringify(o).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=k;function P(o){return typeof o=="string"&&e.IDENTIFIER.test(o)?new c(`.${o}`):$`[${o}]`}e.getProperty=P;function E(o){if(typeof o=="string"&&e.IDENTIFIER.test(o))return new c(`${o}`);throw new Error(`CodeGen: invalid export name: ${o}, use explicit $id name mapping`)}e.getEsmExportName=E;function l(o){return new c(o.toString())}e.regexpCode=l}(Pt)),Pt}var St={},It;function qt(){return It||(It=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=ft();class w extends Error{constructor(y){super(`CodeGen: "code" for ${y} not defined`),this.value=y.value}}var c;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(c||(e.UsedValueState=c={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class ${constructor({prefixes:y,parent:m}={}){this._names={},this._prefixes=y,this._parent=m}toName(y){return y instanceof r.Name?y:this.name(y)}name(y){return new r.Name(this._newName(y))}_newName(y){const m=this._names[y]||this._nameGroup(y);return`${y}${m.index++}`}_nameGroup(y){var m,b;if(!((b=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||b===void 0)&&b.has(y)||this._prefixes&&!this._prefixes.has(y))throw new Error(`CodeGen: prefix "${y}" is not allowed in this scope`);return this._names[y]={prefix:y,index:0}}}e.Scope=$;class s extends r.Name{constructor(y,m){super(m),this.prefix=y}setValue(y,{property:m,itemIndex:b}){this.value=y,this.scopePath=(0,r._)`.${new r.Name(m)}[${b}]`}}e.ValueScopeName=s;const h=(0,r._)`\n`;class a extends ${constructor(y){super(y),this._values={},this._scope=y.scope,this.opts={...y,_n:y.lines?h:r.nil}}get(){return this._scope}name(y){return new s(y,this._newName(y))}value(y,m){var b;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const N=this.toName(y),{prefix:k}=N,P=(b=m.key)!==null&&b!==void 0?b:m.ref;let E=this._values[k];if(E){const t=E.get(P);if(t)return t}else E=this._values[k]=new Map;E.set(P,N);const l=this._scope[k]||(this._scope[k]=[]),o=l.length;return l[o]=m.ref,N.setValue(m,{property:k,itemIndex:o}),N}getValue(y,m){const b=this._values[y];if(b)return b.get(m)}scopeRefs(y,m=this._values){return this._reduceValues(m,b=>{if(b.scopePath===void 0)throw new Error(`CodeGen: name "${b}" has no value`);return(0,r._)`${y}${b.scopePath}`})}scopeCode(y=this._values,m,b){return this._reduceValues(y,N=>{if(N.value===void 0)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},m,b)}_reduceValues(y,m,b={},N){let k=r.nil;for(const P in y){const E=y[P];if(!E)continue;const l=b[P]=b[P]||new Map;E.forEach(o=>{if(l.has(o))return;l.set(o,c.Started);let t=m(o);if(t){const d=this.opts.es5?e.varKinds.var:e.varKinds.const;k=(0,r._)`${k}${d} ${o} = ${t};${this.opts._n}`}else if(t=N==null?void 0:N(o))k=(0,r._)`${k}${t}${this.opts._n}`;else throw new w(o);l.set(o,c.Completed)})}return k}}e.ValueScope=a}(St)),St}var Mt;function H(){return Mt||(Mt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=ft(),w=qt();var c=ft();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return c.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return c.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return c.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}});var $=qt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return $.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return $.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return $.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return $.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class s{optimizeNodes(){return this}optimizeNames(n,p){return this}}class h extends s{constructor(n,p,j){super(),this.varKind=n,this.name=p,this.rhs=j}render({es5:n,_n:p}){const j=n?w.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${V};`+p}optimizeNames(n,p){if(n[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,n,p)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(n,p,j){super(),this.lhs=n,this.rhs=p,this.sideEffects=j}render({_n:n}){return`${this.lhs} = ${this.rhs};`+n}optimizeNames(n,p){if(!(this.lhs instanceof r.Name&&!n[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,n,p),this}get names(){const n=this.lhs instanceof r.Name?{}:{...this.lhs.names};return z(n,this.rhs)}}class u extends a{constructor(n,p,j,V){super(n,j,V),this.op=p}render({_n:n}){return`${this.lhs} ${this.op}= ${this.rhs};`+n}}class y extends s{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`${this.label}:`+n}}class m extends s{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`break${this.label?` ${this.label}`:""};`+n}}class b extends s{constructor(n){super(),this.error=n}render({_n:n}){return`throw ${this.error};`+n}get names(){return this.error.names}}class N extends s{constructor(n){super(),this.code=n}render({_n:n}){return`${this.code};`+n}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(n,p){return this.code=W(this.code,n,p),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class k extends s{constructor(n=[]){super(),this.nodes=n}render(n){return this.nodes.reduce((p,j)=>p+j.render(n),"")}optimizeNodes(){const{nodes:n}=this;let p=n.length;for(;p--;){const j=n[p].optimizeNodes();Array.isArray(j)?n.splice(p,1,...j):j?n[p]=j:n.splice(p,1)}return n.length>0?this:void 0}optimizeNames(n,p){const{nodes:j}=this;let V=j.length;for(;V--;){const U=j[V];U.optimizeNames(n,p)||(x(n,U.names),j.splice(V,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((n,p)=>L(n,p.names),{})}}class P extends k{render(n){return"{"+n._n+super.render(n)+"}"+n._n}}class E extends k{}class l extends P{}l.kind="else";class o extends P{constructor(n,p){super(p),this.condition=n}render(n){let p=`if(${this.condition})`+super.render(n);return this.else&&(p+="else "+this.else.render(n)),p}optimizeNodes(){super.optimizeNodes();const n=this.condition;if(n===!0)return this.nodes;let p=this.else;if(p){const j=p.optimizeNodes();p=this.else=Array.isArray(j)?new l(j):j}if(p)return n===!1?p instanceof o?p:p.nodes:this.nodes.length?this:new o(de(n),p instanceof o?[p]:p.nodes);if(!(n===!1||!this.nodes.length))return this}optimizeNames(n,p){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(n,p),!!(super.optimizeNames(n,p)||this.else))return this.condition=W(this.condition,n,p),this}get names(){const n=super.names;return z(n,this.condition),this.else&&L(n,this.else.names),n}}o.kind="if";class t extends P{}t.kind="for";class d extends t{constructor(n){super(),this.iteration=n}render(n){return`for(${this.iteration})`+super.render(n)}optimizeNames(n,p){if(super.optimizeNames(n,p))return this.iteration=W(this.iteration,n,p),this}get names(){return L(super.names,this.iteration.names)}}class _ extends t{constructor(n,p,j,V){super(),this.varKind=n,this.name=p,this.from=j,this.to=V}render(n){const p=n.es5?w.varKinds.var:this.varKind,{name:j,from:V,to:U}=this;return`for(${p} ${j}=${V}; ${j}<${U}; ${j}++)`+super.render(n)}get names(){const n=z(super.names,this.from);return z(n,this.to)}}class f extends t{constructor(n,p,j,V){super(),this.loop=n,this.varKind=p,this.name=j,this.iterable=V}render(n){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(n)}optimizeNames(n,p){if(super.optimizeNames(n,p))return this.iterable=W(this.iterable,n,p),this}get names(){return L(super.names,this.iterable.names)}}class i extends P{constructor(n,p,j){super(),this.name=n,this.args=p,this.async=j}render(n){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(n)}}i.kind="func";class v extends k{render(n){return"return "+super.render(n)}}v.kind="return";class T extends P{render(n){let p="try"+super.render(n);return this.catch&&(p+=this.catch.render(n)),this.finally&&(p+=this.finally.render(n)),p}optimizeNodes(){var n,p;return super.optimizeNodes(),(n=this.catch)===null||n===void 0||n.optimizeNodes(),(p=this.finally)===null||p===void 0||p.optimizeNodes(),this}optimizeNames(n,p){var j,V;return super.optimizeNames(n,p),(j=this.catch)===null||j===void 0||j.optimizeNames(n,p),(V=this.finally)===null||V===void 0||V.optimizeNames(n,p),this}get names(){const n=super.names;return this.catch&&L(n,this.catch.names),this.finally&&L(n,this.finally.names),n}}class M extends P{constructor(n){super(),this.error=n}render(n){return`catch(${this.error})`+super.render(n)}}M.kind="catch";class D extends P{render(n){return"finally"+super.render(n)}}D.kind="finally";class F{constructor(n,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?`
`:""},this._extScope=n,this._scope=new w.Scope({parent:n}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(n){return this._scope.name(n)}scopeName(n){return this._extScope.name(n)}scopeValue(n,p){const j=this._extScope.value(n,p);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(n,p){return this._extScope.getValue(n,p)}scopeRefs(n){return this._extScope.scopeRefs(n,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(n,p,j,V){const U=this._scope.toName(p);return j!==void 0&&V&&(this._constants[U.str]=j),this._leafNode(new h(n,U,j)),U}const(n,p,j){return this._def(w.varKinds.const,n,p,j)}let(n,p,j){return this._def(w.varKinds.let,n,p,j)}var(n,p,j){return this._def(w.varKinds.var,n,p,j)}assign(n,p,j){return this._leafNode(new a(n,p,j))}add(n,p){return this._leafNode(new u(n,e.operators.ADD,p))}code(n){return typeof n=="function"?n():n!==r.nil&&this._leafNode(new N(n)),this}object(...n){const p=["{"];for(const[j,V]of n)p.length>1&&p.push(","),p.push(j),(j!==V||this.opts.es5)&&(p.push(":"),(0,r.addCodeArg)(p,V));return p.push("}"),new r._Code(p)}if(n,p,j){if(this._blockNode(new o(n)),p&&j)this.code(p).else().code(j).endIf();else if(p)this.code(p).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(n){return this._elseNode(new o(n))}else(){return this._elseNode(new l)}endIf(){return this._endBlockNode(o,l)}_for(n,p){return this._blockNode(n),p&&this.code(p).endFor(),this}for(n,p){return this._for(new d(n),p)}forRange(n,p,j,V,U=this.opts.es5?w.varKinds.var:w.varKinds.let){const X=this._scope.toName(n);return this._for(new _(U,X,p,j),()=>V(X))}forOf(n,p,j,V=w.varKinds.const){const U=this._scope.toName(n);if(this.opts.es5){const X=p instanceof r.Name?p:this.var("_arr",p);return this.forRange("_i",0,(0,r._)`${X}.length`,B=>{this.var(U,(0,r._)`${X}[${B}]`),j(U)})}return this._for(new f("of",V,U,p),()=>j(U))}forIn(n,p,j,V=this.opts.es5?w.varKinds.var:w.varKinds.const){if(this.opts.ownProperties)return this.forOf(n,(0,r._)`Object.keys(${p})`,j);const U=this._scope.toName(n);return this._for(new f("in",V,U,p),()=>j(U))}endFor(){return this._endBlockNode(t)}label(n){return this._leafNode(new y(n))}break(n){return this._leafNode(new m(n))}return(n){const p=new v;if(this._blockNode(p),this.code(n),p.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(v)}try(n,p,j){if(!p&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new T;if(this._blockNode(V),this.code(n),p){const U=this.name("e");this._currNode=V.catch=new M(U),p(U)}return j&&(this._currNode=V.finally=new D,this.code(j)),this._endBlockNode(M,D)}throw(n){return this._leafNode(new b(n))}block(n,p){return this._blockStarts.push(this._nodes.length),n&&this.code(n).endBlock(p),this}endBlock(n){const p=this._blockStarts.pop();if(p===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-p;if(j<0||n!==void 0&&j!==n)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${n} expected`);return this._nodes.length=p,this}func(n,p=r.nil,j,V){return this._blockNode(new i(n,p,j)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(i)}optimize(n=1){for(;n-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(n){return this._currNode.nodes.push(n),this}_blockNode(n){this._currNode.nodes.push(n),this._nodes.push(n)}_endBlockNode(n,p){const j=this._currNode;if(j instanceof n||p&&j instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${n.kind}/${p.kind}`:n.kind}"`)}_elseNode(n){const p=this._currNode;if(!(p instanceof o))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=n,this}get _root(){return this._nodes[0]}get _currNode(){const n=this._nodes;return n[n.length-1]}set _currNode(n){const p=this._nodes;p[p.length-1]=n}}e.CodeGen=F;function L(O,n){for(const p in n)O[p]=(O[p]||0)+(n[p]||0);return O}function z(O,n){return n instanceof r._CodeOrName?L(O,n.names):O}function W(O,n,p){if(O instanceof r.Name)return j(O);if(!V(O))return O;return new r._Code(O._items.reduce((U,X)=>(X instanceof r.Name&&(X=j(X)),X instanceof r._Code?U.push(...X._items):U.push(X),U),[]));function j(U){const X=p[U.str];return X===void 0||n[U.str]!==1?U:(delete n[U.str],X)}function V(U){return U instanceof r._Code&&U._items.some(X=>X instanceof r.Name&&n[X.str]===1&&p[X.str]!==void 0)}}function x(O,n){for(const p in n)O[p]=(O[p]||0)-(n[p]||0)}function de(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,r._)`!${I(O)}`}e.not=de;const fe=S(e.operators.AND);function Z(...O){return O.reduce(fe)}e.and=Z;const ye=S(e.operators.OR);function q(...O){return O.reduce(ye)}e.or=q;function S(O){return(n,p)=>n===r.nil?p:p===r.nil?n:(0,r._)`${I(n)} ${O} ${I(p)}`}function I(O){return O instanceof r.Name?O:(0,r._)`(${O})`}}(Et)),Et}var G={},At;function Q(){if(At)return G;At=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const e=H(),r=ft();function w(f){const i={};for(const v of f)i[v]=!0;return i}G.toHash=w;function c(f,i){return typeof i=="boolean"?i:Object.keys(i).length===0?!0:($(f,i),!s(i,f.self.RULES.all))}G.alwaysValidSchema=c;function $(f,i=f.schema){const{opts:v,self:T}=f;if(!v.strictSchema||typeof i=="boolean")return;const M=T.RULES.keywords;for(const D in i)M[D]||_(f,`unknown keyword: "${D}"`)}G.checkUnknownRules=$;function s(f,i){if(typeof f=="boolean")return!f;for(const v in f)if(i[v])return!0;return!1}G.schemaHasRules=s;function h(f,i){if(typeof f=="boolean")return!f;for(const v in f)if(v!=="$ref"&&i.all[v])return!0;return!1}G.schemaHasRulesButRef=h;function a({topSchemaRef:f,schemaPath:i},v,T,M){if(!M){if(typeof v=="number"||typeof v=="boolean")return v;if(typeof v=="string")return(0,e._)`${v}`}return(0,e._)`${f}${i}${(0,e.getProperty)(T)}`}G.schemaRefOrVal=a;function u(f){return b(decodeURIComponent(f))}G.unescapeFragment=u;function y(f){return encodeURIComponent(m(f))}G.escapeFragment=y;function m(f){return typeof f=="number"?`${f}`:f.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=m;function b(f){return f.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=b;function N(f,i){if(Array.isArray(f))for(const v of f)i(v);else i(f)}G.eachItem=N;function k({mergeNames:f,mergeToName:i,mergeValues:v,resultToName:T}){return(M,D,F,L)=>{const z=F===void 0?D:F instanceof e.Name?(D instanceof e.Name?f(M,D,F):i(M,D,F),F):D instanceof e.Name?(i(M,F,D),D):v(D,F);return L===e.Name&&!(z instanceof e.Name)?T(M,z):z}}G.mergeEvaluated={props:k({mergeNames:(f,i,v)=>f.if((0,e._)`${v} !== true && ${i} !== undefined`,()=>{f.if((0,e._)`${i} === true`,()=>f.assign(v,!0),()=>f.assign(v,(0,e._)`${v} || {}`).code((0,e._)`Object.assign(${v}, ${i})`))}),mergeToName:(f,i,v)=>f.if((0,e._)`${v} !== true`,()=>{i===!0?f.assign(v,!0):(f.assign(v,(0,e._)`${v} || {}`),E(f,v,i))}),mergeValues:(f,i)=>f===!0?!0:{...f,...i},resultToName:P}),items:k({mergeNames:(f,i,v)=>f.if((0,e._)`${v} !== true && ${i} !== undefined`,()=>f.assign(v,(0,e._)`${i} === true ? true : ${v} > ${i} ? ${v} : ${i}`)),mergeToName:(f,i,v)=>f.if((0,e._)`${v} !== true`,()=>f.assign(v,i===!0?!0:(0,e._)`${v} > ${i} ? ${v} : ${i}`)),mergeValues:(f,i)=>f===!0?!0:Math.max(f,i),resultToName:(f,i)=>f.var("items",i)})};function P(f,i){if(i===!0)return f.var("props",!0);const v=f.var("props",(0,e._)`{}`);return i!==void 0&&E(f,v,i),v}G.evaluatedPropsToName=P;function E(f,i,v){Object.keys(v).forEach(T=>f.assign((0,e._)`${i}${(0,e.getProperty)(T)}`,!0))}G.setEvaluated=E;const l={};function o(f,i){return f.scopeValue("func",{ref:i,code:l[i.code]||(l[i.code]=new r._Code(i.code))})}G.useFunc=o;var t;(function(f){f[f.Num=0]="Num",f[f.Str=1]="Str"})(t||(G.Type=t={}));function d(f,i,v){if(f instanceof e.Name){const T=i===t.Num;return v?T?(0,e._)`"[" + ${f} + "]"`:(0,e._)`"['" + ${f} + "']"`:T?(0,e._)`"/" + ${f}`:(0,e._)`"/" + ${f}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return v?(0,e.getProperty)(f).toString():"/"+m(f)}G.getErrorPath=d;function _(f,i,v=f.opts.strictSchema){if(v){if(i=`strict mode: ${i}`,v===!0)throw new Error(i);f.self.logger.warn(i)}}return G.checkStrictMode=_,G}var Oe={},Dt;function ve(){if(Dt)return Oe;Dt=1,Object.defineProperty(Oe,"__esModule",{value:!0});const e=H(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Oe.default=r,Oe}var Vt;function mt(){return Vt||(Vt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=H(),w=Q(),c=ve();e.keywordError={message:({keyword:l})=>(0,r.str)`must pass "${l}" keyword validation`},e.keyword$DataError={message:({keyword:l,schemaType:o})=>o?(0,r.str)`"${l}" keyword must be ${o} ($data)`:(0,r.str)`"${l}" keyword is invalid ($data)`};function $(l,o=e.keywordError,t,d){const{it:_}=l,{gen:f,compositeRule:i,allErrors:v}=_,T=b(l,o,t);d??(i||v)?u(f,T):y(_,(0,r._)`[${T}]`)}e.reportError=$;function s(l,o=e.keywordError,t){const{it:d}=l,{gen:_,compositeRule:f,allErrors:i}=d,v=b(l,o,t);u(_,v),f||i||y(d,c.default.vErrors)}e.reportExtraError=s;function h(l,o){l.assign(c.default.errors,o),l.if((0,r._)`${c.default.vErrors} !== null`,()=>l.if(o,()=>l.assign((0,r._)`${c.default.vErrors}.length`,o),()=>l.assign(c.default.vErrors,null)))}e.resetErrorsCount=h;function a({gen:l,keyword:o,schemaValue:t,data:d,errsCount:_,it:f}){if(_===void 0)throw new Error("ajv implementation error");const i=l.name("err");l.forRange("i",_,c.default.errors,v=>{l.const(i,(0,r._)`${c.default.vErrors}[${v}]`),l.if((0,r._)`${i}.instancePath === undefined`,()=>l.assign((0,r._)`${i}.instancePath`,(0,r.strConcat)(c.default.instancePath,f.errorPath))),l.assign((0,r._)`${i}.schemaPath`,(0,r.str)`${f.errSchemaPath}/${o}`),f.opts.verbose&&(l.assign((0,r._)`${i}.schema`,t),l.assign((0,r._)`${i}.data`,d))})}e.extendErrors=a;function u(l,o){const t=l.const("err",o);l.if((0,r._)`${c.default.vErrors} === null`,()=>l.assign(c.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${c.default.vErrors}.push(${t})`),l.code((0,r._)`${c.default.errors}++`)}function y(l,o){const{gen:t,validateName:d,schemaEnv:_}=l;_.$async?t.throw((0,r._)`new ${l.ValidationError}(${o})`):(t.assign((0,r._)`${d}.errors`,o),t.return(!1))}const m={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function b(l,o,t){const{createErrors:d}=l.it;return d===!1?(0,r._)`{}`:N(l,o,t)}function N(l,o,t={}){const{gen:d,it:_}=l,f=[k(_,t),P(l,t)];return E(l,o,f),d.object(...f)}function k({errorPath:l},{instancePath:o}){const t=o?(0,r.str)`${l}${(0,w.getErrorPath)(o,w.Type.Str)}`:l;return[c.default.instancePath,(0,r.strConcat)(c.default.instancePath,t)]}function P({keyword:l,it:{errSchemaPath:o}},{schemaPath:t,parentSchema:d}){let _=d?o:(0,r.str)`${o}/${l}`;return t&&(_=(0,r.str)`${_}${(0,w.getErrorPath)(t,w.Type.Str)}`),[m.schemaPath,_]}function E(l,{params:o,message:t},d){const{keyword:_,data:f,schemaValue:i,it:v}=l,{opts:T,propertyName:M,topSchemaRef:D,schemaPath:F}=v;d.push([m.keyword,_],[m.params,typeof o=="function"?o(l):o||(0,r._)`{}`]),T.messages&&d.push([m.message,typeof t=="function"?t(l):t]),T.verbose&&d.push([m.schema,i],[m.parentSchema,(0,r._)`${D}${F}`],[c.default.data,f]),M&&d.push([m.propertyName,M])}}(bt)),bt}var Ft;function Xr(){if(Ft)return $e;Ft=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.boolOrEmptySchema=$e.topBoolOrEmptySchema=void 0;const e=mt(),r=H(),w=ve(),c={message:"boolean schema is false"};function $(a){const{gen:u,schema:y,validateName:m}=a;y===!1?h(a,!1):typeof y=="object"&&y.$async===!0?u.return(w.default.data):(u.assign((0,r._)`${m}.errors`,null),u.return(!0))}$e.topBoolOrEmptySchema=$;function s(a,u){const{gen:y,schema:m}=a;m===!1?(y.var(u,!1),h(a)):y.var(u,!0)}$e.boolOrEmptySchema=s;function h(a,u){const{gen:y,data:m}=a,b={gen:y,keyword:"false schema",data:m,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(b,c,void 0,u)}return $e}var re={},ge={},Kt;function Ur(){if(Kt)return ge;Kt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.getRules=ge.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function w($){return typeof $=="string"&&r.has($)}ge.isJSONType=w;function c(){const $={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...$,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},$.number,$.string,$.array,$.object],post:{rules:[]},all:{},keywords:{}}}return ge.getRules=c,ge}var me={},Ut;function zr(){if(Ut)return me;Ut=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:c,self:$},s){const h=$.RULES.types[s];return h&&h!==!0&&r(c,h)}me.schemaHasRulesForType=e;function r(c,$){return $.rules.some(s=>w(c,s))}me.shouldUseGroup=r;function w(c,$){var s;return c[$.keyword]!==void 0||((s=$.definition.implements)===null||s===void 0?void 0:s.some(h=>c[h]!==void 0))}return me.shouldUseRule=w,me}var zt;function ht(){if(zt)return re;zt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=Ur(),r=zr(),w=mt(),c=H(),$=Q();var s;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(s||(re.DataType=s={}));function h(t){const d=a(t.type);if(d.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!d.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&d.push("null")}return d}re.getSchemaTypes=h;function a(t){const d=Array.isArray(t)?t:t?[t]:[];if(d.every(e.isJSONType))return d;throw new Error("type must be JSONType or JSONType[]: "+d.join(","))}re.getJSONTypes=a;function u(t,d){const{gen:_,data:f,opts:i}=t,v=m(d,i.coerceTypes),T=d.length>0&&!(v.length===0&&d.length===1&&(0,r.schemaHasRulesForType)(t,d[0]));if(T){const M=P(d,f,i.strictNumbers,s.Wrong);_.if(M,()=>{v.length?b(t,d,v):l(t)})}return T}re.coerceAndCheckDataType=u;const y=new Set(["string","number","integer","boolean","null"]);function m(t,d){return d?t.filter(_=>y.has(_)||d==="array"&&_==="array"):[]}function b(t,d,_){const{gen:f,data:i,opts:v}=t,T=f.let("dataType",(0,c._)`typeof ${i}`),M=f.let("coerced",(0,c._)`undefined`);v.coerceTypes==="array"&&f.if((0,c._)`${T} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>f.assign(i,(0,c._)`${i}[0]`).assign(T,(0,c._)`typeof ${i}`).if(P(d,i,v.strictNumbers),()=>f.assign(M,i))),f.if((0,c._)`${M} !== undefined`);for(const F of _)(y.has(F)||F==="array"&&v.coerceTypes==="array")&&D(F);f.else(),l(t),f.endIf(),f.if((0,c._)`${M} !== undefined`,()=>{f.assign(i,M),N(t,M)});function D(F){switch(F){case"string":f.elseIf((0,c._)`${T} == "number" || ${T} == "boolean"`).assign(M,(0,c._)`"" + ${i}`).elseIf((0,c._)`${i} === null`).assign(M,(0,c._)`""`);return;case"number":f.elseIf((0,c._)`${T} == "boolean" || ${i} === null
              || (${T} == "string" && ${i} && ${i} == +${i})`).assign(M,(0,c._)`+${i}`);return;case"integer":f.elseIf((0,c._)`${T} === "boolean" || ${i} === null
              || (${T} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(M,(0,c._)`+${i}`);return;case"boolean":f.elseIf((0,c._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(M,!1).elseIf((0,c._)`${i} === "true" || ${i} === 1`).assign(M,!0);return;case"null":f.elseIf((0,c._)`${i} === "" || ${i} === 0 || ${i} === false`),f.assign(M,null);return;case"array":f.elseIf((0,c._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${i} === null`).assign(M,(0,c._)`[${i}]`)}}}function N({gen:t,parentData:d,parentDataProperty:_},f){t.if((0,c._)`${d} !== undefined`,()=>t.assign((0,c._)`${d}[${_}]`,f))}function k(t,d,_,f=s.Correct){const i=f===s.Correct?c.operators.EQ:c.operators.NEQ;let v;switch(t){case"null":return(0,c._)`${d} ${i} null`;case"array":v=(0,c._)`Array.isArray(${d})`;break;case"object":v=(0,c._)`${d} && typeof ${d} == "object" && !Array.isArray(${d})`;break;case"integer":v=T((0,c._)`!(${d} % 1) && !isNaN(${d})`);break;case"number":v=T();break;default:return(0,c._)`typeof ${d} ${i} ${t}`}return f===s.Correct?v:(0,c.not)(v);function T(M=c.nil){return(0,c.and)((0,c._)`typeof ${d} == "number"`,M,_?(0,c._)`isFinite(${d})`:c.nil)}}re.checkDataType=k;function P(t,d,_,f){if(t.length===1)return k(t[0],d,_,f);let i;const v=(0,$.toHash)(t);if(v.array&&v.object){const T=(0,c._)`typeof ${d} != "object"`;i=v.null?T:(0,c._)`!${d} || ${T}`,delete v.null,delete v.array,delete v.object}else i=c.nil;v.number&&delete v.integer;for(const T in v)i=(0,c.and)(i,k(T,d,_,f));return i}re.checkDataTypes=P;const E={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:d})=>typeof t=="string"?(0,c._)`{type: ${t}}`:(0,c._)`{type: ${d}}`};function l(t){const d=o(t);(0,w.reportError)(d,E)}re.reportTypeError=l;function o(t){const{gen:d,data:_,schema:f}=t,i=(0,$.schemaRefOrVal)(t,f,"type");return{gen:d,keyword:"type",data:_,schema:f.type,schemaCode:i,schemaValue:i,parentSchema:f,params:{},it:t}}return re}var Ne={},Lt;function Yr(){if(Lt)return Ne;Lt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=H(),r=Q();function w($,s){const{properties:h,items:a}=$.schema;if(s==="object"&&h)for(const u in h)c($,u,h[u].default);else s==="array"&&Array.isArray(a)&&a.forEach((u,y)=>c($,y,u.default))}Ne.assignDefaults=w;function c($,s,h){const{gen:a,compositeRule:u,data:y,opts:m}=$;if(h===void 0)return;const b=(0,e._)`${y}${(0,e.getProperty)(s)}`;if(u){(0,r.checkStrictMode)($,`default is ignored for: ${b}`);return}let N=(0,e._)`${b} === undefined`;m.useDefaults==="empty"&&(N=(0,e._)`${N} || ${b} === null || ${b} === ""`),a.if(N,(0,e._)`${b} = ${(0,e.stringify)(h)}`)}return Ne}var ue={},Y={},Gt;function le(){if(Gt)return Y;Gt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=H(),r=Q(),w=ve(),c=Q();function $(t,d){const{gen:_,data:f,it:i}=t;_.if(m(_,f,d,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${d}`},!0),t.error()})}Y.checkReportMissingProp=$;function s({gen:t,data:d,it:{opts:_}},f,i){return(0,e.or)(...f.map(v=>(0,e.and)(m(t,d,v,_.ownProperties),(0,e._)`${i} = ${v}`)))}Y.checkMissingProp=s;function h(t,d){t.setParams({missingProperty:d},!0),t.error()}Y.reportMissingProp=h;function a(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=a;function u(t,d,_){return(0,e._)`${a(t)}.call(${d}, ${_})`}Y.isOwnProperty=u;function y(t,d,_,f){const i=(0,e._)`${d}${(0,e.getProperty)(_)} !== undefined`;return f?(0,e._)`${i} && ${u(t,d,_)}`:i}Y.propertyInData=y;function m(t,d,_,f){const i=(0,e._)`${d}${(0,e.getProperty)(_)} === undefined`;return f?(0,e.or)(i,(0,e.not)(u(t,d,_))):i}Y.noPropertyInData=m;function b(t){return t?Object.keys(t).filter(d=>d!=="__proto__"):[]}Y.allSchemaProperties=b;function N(t,d){return b(d).filter(_=>!(0,r.alwaysValidSchema)(t,d[_]))}Y.schemaProperties=N;function k({schemaCode:t,data:d,it:{gen:_,topSchemaRef:f,schemaPath:i,errorPath:v},it:T},M,D,F){const L=F?(0,e._)`${t}, ${d}, ${f}${i}`:d,z=[[w.default.instancePath,(0,e.strConcat)(w.default.instancePath,v)],[w.default.parentData,T.parentData],[w.default.parentDataProperty,T.parentDataProperty],[w.default.rootData,w.default.rootData]];T.opts.dynamicRef&&z.push([w.default.dynamicAnchors,w.default.dynamicAnchors]);const W=(0,e._)`${L}, ${_.object(...z)}`;return D!==e.nil?(0,e._)`${M}.call(${D}, ${W})`:(0,e._)`${M}(${W})`}Y.callValidateCode=k;const P=(0,e._)`new RegExp`;function E({gen:t,it:{opts:d}},_){const f=d.unicodeRegExp?"u":"",{regExp:i}=d.code,v=i(_,f);return t.scopeValue("pattern",{key:v.toString(),ref:v,code:(0,e._)`${i.code==="new RegExp"?P:(0,c.useFunc)(t,i)}(${_}, ${f})`})}Y.usePattern=E;function l(t){const{gen:d,data:_,keyword:f,it:i}=t,v=d.name("valid");if(i.allErrors){const M=d.let("valid",!0);return T(()=>d.assign(M,!1)),M}return d.var(v,!0),T(()=>d.break()),v;function T(M){const D=d.const("len",(0,e._)`${_}.length`);d.forRange("i",0,D,F=>{t.subschema({keyword:f,dataProp:F,dataPropType:r.Type.Num},v),d.if((0,e.not)(v),M)})}}Y.validateArray=l;function o(t){const{gen:d,schema:_,keyword:f,it:i}=t;if(!Array.isArray(_))throw new Error("ajv implementation error");if(_.some(D=>(0,r.alwaysValidSchema)(i,D))&&!i.opts.unevaluated)return;const T=d.let("valid",!1),M=d.name("_valid");d.block(()=>_.forEach((D,F)=>{const L=t.subschema({keyword:f,schemaProp:F,compositeRule:!0},M);d.assign(T,(0,e._)`${T} || ${M}`),t.mergeValidEvaluated(L,M)||d.if((0,e.not)(T))})),t.result(T,()=>t.reset(),()=>t.error(!0))}return Y.validateUnion=o,Y}var Jt;function Zr(){if(Jt)return ue;Jt=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.validateKeywordUsage=ue.validSchemaType=ue.funcKeywordCode=ue.macroKeywordCode=void 0;const e=H(),r=ve(),w=le(),c=mt();function $(N,k){const{gen:P,keyword:E,schema:l,parentSchema:o,it:t}=N,d=k.macro.call(t.self,l,o,t),_=y(P,E,d);t.opts.validateSchema!==!1&&t.self.validateSchema(d,!0);const f=P.name("valid");N.subschema({schema:d,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${E}`,topSchemaRef:_,compositeRule:!0},f),N.pass(f,()=>N.error(!0))}ue.macroKeywordCode=$;function s(N,k){var P;const{gen:E,keyword:l,schema:o,parentSchema:t,$data:d,it:_}=N;u(_,k);const f=!d&&k.compile?k.compile.call(_.self,o,t,_):k.validate,i=y(E,l,f),v=E.let("valid");N.block$data(v,T),N.ok((P=k.valid)!==null&&P!==void 0?P:v);function T(){if(k.errors===!1)F(),k.modifying&&h(N),L(()=>N.error());else{const z=k.async?M():D();k.modifying&&h(N),L(()=>a(N,z))}}function M(){const z=E.let("ruleErrs",null);return E.try(()=>F((0,e._)`await `),W=>E.assign(v,!1).if((0,e._)`${W} instanceof ${_.ValidationError}`,()=>E.assign(z,(0,e._)`${W}.errors`),()=>E.throw(W))),z}function D(){const z=(0,e._)`${i}.errors`;return E.assign(z,null),F(e.nil),z}function F(z=k.async?(0,e._)`await `:e.nil){const W=_.opts.passContext?r.default.this:r.default.self,x=!("compile"in k&&!d||k.schema===!1);E.assign(v,(0,e._)`${z}${(0,w.callValidateCode)(N,i,W,x)}`,k.modifying)}function L(z){var W;E.if((0,e.not)((W=k.valid)!==null&&W!==void 0?W:v),z)}}ue.funcKeywordCode=s;function h(N){const{gen:k,data:P,it:E}=N;k.if(E.parentData,()=>k.assign(P,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function a(N,k){const{gen:P}=N;P.if((0,e._)`Array.isArray(${k})`,()=>{P.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${k} : ${r.default.vErrors}.concat(${k})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,c.extendErrors)(N)},()=>N.error())}function u({schemaEnv:N},k){if(k.async&&!N.$async)throw new Error("async keyword in sync schema")}function y(N,k,P){if(P===void 0)throw new Error(`keyword "${k}" failed to compile`);return N.scopeValue("keyword",typeof P=="function"?{ref:P}:{ref:P,code:(0,e.stringify)(P)})}function m(N,k,P=!1){return!k.length||k.some(E=>E==="array"?Array.isArray(N):E==="object"?N&&typeof N=="object"&&!Array.isArray(N):typeof N==E||P&&typeof N>"u")}ue.validSchemaType=m;function b({schema:N,opts:k,self:P,errSchemaPath:E},l,o){if(Array.isArray(l.keyword)?!l.keyword.includes(o):l.keyword!==o)throw new Error("ajv implementation error");const t=l.dependencies;if(t!=null&&t.some(d=>!Object.prototype.hasOwnProperty.call(N,d)))throw new Error(`parent schema must have dependencies of ${o}: ${t.join(",")}`);if(l.validateSchema&&!l.validateSchema(N[o])){const _=`keyword "${o}" value is invalid at path "${E}": `+P.errorsText(l.validateSchema.errors);if(k.validateSchema==="log")P.logger.error(_);else throw new Error(_)}}return ue.validateKeywordUsage=b,ue}var pe={},Ht;function xr(){if(Ht)return pe;Ht=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.extendSubschemaMode=pe.extendSubschemaData=pe.getSubschema=void 0;const e=H(),r=Q();function w(s,{keyword:h,schemaProp:a,schema:u,schemaPath:y,errSchemaPath:m,topSchemaRef:b}){if(h!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(h!==void 0){const N=s.schema[h];return a===void 0?{schema:N,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(h)}`,errSchemaPath:`${s.errSchemaPath}/${h}`}:{schema:N[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(h)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${h}/${(0,r.escapeFragment)(a)}`}}if(u!==void 0){if(y===void 0||m===void 0||b===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:y,topSchemaRef:b,errSchemaPath:m}}throw new Error('either "keyword" or "schema" must be passed')}pe.getSubschema=w;function c(s,h,{dataProp:a,dataPropType:u,data:y,dataTypes:m,propertyName:b}){if(y!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:N}=h;if(a!==void 0){const{errorPath:P,dataPathArr:E,opts:l}=h,o=N.let("data",(0,e._)`${h.data}${(0,e.getProperty)(a)}`,!0);k(o),s.errorPath=(0,e.str)`${P}${(0,r.getErrorPath)(a,u,l.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...E,s.parentDataProperty]}if(y!==void 0){const P=y instanceof e.Name?y:N.let("data",y,!0);k(P),b!==void 0&&(s.propertyName=b)}m&&(s.dataTypes=m);function k(P){s.data=P,s.dataLevel=h.dataLevel+1,s.dataTypes=[],h.definedProperties=new Set,s.parentData=h.data,s.dataNames=[...h.dataNames,P]}}pe.extendSubschemaData=c;function $(s,{jtdDiscriminator:h,jtdMetadata:a,compositeRule:u,createErrors:y,allErrors:m}){u!==void 0&&(s.compositeRule=u),y!==void 0&&(s.createErrors=y),m!==void 0&&(s.allErrors=m),s.jtdDiscriminator=h,s.jtdMetadata=a}return pe.extendSubschemaMode=$,pe}var ne={},Bt;function pt(){if(Bt)return ne;Bt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=Q(),r=Kr(),w=Br(),c=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $(E,l=!0){return typeof E=="boolean"?!0:l===!0?!h(E):l?a(E)<=l:!1}ne.inlineRef=$;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function h(E){for(const l in E){if(s.has(l))return!0;const o=E[l];if(Array.isArray(o)&&o.some(h)||typeof o=="object"&&h(o))return!0}return!1}function a(E){let l=0;for(const o in E){if(o==="$ref")return 1/0;if(l++,!c.has(o)&&(typeof E[o]=="object"&&(0,e.eachItem)(E[o],t=>l+=a(t)),l===1/0))return 1/0}return l}function u(E,l="",o){o!==!1&&(l=b(l));const t=E.parse(l);return y(E,t)}ne.getFullPath=u;function y(E,l){return E.serialize(l).split("#")[0]+"#"}ne._getFullPath=y;const m=/#\/?$/;function b(E){return E?E.replace(m,""):""}ne.normalizeId=b;function N(E,l,o){return o=b(o),E.resolve(l,o)}ne.resolveUrl=N;const k=/^[a-z_][-a-z0-9._]*$/i;function P(E,l){if(typeof E=="boolean")return{};const{schemaId:o,uriResolver:t}=this.opts,d=b(E[o]||l),_={"":d},f=u(t,d,!1),i={},v=new Set;return w(E,{allKeys:!0},(D,F,L,z)=>{if(z===void 0)return;const W=f+F;let x=_[z];typeof D[o]=="string"&&(x=de.call(this,D[o])),fe.call(this,D.$anchor),fe.call(this,D.$dynamicAnchor),_[F]=x;function de(Z){const ye=this.opts.uriResolver.resolve;if(Z=b(x?ye(x,Z):Z),v.has(Z))throw M(Z);v.add(Z);let q=this.refs[Z];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?T(D,q.schema,Z):Z!==b(W)&&(Z[0]==="#"?(T(D,i[Z],Z),i[Z]=D):this.refs[Z]=W),Z}function fe(Z){if(typeof Z=="string"){if(!k.test(Z))throw new Error(`invalid anchor "${Z}"`);de.call(this,`#${Z}`)}}}),i;function T(D,F,L){if(F!==void 0&&!r(D,F))throw M(L)}function M(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return ne.getSchemaRefs=P,ne}var Wt;function yt(){if(Wt)return he;Wt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=Xr(),r=ht(),w=zr(),c=ht(),$=Yr(),s=Zr(),h=xr(),a=H(),u=ve(),y=pt(),m=Q(),b=mt();function N(g){if(f(g)&&(v(g),_(g))){l(g);return}k(g,()=>(0,e.topBoolOrEmptySchema)(g))}he.validateFunctionCode=N;function k({gen:g,validateName:R,schema:C,schemaEnv:A,opts:K},J){K.code.es5?g.func(R,(0,a._)`${u.default.data}, ${u.default.valCxt}`,A.$async,()=>{g.code((0,a._)`"use strict"; ${t(C,K)}`),E(g,K),g.code(J)}):g.func(R,(0,a._)`${u.default.data}, ${P(K)}`,A.$async,()=>g.code(t(C,K)).code(J))}function P(g){return(0,a._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${g.dynamicRef?(0,a._)`, ${u.default.dynamicAnchors}={}`:a.nil}}={}`}function E(g,R){g.if(u.default.valCxt,()=>{g.var(u.default.instancePath,(0,a._)`${u.default.valCxt}.${u.default.instancePath}`),g.var(u.default.parentData,(0,a._)`${u.default.valCxt}.${u.default.parentData}`),g.var(u.default.parentDataProperty,(0,a._)`${u.default.valCxt}.${u.default.parentDataProperty}`),g.var(u.default.rootData,(0,a._)`${u.default.valCxt}.${u.default.rootData}`),R.dynamicRef&&g.var(u.default.dynamicAnchors,(0,a._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{g.var(u.default.instancePath,(0,a._)`""`),g.var(u.default.parentData,(0,a._)`undefined`),g.var(u.default.parentDataProperty,(0,a._)`undefined`),g.var(u.default.rootData,u.default.data),R.dynamicRef&&g.var(u.default.dynamicAnchors,(0,a._)`{}`)})}function l(g){const{schema:R,opts:C,gen:A}=g;k(g,()=>{C.$comment&&R.$comment&&z(g),D(g),A.let(u.default.vErrors,null),A.let(u.default.errors,0),C.unevaluated&&o(g),T(g),W(g)})}function o(g){const{gen:R,validateName:C}=g;g.evaluated=R.const("evaluated",(0,a._)`${C}.evaluated`),R.if((0,a._)`${g.evaluated}.dynamicProps`,()=>R.assign((0,a._)`${g.evaluated}.props`,(0,a._)`undefined`)),R.if((0,a._)`${g.evaluated}.dynamicItems`,()=>R.assign((0,a._)`${g.evaluated}.items`,(0,a._)`undefined`))}function t(g,R){const C=typeof g=="object"&&g[R.schemaId];return C&&(R.code.source||R.code.process)?(0,a._)`/*# sourceURL=${C} */`:a.nil}function d(g,R){if(f(g)&&(v(g),_(g))){i(g,R);return}(0,e.boolOrEmptySchema)(g,R)}function _({schema:g,self:R}){if(typeof g=="boolean")return!g;for(const C in g)if(R.RULES.all[C])return!0;return!1}function f(g){return typeof g.schema!="boolean"}function i(g,R){const{schema:C,gen:A,opts:K}=g;K.$comment&&C.$comment&&z(g),F(g),L(g);const J=A.const("_errs",u.default.errors);T(g,J),A.var(R,(0,a._)`${J} === ${u.default.errors}`)}function v(g){(0,m.checkUnknownRules)(g),M(g)}function T(g,R){if(g.opts.jtd)return de(g,[],!1,R);const C=(0,r.getSchemaTypes)(g.schema),A=(0,r.coerceAndCheckDataType)(g,C);de(g,C,!A,R)}function M(g){const{schema:R,errSchemaPath:C,opts:A,self:K}=g;R.$ref&&A.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(R,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${C}"`)}function D(g){const{schema:R,opts:C}=g;R.default!==void 0&&C.useDefaults&&C.strictSchema&&(0,m.checkStrictMode)(g,"default is ignored in the schema root")}function F(g){const R=g.schema[g.opts.schemaId];R&&(g.baseId=(0,y.resolveUrl)(g.opts.uriResolver,g.baseId,R))}function L(g){if(g.schema.$async&&!g.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:g,schemaEnv:R,schema:C,errSchemaPath:A,opts:K}){const J=C.$comment;if(K.$comment===!0)g.code((0,a._)`${u.default.self}.logger.log(${J})`);else if(typeof K.$comment=="function"){const ee=(0,a.str)`${A}/$comment`,ce=g.scopeValue("root",{ref:R.root});g.code((0,a._)`${u.default.self}.opts.$comment(${J}, ${ee}, ${ce}.schema)`)}}function W(g){const{gen:R,schemaEnv:C,validateName:A,ValidationError:K,opts:J}=g;C.$async?R.if((0,a._)`${u.default.errors} === 0`,()=>R.return(u.default.data),()=>R.throw((0,a._)`new ${K}(${u.default.vErrors})`)):(R.assign((0,a._)`${A}.errors`,u.default.vErrors),J.unevaluated&&x(g),R.return((0,a._)`${u.default.errors} === 0`))}function x({gen:g,evaluated:R,props:C,items:A}){C instanceof a.Name&&g.assign((0,a._)`${R}.props`,C),A instanceof a.Name&&g.assign((0,a._)`${R}.items`,A)}function de(g,R,C,A){const{gen:K,schema:J,data:ee,allErrors:ce,opts:se,self:ae}=g,{RULES:te}=ae;if(J.$ref&&(se.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(J,te))){K.block(()=>V(g,"$ref",te.all.$ref.definition));return}se.jtd||Z(g,R),K.block(()=>{for(const ie of te.rules)be(ie);be(te.post)});function be(ie){(0,w.shouldUseGroup)(J,ie)&&(ie.type?(K.if((0,c.checkDataType)(ie.type,ee,se.strictNumbers)),fe(g,ie),R.length===1&&R[0]===ie.type&&C&&(K.else(),(0,c.reportTypeError)(g)),K.endIf()):fe(g,ie),ce||K.if((0,a._)`${u.default.errors} === ${A||0}`))}}function fe(g,R){const{gen:C,schema:A,opts:{useDefaults:K}}=g;K&&(0,$.assignDefaults)(g,R.type),C.block(()=>{for(const J of R.rules)(0,w.shouldUseRule)(A,J)&&V(g,J.keyword,J.definition,R.type)})}function Z(g,R){g.schemaEnv.meta||!g.opts.strictTypes||(ye(g,R),g.opts.allowUnionTypes||q(g,R),S(g,g.dataTypes))}function ye(g,R){if(R.length){if(!g.dataTypes.length){g.dataTypes=R;return}R.forEach(C=>{O(g.dataTypes,C)||p(g,`type "${C}" not allowed by context "${g.dataTypes.join(",")}"`)}),n(g,R)}}function q(g,R){R.length>1&&!(R.length===2&&R.includes("null"))&&p(g,"use allowUnionTypes to allow union type keyword")}function S(g,R){const C=g.self.RULES.all;for(const A in C){const K=C[A];if(typeof K=="object"&&(0,w.shouldUseRule)(g.schema,K)){const{type:J}=K.definition;J.length&&!J.some(ee=>I(R,ee))&&p(g,`missing type "${J.join(",")}" for keyword "${A}"`)}}}function I(g,R){return g.includes(R)||R==="number"&&g.includes("integer")}function O(g,R){return g.includes(R)||R==="integer"&&g.includes("number")}function n(g,R){const C=[];for(const A of g.dataTypes)O(R,A)?C.push(A):R.includes("integer")&&A==="number"&&C.push("integer");g.dataTypes=C}function p(g,R){const C=g.schemaEnv.baseId+g.errSchemaPath;R+=` at "${C}" (strictTypes)`,(0,m.checkStrictMode)(g,R,g.opts.strictTypes)}class j{constructor(R,C,A){if((0,s.validateKeywordUsage)(R,C,A),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=A,this.data=R.data,this.schema=R.schema[A],this.$data=C.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(R,this.schema,A,this.$data),this.schemaType=C.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=C,this.$data)this.schemaCode=R.gen.const("vSchema",B(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,C.schemaType,C.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify(C.schemaType)}`);("code"in C?C.trackErrors:C.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,C,A){this.failResult((0,a.not)(R),C,A)}failResult(R,C,A){this.gen.if(R),A?A():this.error(),C?(this.gen.else(),C(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,C){this.failResult((0,a.not)(R),void 0,C)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:C}=this;this.fail((0,a._)`${C} !== undefined && (${(0,a.or)(this.invalid$data(),R)})`)}error(R,C,A){if(C){this.setParams(C),this._error(R,A),this.setParams({});return}this._error(R,A)}_error(R,C){(R?b.reportExtraError:b.reportError)(this,this.def.error,C)}$dataError(){(0,b.reportError)(this,this.def.$dataError||b.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,b.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,C){C?Object.assign(this.params,R):this.params=R}block$data(R,C,A=a.nil){this.gen.block(()=>{this.check$data(R,A),C()})}check$data(R=a.nil,C=a.nil){if(!this.$data)return;const{gen:A,schemaCode:K,schemaType:J,def:ee}=this;A.if((0,a.or)((0,a._)`${K} === undefined`,C)),R!==a.nil&&A.assign(R,!0),(J.length||ee.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),R!==a.nil&&A.assign(R,!1)),A.else()}invalid$data(){const{gen:R,schemaCode:C,schemaType:A,def:K,it:J}=this;return(0,a.or)(ee(),ce());function ee(){if(A.length){if(!(C instanceof a.Name))throw new Error("ajv implementation error");const se=Array.isArray(A)?A:[A];return(0,a._)`${(0,c.checkDataTypes)(se,C,J.opts.strictNumbers,c.DataType.Wrong)}`}return a.nil}function ce(){if(K.validateSchema){const se=R.scopeValue("validate$data",{ref:K.validateSchema});return(0,a._)`!${se}(${C})`}return a.nil}}subschema(R,C){const A=(0,h.getSubschema)(this.it,R);(0,h.extendSubschemaData)(A,this.it,R),(0,h.extendSubschemaMode)(A,R);const K={...this.it,...A,items:void 0,props:void 0};return d(K,C),K}mergeEvaluated(R,C){const{it:A,gen:K}=this;A.opts.unevaluated&&(A.props!==!0&&R.props!==void 0&&(A.props=m.mergeEvaluated.props(K,R.props,A.props,C)),A.items!==!0&&R.items!==void 0&&(A.items=m.mergeEvaluated.items(K,R.items,A.items,C)))}mergeValidEvaluated(R,C){const{it:A,gen:K}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return K.if(C,()=>this.mergeEvaluated(R,a.Name)),!0}}he.KeywordCxt=j;function V(g,R,C,A){const K=new j(g,C,R);"code"in C?C.code(K,A):K.$data&&C.validate?(0,s.funcKeywordCode)(K,C):"macro"in C?(0,s.macroKeywordCode)(K,C):(C.compile||C.validate)&&(0,s.funcKeywordCode)(K,C)}const U=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(g,{dataLevel:R,dataNames:C,dataPathArr:A}){let K,J;if(g==="")return u.default.rootData;if(g[0]==="/"){if(!U.test(g))throw new Error(`Invalid JSON-pointer: ${g}`);K=g,J=u.default.rootData}else{const ae=X.exec(g);if(!ae)throw new Error(`Invalid JSON-pointer: ${g}`);const te=+ae[1];if(K=ae[2],K==="#"){if(te>=R)throw new Error(se("property/index",te));return A[R-te]}if(te>R)throw new Error(se("data",te));if(J=C[R-te],!K)return J}let ee=J;const ce=K.split("/");for(const ae of ce)ae&&(J=(0,a._)`${J}${(0,a.getProperty)((0,m.unescapeJsonPointer)(ae))}`,ee=(0,a._)`${ee} && ${J}`);return ee;function se(ae,te){return`Cannot access ${ae} ${te} levels up, current level is ${R}`}}return he.getData=B,he}var je={},Qt;function Rt(){if(Qt)return je;Qt=1,Object.defineProperty(je,"__esModule",{value:!0});class e extends Error{constructor(w){super("validation failed"),this.errors=w,this.ajv=this.validation=!0}}return je.default=e,je}var Te={},Xt;function _t(){if(Xt)return Te;Xt=1,Object.defineProperty(Te,"__esModule",{value:!0});const e=pt();class r extends Error{constructor(c,$,s,h){super(h||`can't resolve reference ${s} from id ${$}`),this.missingRef=(0,e.resolveUrl)(c,$,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(c,this.missingRef))}}return Te.default=r,Te}var oe={},Yt;function kt(){if(Yt)return oe;Yt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const e=H(),r=Rt(),w=ve(),c=pt(),$=Q(),s=yt();class h{constructor(o){var t;this.refs={},this.dynamicAnchors={};let d;typeof o.schema=="object"&&(d=o.schema),this.schema=o.schema,this.schemaId=o.schemaId,this.root=o.root||this,this.baseId=(t=o.baseId)!==null&&t!==void 0?t:(0,c.normalizeId)(d==null?void 0:d[o.schemaId||"$id"]),this.schemaPath=o.schemaPath,this.localRefs=o.localRefs,this.meta=o.meta,this.$async=d==null?void 0:d.$async,this.refs={}}}oe.SchemaEnv=h;function a(l){const o=m.call(this,l);if(o)return o;const t=(0,c.getFullPath)(this.opts.uriResolver,l.root.baseId),{es5:d,lines:_}=this.opts.code,{ownProperties:f}=this.opts,i=new e.CodeGen(this.scope,{es5:d,lines:_,ownProperties:f});let v;l.$async&&(v=i.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const T=i.scopeName("validate");l.validateName=T;const M={gen:i,allErrors:this.opts.allErrors,data:w.default.data,parentData:w.default.parentData,parentDataProperty:w.default.parentDataProperty,dataNames:[w.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:l.schema,code:(0,e.stringify)(l.schema)}:{ref:l.schema}),validateName:T,ValidationError:v,schema:l.schema,schemaEnv:l,rootId:t,baseId:l.baseId||t,schemaPath:e.nil,errSchemaPath:l.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(l),(0,s.validateFunctionCode)(M),i.optimize(this.opts.code.optimize);const F=i.toString();D=`${i.scopeRefs(w.default.scope)}return ${F}`,this.opts.code.process&&(D=this.opts.code.process(D,l));const z=new Function(`${w.default.self}`,`${w.default.scope}`,D)(this,this.scope.get());if(this.scope.value(T,{ref:z}),z.errors=null,z.schema=l.schema,z.schemaEnv=l,l.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:T,validateCode:F,scopeValues:i._values}),this.opts.unevaluated){const{props:W,items:x}=M;z.evaluated={props:W instanceof e.Name?void 0:W,items:x instanceof e.Name?void 0:x,dynamicProps:W instanceof e.Name,dynamicItems:x instanceof e.Name},z.source&&(z.source.evaluated=(0,e.stringify)(z.evaluated))}return l.validate=z,l}catch(F){throw delete l.validate,delete l.validateName,D&&this.logger.error("Error compiling schema, function code:",D),F}finally{this._compilations.delete(l)}}oe.compileSchema=a;function u(l,o,t){var d;t=(0,c.resolveUrl)(this.opts.uriResolver,o,t);const _=l.refs[t];if(_)return _;let f=N.call(this,l,t);if(f===void 0){const i=(d=l.localRefs)===null||d===void 0?void 0:d[t],{schemaId:v}=this.opts;i&&(f=new h({schema:i,schemaId:v,root:l,baseId:o}))}if(f!==void 0)return l.refs[t]=y.call(this,f)}oe.resolveRef=u;function y(l){return(0,c.inlineRef)(l.schema,this.opts.inlineRefs)?l.schema:l.validate?l:a.call(this,l)}function m(l){for(const o of this._compilations)if(b(o,l))return o}oe.getCompilingSchema=m;function b(l,o){return l.schema===o.schema&&l.root===o.root&&l.baseId===o.baseId}function N(l,o){let t;for(;typeof(t=this.refs[o])=="string";)o=t;return t||this.schemas[o]||k.call(this,l,o)}function k(l,o){const t=this.opts.uriResolver.parse(o),d=(0,c._getFullPath)(this.opts.uriResolver,t);let _=(0,c.getFullPath)(this.opts.uriResolver,l.baseId,void 0);if(Object.keys(l.schema).length>0&&d===_)return E.call(this,t,l);const f=(0,c.normalizeId)(d),i=this.refs[f]||this.schemas[f];if(typeof i=="string"){const v=k.call(this,l,i);return typeof(v==null?void 0:v.schema)!="object"?void 0:E.call(this,t,v)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||a.call(this,i),f===(0,c.normalizeId)(o)){const{schema:v}=i,{schemaId:T}=this.opts,M=v[T];return M&&(_=(0,c.resolveUrl)(this.opts.uriResolver,_,M)),new h({schema:v,schemaId:T,root:l,baseId:_})}return E.call(this,t,i)}}oe.resolveSchema=k;const P=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(l,{baseId:o,schema:t,root:d}){var _;if(((_=l.fragment)===null||_===void 0?void 0:_[0])!=="/")return;for(const v of l.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const T=t[(0,$.unescapeFragment)(v)];if(T===void 0)return;t=T;const M=typeof t=="object"&&t[this.opts.schemaId];!P.has(v)&&M&&(o=(0,c.resolveUrl)(this.opts.uriResolver,o,M))}let f;if(typeof t!="boolean"&&t.$ref&&!(0,$.schemaHasRulesButRef)(t,this.RULES)){const v=(0,c.resolveUrl)(this.opts.uriResolver,o,t.$ref);f=k.call(this,d,v)}const{schemaId:i}=this.opts;if(f=f||new h({schema:t,schemaId:i,root:d,baseId:o}),f.schema!==f.root.schema)return f}return oe}const en="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",tn="Meta-schema for $data reference (JSON AnySchema extension proposal)",rn="object",nn=["$data"],sn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},an=!1,on={$id:en,description:tn,type:rn,required:nn,properties:sn,additionalProperties:an};var Ce={},Zt;function cn(){if(Zt)return Ce;Zt=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=Wr();return e.code='require("ajv/dist/runtime/uri").default',Ce.default=e,Ce}var xt;function un(){return xt||(xt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=yt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var w=H();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return w.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return w.CodeGen}});const c=Rt(),$=_t(),s=Ur(),h=kt(),a=H(),u=pt(),y=ht(),m=Q(),b=on,N=cn(),k=(q,S)=>new RegExp(q,S);k.code="new RegExp";const P=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),l={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},o={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function d(q){var S,I,O,n,p,j,V,U,X,B,g,R,C,A,K,J,ee,ce,se,ae,te,be,ie,vt,$t;const Se=q.strict,gt=(S=q.code)===null||S===void 0?void 0:S.optimize,jt=gt===!0||gt===void 0?1:gt||0,Tt=(O=(I=q.code)===null||I===void 0?void 0:I.regExp)!==null&&O!==void 0?O:k,Hr=(n=q.uriResolver)!==null&&n!==void 0?n:N.default;return{strictSchema:(j=(p=q.strictSchema)!==null&&p!==void 0?p:Se)!==null&&j!==void 0?j:!0,strictNumbers:(U=(V=q.strictNumbers)!==null&&V!==void 0?V:Se)!==null&&U!==void 0?U:!0,strictTypes:(B=(X=q.strictTypes)!==null&&X!==void 0?X:Se)!==null&&B!==void 0?B:"log",strictTuples:(R=(g=q.strictTuples)!==null&&g!==void 0?g:Se)!==null&&R!==void 0?R:"log",strictRequired:(A=(C=q.strictRequired)!==null&&C!==void 0?C:Se)!==null&&A!==void 0?A:!1,code:q.code?{...q.code,optimize:jt,regExp:Tt}:{optimize:jt,regExp:Tt},loopRequired:(K=q.loopRequired)!==null&&K!==void 0?K:t,loopEnum:(J=q.loopEnum)!==null&&J!==void 0?J:t,meta:(ee=q.meta)!==null&&ee!==void 0?ee:!0,messages:(ce=q.messages)!==null&&ce!==void 0?ce:!0,inlineRefs:(se=q.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ae=q.schemaId)!==null&&ae!==void 0?ae:"$id",addUsedSchema:(te=q.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=q.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(ie=q.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(vt=q.unicodeRegExp)!==null&&vt!==void 0?vt:!0,int32range:($t=q.int32range)!==null&&$t!==void 0?$t:!0,uriResolver:Hr}}class _{constructor(S={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,S=this.opts={...S,...d(S)};const{es5:I,lines:O}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:I,lines:O}),this.logger=L(S.logger);const n=S.validateFormats;S.validateFormats=!1,this.RULES=(0,s.getRules)(),f.call(this,l,S,"NOT SUPPORTED"),f.call(this,o,S,"DEPRECATED","warn"),this._metaOpts=D.call(this),S.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),S.keywords&&M.call(this,S.keywords),typeof S.meta=="object"&&this.addMetaSchema(S.meta),v.call(this),S.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:S,meta:I,schemaId:O}=this.opts;let n=b;O==="id"&&(n={...b},n.id=n.$id,delete n.$id),I&&S&&this.addMetaSchema(n,n[O],!1)}defaultMeta(){const{meta:S,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof S=="object"?S[I]||S:void 0}validate(S,I){let O;if(typeof S=="string"){if(O=this.getSchema(S),!O)throw new Error(`no schema with key or ref "${S}"`)}else O=this.compile(S);const n=O(I);return"$async"in O||(this.errors=O.errors),n}compile(S,I){const O=this._addSchema(S,I);return O.validate||this._compileSchemaEnv(O)}compileAsync(S,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return n.call(this,S,I);async function n(B,g){await p.call(this,B.$schema);const R=this._addSchema(B,g);return R.validate||j.call(this,R)}async function p(B){B&&!this.getSchema(B)&&await n.call(this,{$ref:B},!0)}async function j(B){try{return this._compileSchemaEnv(B)}catch(g){if(!(g instanceof $.default))throw g;return V.call(this,g),await U.call(this,g.missingSchema),j.call(this,B)}}function V({missingSchema:B,missingRef:g}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${g} cannot be resolved`)}async function U(B){const g=await X.call(this,B);this.refs[B]||await p.call(this,g.$schema),this.refs[B]||this.addSchema(g,B,I)}async function X(B){const g=this._loading[B];if(g)return g;try{return await(this._loading[B]=O(B))}finally{delete this._loading[B]}}}addSchema(S,I,O,n=this.opts.validateSchema){if(Array.isArray(S)){for(const j of S)this.addSchema(j,void 0,O,n);return this}let p;if(typeof S=="object"){const{schemaId:j}=this.opts;if(p=S[j],p!==void 0&&typeof p!="string")throw new Error(`schema ${j} must be string`)}return I=(0,u.normalizeId)(I||p),this._checkUnique(I),this.schemas[I]=this._addSchema(S,O,I,n,!0),this}addMetaSchema(S,I,O=this.opts.validateSchema){return this.addSchema(S,I,!0,O),this}validateSchema(S,I){if(typeof S=="boolean")return!0;let O;if(O=S.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(O,S);if(!n&&I){const p="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(p);else throw new Error(p)}return n}getSchema(S){let I;for(;typeof(I=i.call(this,S))=="string";)S=I;if(I===void 0){const{schemaId:O}=this.opts,n=new h.SchemaEnv({schema:{},schemaId:O});if(I=h.resolveSchema.call(this,n,S),!I)return;this.refs[S]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(S){if(S instanceof RegExp)return this._removeAllSchemas(this.schemas,S),this._removeAllSchemas(this.refs,S),this;switch(typeof S){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const I=i.call(this,S);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[S],delete this.refs[S],this}case"object":{const I=S;this._cache.delete(I);let O=S[this.opts.schemaId];return O&&(O=(0,u.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(S){for(const I of S)this.addKeyword(I);return this}addKeyword(S,I){let O;if(typeof S=="string")O=S,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=O);else if(typeof S=="object"&&I===void 0){if(I=S,O=I.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,O,I),!I)return(0,m.eachItem)(O,p=>x.call(this,p)),this;fe.call(this,I);const n={...I,type:(0,y.getJSONTypes)(I.type),schemaType:(0,y.getJSONTypes)(I.schemaType)};return(0,m.eachItem)(O,n.type.length===0?p=>x.call(this,p,n):p=>n.type.forEach(j=>x.call(this,p,n,j))),this}getKeyword(S){const I=this.RULES.all[S];return typeof I=="object"?I.definition:!!I}removeKeyword(S){const{RULES:I}=this;delete I.keywords[S],delete I.all[S];for(const O of I.rules){const n=O.rules.findIndex(p=>p.keyword===S);n>=0&&O.rules.splice(n,1)}return this}addFormat(S,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[S]=I,this}errorsText(S=this.errors,{separator:I=", ",dataVar:O="data"}={}){return!S||S.length===0?"No errors":S.map(n=>`${O}${n.instancePath} ${n.message}`).reduce((n,p)=>n+I+p)}$dataMetaSchema(S,I){const O=this.RULES.all;S=JSON.parse(JSON.stringify(S));for(const n of I){const p=n.split("/").slice(1);let j=S;for(const V of p)j=j[V];for(const V in O){const U=O[V];if(typeof U!="object")continue;const{$data:X}=U.definition,B=j[V];X&&B&&(j[V]=ye(B))}}return S}_removeAllSchemas(S,I){for(const O in S){const n=S[O];(!I||I.test(O))&&(typeof n=="string"?delete S[O]:n&&!n.meta&&(this._cache.delete(n.schema),delete S[O]))}}_addSchema(S,I,O,n=this.opts.validateSchema,p=this.opts.addUsedSchema){let j;const{schemaId:V}=this.opts;if(typeof S=="object")j=S[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof S!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(S);if(U!==void 0)return U;O=(0,u.normalizeId)(j||O);const X=u.getSchemaRefs.call(this,S,O);return U=new h.SchemaEnv({schema:S,schemaId:V,meta:I,baseId:O,localRefs:X}),this._cache.set(U.schema,U),p&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=U),n&&this.validateSchema(S,!0),U}_checkUnique(S){if(this.schemas[S]||this.refs[S])throw new Error(`schema with key or id "${S}" already exists`)}_compileSchemaEnv(S){if(S.meta?this._compileMetaSchema(S):h.compileSchema.call(this,S),!S.validate)throw new Error("ajv implementation error");return S.validate}_compileMetaSchema(S){const I=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,S)}finally{this.opts=I}}}_.ValidationError=c.default,_.MissingRefError=$.default,e.default=_;function f(q,S,I,O="error"){for(const n in q){const p=n;p in S&&this.logger[O](`${I}: option ${n}. ${q[p]}`)}}function i(q){return q=(0,u.normalizeId)(q),this.schemas[q]||this.refs[q]}function v(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const S in q)this.addSchema(q[S],S)}function T(){for(const q in this.opts.formats){const S=this.opts.formats[q];S&&this.addFormat(q,S)}}function M(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const S in q){const I=q[S];I.keyword||(I.keyword=S),this.addKeyword(I)}}function D(){const q={...this.opts};for(const S of P)delete q[S];return q}const F={log(){},warn(){},error(){}};function L(q){if(q===!1)return F;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function W(q,S){const{RULES:I}=this;if((0,m.eachItem)(q,O=>{if(I.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!z.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!S&&S.$data&&!("code"in S||"validate"in S))throw new Error('$data keyword must have "code" or "validate" function')}function x(q,S,I){var O;const n=S==null?void 0:S.post;if(I&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:p}=this;let j=n?p.post:p.rules.find(({type:U})=>U===I);if(j||(j={type:I,rules:[]},p.rules.push(j)),p.keywords[q]=!0,!S)return;const V={keyword:q,definition:{...S,type:(0,y.getJSONTypes)(S.type),schemaType:(0,y.getJSONTypes)(S.schemaType)}};S.before?de.call(this,j,V,S.before):j.rules.push(V),p.all[q]=V,(O=S.implements)===null||O===void 0||O.forEach(U=>this.addKeyword(U))}function de(q,S,I){const O=q.rules.findIndex(n=>n.keyword===I);O>=0?q.rules.splice(O,0,S):(q.rules.push(S),this.logger.warn(`rule ${I} is not defined`))}function fe(q){let{metaSchema:S}=q;S!==void 0&&(q.$data&&this.opts.$data&&(S=ye(S)),q.validateSchema=this.compile(S,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(q){return{anyOf:[q,Z]}}}(wt)),wt}var Ie={},qe={},Me={},er;function ln(){if(er)return Me;er=1,Object.defineProperty(Me,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Me.default=e,Me}var _e={},tr;function dn(){if(tr)return _e;tr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=_t(),r=le(),w=H(),c=ve(),$=kt(),s=Q(),h={keyword:"$ref",schemaType:"string",code(y){const{gen:m,schema:b,it:N}=y,{baseId:k,schemaEnv:P,validateName:E,opts:l,self:o}=N,{root:t}=P;if((b==="#"||b==="#/")&&k===t.baseId)return _();const d=$.resolveRef.call(o,t,k,b);if(d===void 0)throw new e.default(N.opts.uriResolver,k,b);if(d instanceof $.SchemaEnv)return f(d);return i(d);function _(){if(P===t)return u(y,E,P,P.$async);const v=m.scopeValue("root",{ref:t});return u(y,(0,w._)`${v}.validate`,t,t.$async)}function f(v){const T=a(y,v);u(y,T,v,v.$async)}function i(v){const T=m.scopeValue("schema",l.code.source===!0?{ref:v,code:(0,w.stringify)(v)}:{ref:v}),M=m.name("valid"),D=y.subschema({schema:v,dataTypes:[],schemaPath:w.nil,topSchemaRef:T,errSchemaPath:b},M);y.mergeEvaluated(D),y.ok(M)}}};function a(y,m){const{gen:b}=y;return m.validate?b.scopeValue("validate",{ref:m.validate}):(0,w._)`${b.scopeValue("wrapper",{ref:m})}.validate`}_e.getValidate=a;function u(y,m,b,N){const{gen:k,it:P}=y,{allErrors:E,schemaEnv:l,opts:o}=P,t=o.passContext?c.default.this:w.nil;N?d():_();function d(){if(!l.$async)throw new Error("async schema referenced by sync schema");const v=k.let("valid");k.try(()=>{k.code((0,w._)`await ${(0,r.callValidateCode)(y,m,t)}`),i(m),E||k.assign(v,!0)},T=>{k.if((0,w._)`!(${T} instanceof ${P.ValidationError})`,()=>k.throw(T)),f(T),E||k.assign(v,!1)}),y.ok(v)}function _(){y.result((0,r.callValidateCode)(y,m,t),()=>i(m),()=>f(m))}function f(v){const T=(0,w._)`${v}.errors`;k.assign(c.default.vErrors,(0,w._)`${c.default.vErrors} === null ? ${T} : ${c.default.vErrors}.concat(${T})`),k.assign(c.default.errors,(0,w._)`${c.default.vErrors}.length`)}function i(v){var T;if(!P.opts.unevaluated)return;const M=(T=b==null?void 0:b.validate)===null||T===void 0?void 0:T.evaluated;if(P.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(P.props=s.mergeEvaluated.props(k,M.props,P.props));else{const D=k.var("props",(0,w._)`${v}.evaluated.props`);P.props=s.mergeEvaluated.props(k,D,P.props,w.Name)}if(P.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(P.items=s.mergeEvaluated.items(k,M.items,P.items));else{const D=k.var("items",(0,w._)`${v}.evaluated.items`);P.items=s.mergeEvaluated.items(k,D,P.items,w.Name)}}}return _e.callRef=u,_e.default=h,_e}var rr;function fn(){if(rr)return qe;rr=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=ln(),r=dn(),w=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return qe.default=w,qe}var Ae={},De={},nr;function hn(){if(nr)return De;nr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=H(),r=e.operators,w={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},c={message:({keyword:s,schemaCode:h})=>(0,e.str)`must be ${w[s].okStr} ${h}`,params:({keyword:s,schemaCode:h})=>(0,e._)`{comparison: ${w[s].okStr}, limit: ${h}}`},$={keyword:Object.keys(w),type:"number",schemaType:"number",$data:!0,error:c,code(s){const{keyword:h,data:a,schemaCode:u}=s;s.fail$data((0,e._)`${a} ${w[h].fail} ${u} || isNaN(${a})`)}};return De.default=$,De}var Ve={},sr;function mn(){if(sr)return Ve;sr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=H(),w={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:c})=>(0,e.str)`must be multiple of ${c}`,params:({schemaCode:c})=>(0,e._)`{multipleOf: ${c}}`},code(c){const{gen:$,data:s,schemaCode:h,it:a}=c,u=a.opts.multipleOfPrecision,y=$.let("res"),m=u?(0,e._)`Math.abs(Math.round(${y}) - ${y}) > 1e-${u}`:(0,e._)`${y} !== parseInt(${y})`;c.fail$data((0,e._)`(${h} === 0 || (${y} = ${s}/${h}, ${m}))`)}};return Ve.default=w,Ve}var Fe={},Ke={},ar;function pn(){if(ar)return Ke;ar=1,Object.defineProperty(Ke,"__esModule",{value:!0});function e(r){const w=r.length;let c=0,$=0,s;for(;$<w;)c++,s=r.charCodeAt($++),s>=55296&&s<=56319&&$<w&&(s=r.charCodeAt($),(s&64512)===56320&&$++);return c}return Ke.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Ke}var or;function yn(){if(or)return Fe;or=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=H(),r=Q(),w=pn(),$={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:h}){const a=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${h} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:h,data:a,schemaCode:u,it:y}=s,m=h==="maxLength"?e.operators.GT:e.operators.LT,b=y.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,r.useFunc)(s.gen,w.default)}(${a})`;s.fail$data((0,e._)`${b} ${m} ${u}`)}};return Fe.default=$,Fe}var Ue={},ir;function _n(){if(ir)return Ue;ir=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=le(),r=H(),c={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:$})=>(0,r.str)`must match pattern "${$}"`,params:({schemaCode:$})=>(0,r._)`{pattern: ${$}}`},code($){const{data:s,$data:h,schema:a,schemaCode:u,it:y}=$,m=y.opts.unicodeRegExp?"u":"",b=h?(0,r._)`(new RegExp(${u}, ${m}))`:(0,e.usePattern)($,a);$.fail$data((0,r._)`!${b}.test(${s})`)}};return Ue.default=c,Ue}var ze={},cr;function vn(){if(cr)return ze;cr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=H(),w={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:$}){const s=c==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${$} properties`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:$,data:s,schemaCode:h}=c,a=$==="maxProperties"?e.operators.GT:e.operators.LT;c.fail$data((0,e._)`Object.keys(${s}).length ${a} ${h}`)}};return ze.default=w,ze}var Le={},ur;function $n(){if(ur)return Le;ur=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=le(),r=H(),w=Q(),$={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},code(s){const{gen:h,schema:a,schemaCode:u,data:y,$data:m,it:b}=s,{opts:N}=b;if(!m&&a.length===0)return;const k=a.length>=N.loopRequired;if(b.allErrors?P():E(),N.strictRequired){const t=s.parentSchema.properties,{definedProperties:d}=s.it;for(const _ of a)if((t==null?void 0:t[_])===void 0&&!d.has(_)){const f=b.schemaEnv.baseId+b.errSchemaPath,i=`required property "${_}" is not defined at "${f}" (strictRequired)`;(0,w.checkStrictMode)(b,i,b.opts.strictRequired)}}function P(){if(k||m)s.block$data(r.nil,l);else for(const t of a)(0,e.checkReportMissingProp)(s,t)}function E(){const t=h.let("missing");if(k||m){const d=h.let("valid",!0);s.block$data(d,()=>o(t,d)),s.ok(d)}else h.if((0,e.checkMissingProp)(s,a,t)),(0,e.reportMissingProp)(s,t),h.else()}function l(){h.forOf("prop",u,t=>{s.setParams({missingProperty:t}),h.if((0,e.noPropertyInData)(h,y,t,N.ownProperties),()=>s.error())})}function o(t,d){s.setParams({missingProperty:t}),h.forOf(t,u,()=>{h.assign(d,(0,e.propertyInData)(h,y,t,N.ownProperties)),h.if((0,r.not)(d),()=>{s.error(),h.break()})},r.nil)}}};return Le.default=$,Le}var Ge={},lr;function gn(){if(lr)return Ge;lr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=H(),w={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:$}){const s=c==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${$} items`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:$,data:s,schemaCode:h}=c,a=$==="maxItems"?e.operators.GT:e.operators.LT;c.fail$data((0,e._)`${s}.length ${a} ${h}`)}};return Ge.default=w,Ge}var Je={},He={},dr;function Ot(){if(dr)return He;dr=1,Object.defineProperty(He,"__esModule",{value:!0});const e=Kr();return e.code='require("ajv/dist/runtime/equal").default',He.default=e,He}var fr;function wn(){if(fr)return Je;fr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=ht(),r=H(),w=Q(),c=Ot(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:h,j:a}})=>(0,r.str)`must NOT have duplicate items (items ## ${a} and ${h} are identical)`,params:({params:{i:h,j:a}})=>(0,r._)`{i: ${h}, j: ${a}}`},code(h){const{gen:a,data:u,$data:y,schema:m,parentSchema:b,schemaCode:N,it:k}=h;if(!y&&!m)return;const P=a.let("valid"),E=b.items?(0,e.getSchemaTypes)(b.items):[];h.block$data(P,l,(0,r._)`${N} === false`),h.ok(P);function l(){const _=a.let("i",(0,r._)`${u}.length`),f=a.let("j");h.setParams({i:_,j:f}),a.assign(P,!0),a.if((0,r._)`${_} > 1`,()=>(o()?t:d)(_,f))}function o(){return E.length>0&&!E.some(_=>_==="object"||_==="array")}function t(_,f){const i=a.name("item"),v=(0,e.checkDataTypes)(E,i,k.opts.strictNumbers,e.DataType.Wrong),T=a.const("indices",(0,r._)`{}`);a.for((0,r._)`;${_}--;`,()=>{a.let(i,(0,r._)`${u}[${_}]`),a.if(v,(0,r._)`continue`),E.length>1&&a.if((0,r._)`typeof ${i} == "string"`,(0,r._)`${i} += "_"`),a.if((0,r._)`typeof ${T}[${i}] == "number"`,()=>{a.assign(f,(0,r._)`${T}[${i}]`),h.error(),a.assign(P,!1).break()}).code((0,r._)`${T}[${i}] = ${_}`)})}function d(_,f){const i=(0,w.useFunc)(a,c.default),v=a.name("outer");a.label(v).for((0,r._)`;${_}--;`,()=>a.for((0,r._)`${f} = ${_}; ${f}--;`,()=>a.if((0,r._)`${i}(${u}[${_}], ${u}[${f}])`,()=>{h.error(),a.assign(P,!1).break(v)})))}}};return Je.default=s,Je}var Be={},hr;function bn(){if(hr)return Be;hr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=H(),r=Q(),w=Ot(),$={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:h,data:a,$data:u,schemaCode:y,schema:m}=s;u||m&&typeof m=="object"?s.fail$data((0,e._)`!${(0,r.useFunc)(h,w.default)}(${a}, ${y})`):s.fail((0,e._)`${m} !== ${a}`)}};return Be.default=$,Be}var We={},mr;function En(){if(mr)return We;mr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=H(),r=Q(),w=Ot(),$={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:h,data:a,$data:u,schema:y,schemaCode:m,it:b}=s;if(!u&&y.length===0)throw new Error("enum must have non-empty array");const N=y.length>=b.opts.loopEnum;let k;const P=()=>k??(k=(0,r.useFunc)(h,w.default));let E;if(N||u)E=h.let("valid"),s.block$data(E,l);else{if(!Array.isArray(y))throw new Error("ajv implementation error");const t=h.const("vSchema",m);E=(0,e.or)(...y.map((d,_)=>o(t,_)))}s.pass(E);function l(){h.assign(E,!1),h.forOf("v",m,t=>h.if((0,e._)`${P()}(${a}, ${t})`,()=>h.assign(E,!0).break()))}function o(t,d){const _=y[d];return typeof _=="object"&&_!==null?(0,e._)`${P()}(${a}, ${t}[${d}])`:(0,e._)`${a} === ${_}`}}};return We.default=$,We}var pr;function Pn(){if(pr)return Ae;pr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=hn(),r=mn(),w=yn(),c=_n(),$=vn(),s=$n(),h=gn(),a=wn(),u=bn(),y=En(),m=[e.default,r.default,w.default,c.default,$.default,s.default,h.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,y.default];return Ae.default=m,Ae}var Qe={},Ee={},yr;function Lr(){if(yr)return Ee;yr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=H(),r=Q(),c={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:h,it:a}=s,{items:u}=h;if(!Array.isArray(u)){(0,r.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}$(s,u)}};function $(s,h){const{gen:a,schema:u,data:y,keyword:m,it:b}=s;b.items=!0;const N=a.const("len",(0,e._)`${y}.length`);if(u===!1)s.setParams({len:h.length}),s.pass((0,e._)`${N} <= ${h.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(b,u)){const P=a.var("valid",(0,e._)`${N} <= ${h.length}`);a.if((0,e.not)(P),()=>k(P)),s.ok(P)}function k(P){a.forRange("i",h.length,N,E=>{s.subschema({keyword:m,dataProp:E,dataPropType:r.Type.Num},P),b.allErrors||a.if((0,e.not)(P),()=>a.break())})}}return Ee.validateAdditionalItems=$,Ee.default=c,Ee}var Xe={},Pe={},_r;function Gr(){if(_r)return Pe;_r=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateTuple=void 0;const e=H(),r=Q(),w=le(),c={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:h,it:a}=s;if(Array.isArray(h))return $(s,"additionalItems",h);a.items=!0,!(0,r.alwaysValidSchema)(a,h)&&s.ok((0,w.validateArray)(s))}};function $(s,h,a=s.schema){const{gen:u,parentSchema:y,data:m,keyword:b,it:N}=s;E(y),N.opts.unevaluated&&a.length&&N.items!==!0&&(N.items=r.mergeEvaluated.items(u,a.length,N.items));const k=u.name("valid"),P=u.const("len",(0,e._)`${m}.length`);a.forEach((l,o)=>{(0,r.alwaysValidSchema)(N,l)||(u.if((0,e._)`${P} > ${o}`,()=>s.subschema({keyword:b,schemaProp:o,dataProp:o},k)),s.ok(k))});function E(l){const{opts:o,errSchemaPath:t}=N,d=a.length,_=d===l.minItems&&(d===l.maxItems||l[h]===!1);if(o.strictTuples&&!_){const f=`"${b}" is ${d}-tuple, but minItems or maxItems/${h} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(N,f,o.strictTuples)}}}return Pe.validateTuple=$,Pe.default=c,Pe}var vr;function Sn(){if(vr)return Xe;vr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=Gr(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:w=>(0,e.validateTuple)(w,"items")};return Xe.default=r,Xe}var Ye={},$r;function Nn(){if($r)return Ye;$r=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=H(),r=Q(),w=le(),c=Lr(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:h}})=>(0,e.str)`must NOT have more than ${h} items`,params:({params:{len:h}})=>(0,e._)`{limit: ${h}}`},code(h){const{schema:a,parentSchema:u,it:y}=h,{prefixItems:m}=u;y.items=!0,!(0,r.alwaysValidSchema)(y,a)&&(m?(0,c.validateAdditionalItems)(h,m):h.ok((0,w.validateArray)(h)))}};return Ye.default=s,Ye}var Ze={},gr;function Rn(){if(gr)return Ze;gr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=H(),r=Q(),c={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:$,max:s}})=>s===void 0?(0,e.str)`must contain at least ${$} valid item(s)`:(0,e.str)`must contain at least ${$} and no more than ${s} valid item(s)`,params:({params:{min:$,max:s}})=>s===void 0?(0,e._)`{minContains: ${$}}`:(0,e._)`{minContains: ${$}, maxContains: ${s}}`},code($){const{gen:s,schema:h,parentSchema:a,data:u,it:y}=$;let m,b;const{minContains:N,maxContains:k}=a;y.opts.next?(m=N===void 0?1:N,b=k):m=1;const P=s.const("len",(0,e._)`${u}.length`);if($.setParams({min:m,max:b}),b===void 0&&m===0){(0,r.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(b!==void 0&&m>b){(0,r.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),$.fail();return}if((0,r.alwaysValidSchema)(y,h)){let d=(0,e._)`${P} >= ${m}`;b!==void 0&&(d=(0,e._)`${d} && ${P} <= ${b}`),$.pass(d);return}y.items=!0;const E=s.name("valid");b===void 0&&m===1?o(E,()=>s.if(E,()=>s.break())):m===0?(s.let(E,!0),b!==void 0&&s.if((0,e._)`${u}.length > 0`,l)):(s.let(E,!1),l()),$.result(E,()=>$.reset());function l(){const d=s.name("_valid"),_=s.let("count",0);o(d,()=>s.if(d,()=>t(_)))}function o(d,_){s.forRange("i",0,P,f=>{$.subschema({keyword:"contains",dataProp:f,dataPropType:r.Type.Num,compositeRule:!0},d),_()})}function t(d){s.code((0,e._)`${d}++`),b===void 0?s.if((0,e._)`${d} >= ${m}`,()=>s.assign(E,!0).break()):(s.if((0,e._)`${d} > ${b}`,()=>s.assign(E,!1).break()),m===1?s.assign(E,!0):s.if((0,e._)`${d} >= ${m}`,()=>s.assign(E,!0)))}}};return Ze.default=c,Ze}var Nt={},wr;function kn(){return wr||(wr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=H(),w=Q(),c=le();e.error={message:({params:{property:u,depsCount:y,deps:m}})=>{const b=y===1?"property":"properties";return(0,r.str)`must have ${b} ${m} when property ${u} is present`},params:({params:{property:u,depsCount:y,deps:m,missingProperty:b}})=>(0,r._)`{property: ${u},
    missingProperty: ${b},
    depsCount: ${y},
    deps: ${m}}`};const $={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[y,m]=s(u);h(u,y),a(u,m)}};function s({schema:u}){const y={},m={};for(const b in u){if(b==="__proto__")continue;const N=Array.isArray(u[b])?y:m;N[b]=u[b]}return[y,m]}function h(u,y=u.schema){const{gen:m,data:b,it:N}=u;if(Object.keys(y).length===0)return;const k=m.let("missing");for(const P in y){const E=y[P];if(E.length===0)continue;const l=(0,c.propertyInData)(m,b,P,N.opts.ownProperties);u.setParams({property:P,depsCount:E.length,deps:E.join(", ")}),N.allErrors?m.if(l,()=>{for(const o of E)(0,c.checkReportMissingProp)(u,o)}):(m.if((0,r._)`${l} && (${(0,c.checkMissingProp)(u,E,k)})`),(0,c.reportMissingProp)(u,k),m.else())}}e.validatePropertyDeps=h;function a(u,y=u.schema){const{gen:m,data:b,keyword:N,it:k}=u,P=m.name("valid");for(const E in y)(0,w.alwaysValidSchema)(k,y[E])||(m.if((0,c.propertyInData)(m,b,E,k.opts.ownProperties),()=>{const l=u.subschema({keyword:N,schemaProp:E},P);u.mergeValidEvaluated(l,P)},()=>m.var(P,!0)),u.ok(P))}e.validateSchemaDeps=a,e.default=$}(Nt)),Nt}var xe={},br;function On(){if(br)return xe;br=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=H(),r=Q(),c={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:$})=>(0,e._)`{propertyName: ${$.propertyName}}`},code($){const{gen:s,schema:h,data:a,it:u}=$;if((0,r.alwaysValidSchema)(u,h))return;const y=s.name("valid");s.forIn("key",a,m=>{$.setParams({propertyName:m}),$.subschema({keyword:"propertyNames",data:m,dataTypes:["string"],propertyName:m,compositeRule:!0},y),s.if((0,e.not)(y),()=>{$.error(!0),u.allErrors||s.break()})}),$.ok(y)}};return xe.default=c,xe}var et={},Er;function Jr(){if(Er)return et;Er=1,Object.defineProperty(et,"__esModule",{value:!0});const e=le(),r=H(),w=ve(),c=Q(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:h})=>(0,r._)`{additionalProperty: ${h.additionalProperty}}`},code(h){const{gen:a,schema:u,parentSchema:y,data:m,errsCount:b,it:N}=h;if(!b)throw new Error("ajv implementation error");const{allErrors:k,opts:P}=N;if(N.props=!0,P.removeAdditional!=="all"&&(0,c.alwaysValidSchema)(N,u))return;const E=(0,e.allSchemaProperties)(y.properties),l=(0,e.allSchemaProperties)(y.patternProperties);o(),h.ok((0,r._)`${b} === ${w.default.errors}`);function o(){a.forIn("key",m,i=>{!E.length&&!l.length?_(i):a.if(t(i),()=>_(i))})}function t(i){let v;if(E.length>8){const T=(0,c.schemaRefOrVal)(N,y.properties,"properties");v=(0,e.isOwnProperty)(a,T,i)}else E.length?v=(0,r.or)(...E.map(T=>(0,r._)`${i} === ${T}`)):v=r.nil;return l.length&&(v=(0,r.or)(v,...l.map(T=>(0,r._)`${(0,e.usePattern)(h,T)}.test(${i})`))),(0,r.not)(v)}function d(i){a.code((0,r._)`delete ${m}[${i}]`)}function _(i){if(P.removeAdditional==="all"||P.removeAdditional&&u===!1){d(i);return}if(u===!1){h.setParams({additionalProperty:i}),h.error(),k||a.break();return}if(typeof u=="object"&&!(0,c.alwaysValidSchema)(N,u)){const v=a.name("valid");P.removeAdditional==="failing"?(f(i,v,!1),a.if((0,r.not)(v),()=>{h.reset(),d(i)})):(f(i,v),k||a.if((0,r.not)(v),()=>a.break()))}}function f(i,v,T){const M={keyword:"additionalProperties",dataProp:i,dataPropType:c.Type.Str};T===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),h.subschema(M,v)}}};return et.default=s,et}var tt={},Pr;function jn(){if(Pr)return tt;Pr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=yt(),r=le(),w=Q(),c=Jr(),$={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:h,schema:a,parentSchema:u,data:y,it:m}=s;m.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&c.default.code(new e.KeywordCxt(m,c.default,"additionalProperties"));const b=(0,r.allSchemaProperties)(a);for(const l of b)m.definedProperties.add(l);m.opts.unevaluated&&b.length&&m.props!==!0&&(m.props=w.mergeEvaluated.props(h,(0,w.toHash)(b),m.props));const N=b.filter(l=>!(0,w.alwaysValidSchema)(m,a[l]));if(N.length===0)return;const k=h.name("valid");for(const l of N)P(l)?E(l):(h.if((0,r.propertyInData)(h,y,l,m.opts.ownProperties)),E(l),m.allErrors||h.else().var(k,!0),h.endIf()),s.it.definedProperties.add(l),s.ok(k);function P(l){return m.opts.useDefaults&&!m.compositeRule&&a[l].default!==void 0}function E(l){s.subschema({keyword:"properties",schemaProp:l,dataProp:l},k)}}};return tt.default=$,tt}var rt={},Sr;function Tn(){if(Sr)return rt;Sr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=le(),r=H(),w=Q(),c=Q(),$={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:h,schema:a,data:u,parentSchema:y,it:m}=s,{opts:b}=m,N=(0,e.allSchemaProperties)(a),k=N.filter(_=>(0,w.alwaysValidSchema)(m,a[_]));if(N.length===0||k.length===N.length&&(!m.opts.unevaluated||m.props===!0))return;const P=b.strictSchema&&!b.allowMatchingProperties&&y.properties,E=h.name("valid");m.props!==!0&&!(m.props instanceof r.Name)&&(m.props=(0,c.evaluatedPropsToName)(h,m.props));const{props:l}=m;o();function o(){for(const _ of N)P&&t(_),m.allErrors?d(_):(h.var(E,!0),d(_),h.if(E))}function t(_){for(const f in P)new RegExp(_).test(f)&&(0,w.checkStrictMode)(m,`property ${f} matches pattern ${_} (use allowMatchingProperties)`)}function d(_){h.forIn("key",u,f=>{h.if((0,r._)`${(0,e.usePattern)(s,_)}.test(${f})`,()=>{const i=k.includes(_);i||s.subschema({keyword:"patternProperties",schemaProp:_,dataProp:f,dataPropType:c.Type.Str},E),m.opts.unevaluated&&l!==!0?h.assign((0,r._)`${l}[${f}]`,!0):!i&&!m.allErrors&&h.if((0,r.not)(E),()=>h.break())})})}}};return rt.default=$,rt}var nt={},Nr;function Cn(){if(Nr)return nt;Nr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=Q(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(w){const{gen:c,schema:$,it:s}=w;if((0,e.alwaysValidSchema)(s,$)){w.fail();return}const h=c.name("valid");w.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},h),w.failResult(h,()=>w.reset(),()=>w.error())},error:{message:"must NOT be valid"}};return nt.default=r,nt}var st={},Rr;function In(){if(Rr)return st;Rr=1,Object.defineProperty(st,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:le().validateUnion,error:{message:"must match a schema in anyOf"}};return st.default=r,st}var at={},kr;function qn(){if(kr)return at;kr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=H(),r=Q(),c={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:$})=>(0,e._)`{passingSchemas: ${$.passing}}`},code($){const{gen:s,schema:h,parentSchema:a,it:u}=$;if(!Array.isArray(h))throw new Error("ajv implementation error");if(u.opts.discriminator&&a.discriminator)return;const y=h,m=s.let("valid",!1),b=s.let("passing",null),N=s.name("_valid");$.setParams({passing:b}),s.block(k),$.result(m,()=>$.reset(),()=>$.error(!0));function k(){y.forEach((P,E)=>{let l;(0,r.alwaysValidSchema)(u,P)?s.var(N,!0):l=$.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},N),E>0&&s.if((0,e._)`${N} && ${m}`).assign(m,!1).assign(b,(0,e._)`[${b}, ${E}]`).else(),s.if(N,()=>{s.assign(m,!0),s.assign(b,E),l&&$.mergeEvaluated(l,e.Name)})})}}};return at.default=c,at}var ot={},Or;function Mn(){if(Or)return ot;Or=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=Q(),r={keyword:"allOf",schemaType:"array",code(w){const{gen:c,schema:$,it:s}=w;if(!Array.isArray($))throw new Error("ajv implementation error");const h=c.name("valid");$.forEach((a,u)=>{if((0,e.alwaysValidSchema)(s,a))return;const y=w.subschema({keyword:"allOf",schemaProp:u},h);w.ok(h),w.mergeEvaluated(y)})}};return ot.default=r,ot}var it={},jr;function An(){if(jr)return it;jr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=H(),r=Q(),c={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:h,parentSchema:a,it:u}=s;a.then===void 0&&a.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const y=$(u,"then"),m=$(u,"else");if(!y&&!m)return;const b=h.let("valid",!0),N=h.name("_valid");if(k(),s.reset(),y&&m){const E=h.let("ifClause");s.setParams({ifClause:E}),h.if(N,P("then",E),P("else",E))}else y?h.if(N,P("then")):h.if((0,e.not)(N),P("else"));s.pass(b,()=>s.error(!0));function k(){const E=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N);s.mergeEvaluated(E)}function P(E,l){return()=>{const o=s.subschema({keyword:E},N);h.assign(b,N),s.mergeValidEvaluated(o,b),l?h.assign(l,(0,e._)`${E}`):s.setParams({ifClause:E})}}}};function $(s,h){const a=s.schema[h];return a!==void 0&&!(0,r.alwaysValidSchema)(s,a)}return it.default=c,it}var ct={},Tr;function Dn(){if(Tr)return ct;Tr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Q(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:w,parentSchema:c,it:$}){c.if===void 0&&(0,e.checkStrictMode)($,`"${w}" without "if" is ignored`)}};return ct.default=r,ct}var Cr;function Vn(){if(Cr)return Qe;Cr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=Lr(),r=Sn(),w=Gr(),c=Nn(),$=Rn(),s=kn(),h=On(),a=Jr(),u=jn(),y=Tn(),m=Cn(),b=In(),N=qn(),k=Mn(),P=An(),E=Dn();function l(o=!1){const t=[m.default,b.default,N.default,k.default,P.default,E.default,h.default,a.default,s.default,u.default,y.default];return o?t.push(r.default,c.default):t.push(e.default,w.default),t.push($.default),t}return Qe.default=l,Qe}var ut={},lt={},Ir;function Fn(){if(Ir)return lt;Ir=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=H(),w={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:c})=>(0,e.str)`must match format "${c}"`,params:({schemaCode:c})=>(0,e._)`{format: ${c}}`},code(c,$){const{gen:s,data:h,$data:a,schema:u,schemaCode:y,it:m}=c,{opts:b,errSchemaPath:N,schemaEnv:k,self:P}=m;if(!b.validateFormats)return;a?E():l();function E(){const o=s.scopeValue("formats",{ref:P.formats,code:b.code.formats}),t=s.const("fDef",(0,e._)`${o}[${y}]`),d=s.let("fType"),_=s.let("format");s.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>s.assign(d,(0,e._)`${t}.type || "string"`).assign(_,(0,e._)`${t}.validate`),()=>s.assign(d,(0,e._)`"string"`).assign(_,t)),c.fail$data((0,e.or)(f(),i()));function f(){return b.strictSchema===!1?e.nil:(0,e._)`${y} && !${_}`}function i(){const v=k.$async?(0,e._)`(${t}.async ? await ${_}(${h}) : ${_}(${h}))`:(0,e._)`${_}(${h})`,T=(0,e._)`(typeof ${_} == "function" ? ${v} : ${_}.test(${h}))`;return(0,e._)`${_} && ${_} !== true && ${d} === ${$} && !${T}`}}function l(){const o=P.formats[u];if(!o){f();return}if(o===!0)return;const[t,d,_]=i(o);t===$&&c.pass(v());function f(){if(b.strictSchema===!1){P.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${u}" ignored in schema at path "${N}"`}}function i(T){const M=T instanceof RegExp?(0,e.regexpCode)(T):b.code.formats?(0,e._)`${b.code.formats}${(0,e.getProperty)(u)}`:void 0,D=s.scopeValue("formats",{key:u,ref:T,code:M});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,e._)`${D}.validate`]:["string",T,D]}function v(){if(typeof o=="object"&&!(o instanceof RegExp)&&o.async){if(!k.$async)throw new Error("async format in sync schema");return(0,e._)`await ${_}(${h})`}return typeof d=="function"?(0,e._)`${_}(${h})`:(0,e._)`${_}.test(${h})`}}}};return lt.default=w,lt}var qr;function Kn(){if(qr)return ut;qr=1,Object.defineProperty(ut,"__esModule",{value:!0});const r=[Fn().default];return ut.default=r,ut}var we={},Mr;function Un(){return Mr||(Mr=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var Ar;function zn(){if(Ar)return Ie;Ar=1,Object.defineProperty(Ie,"__esModule",{value:!0});const e=fn(),r=Pn(),w=Vn(),c=Kn(),$=Un(),s=[e.default,r.default,(0,w.default)(),c.default,$.metadataVocabulary,$.contentVocabulary];return Ie.default=s,Ie}var dt={},Re={},Dr;function Ln(){if(Dr)return Re;Dr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.DiscrError=void 0;var e;return function(r){r.Tag="tag",r.Mapping="mapping"}(e||(Re.DiscrError=e={})),Re}var Vr;function Gn(){if(Vr)return dt;Vr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=H(),r=Ln(),w=kt(),c=_t(),$=Q(),h={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:u}})=>a===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:a,tag:u,tagName:y}})=>(0,e._)`{error: ${a}, tag: ${y}, tagValue: ${u}}`},code(a){const{gen:u,data:y,schema:m,parentSchema:b,it:N}=a,{oneOf:k}=b;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");const P=m.propertyName;if(typeof P!="string")throw new Error("discriminator: requires propertyName");if(m.mapping)throw new Error("discriminator: mapping is not supported");if(!k)throw new Error("discriminator: requires oneOf keyword");const E=u.let("valid",!1),l=u.const("tag",(0,e._)`${y}${(0,e.getProperty)(P)}`);u.if((0,e._)`typeof ${l} == "string"`,()=>o(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:l,tagName:P})),a.ok(E);function o(){const _=d();u.if(!1);for(const f in _)u.elseIf((0,e._)`${l} === ${f}`),u.assign(E,t(_[f]));u.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:l,tagName:P}),u.endIf()}function t(_){const f=u.name("valid"),i=a.subschema({keyword:"oneOf",schemaProp:_},f);return a.mergeEvaluated(i,e.Name),f}function d(){var _;const f={},i=T(b);let v=!0;for(let F=0;F<k.length;F++){let L=k[F];if(L!=null&&L.$ref&&!(0,$.schemaHasRulesButRef)(L,N.self.RULES)){const W=L.$ref;if(L=w.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,W),L instanceof w.SchemaEnv&&(L=L.schema),L===void 0)throw new c.default(N.opts.uriResolver,N.baseId,W)}const z=(_=L==null?void 0:L.properties)===null||_===void 0?void 0:_[P];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${P}"`);v=v&&(i||T(L)),M(z,F)}if(!v)throw new Error(`discriminator: "${P}" must be required`);return f;function T({required:F}){return Array.isArray(F)&&F.includes(P)}function M(F,L){if(F.const)D(F.const,L);else if(F.enum)for(const z of F.enum)D(z,L);else throw new Error(`discriminator: "properties/${P}" must have "const" or "enum"`)}function D(F,L){if(typeof F!="string"||F in f)throw new Error(`discriminator: "${P}" values must be unique strings`);f[F]=L}}}};return dt.default=h,dt}const Jn="http://json-schema.org/draft-07/schema#",Hn="http://json-schema.org/draft-07/schema#",Bn="Core schema meta-schema",Wn={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Qn=["object","boolean"],Xn={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Yn={$schema:Jn,$id:Hn,title:Bn,definitions:Wn,type:Qn,properties:Xn,default:!0};var Fr;function Zn(){return Fr||(Fr=1,function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const w=un(),c=zn(),$=Gn(),s=Yn,h=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends w.default{_addVocabularies(){super._addVocabularies(),c.default.forEach(P=>this.addVocabulary(P)),this.opts.discriminator&&this.addKeyword($.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const P=this.opts.$data?this.$dataMetaSchema(s,h):s;this.addMetaSchema(P,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}r.Ajv=u,e.exports=r=u,e.exports.Ajv=u,Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var y=yt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return y.KeywordCxt}});var m=H();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var b=Rt();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return b.default}});var N=_t();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return N.default}})}(ke,ke.exports)),ke.exports}var xn=Zn();const ss=Qr(xn);export{ss as A,ns as a,Qr as g};
